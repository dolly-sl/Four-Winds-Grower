var $jot=jQuery.noConflict(),EXIF={};!function(){var t=!1;function r(t,r,o){t.addEventListener?t.addEventListener(r,o,!1):t.attachEvent&&t.attachEvent("on"+r,o)}function o(t){return!!t.exifdata}function n(t,r){BinaryAjax(t.src,function(o){var n=a(o.binaryResponse);t.exifdata=n||{},r&&r()})}function a(r){if(255!=r.getByteAt(0)||216!=r.getByteAt(1))return!1;for(var o=2,n=r.getLength();o<n;){if(255!=r.getByteAt(o))return t&&console.log("Not a valid marker at offset "+o+", found: "+r.getByteAt(o)),!1;var a=r.getByteAt(o+1);if(22400==a)return t&&console.log("Found 0xFFE1 marker"),c(r,o+4,r.getShortAt(o+2,!0)-2);if(225==a)return t&&console.log("Found 0xFFE1 marker"),c(r,o+4,r.getShortAt(o+2,!0)-2);o+=2+r.getShortAt(o+2,!0)}}function l(r,o,n,a,l){for(var c=r.getShortAt(n,l),d={},p=0;p<c;p++){var f=n+12*p+2,m=a[r.getShortAt(f,l)];!m&&t&&console.log("Unknown tag: "+r.getShortAt(f,l)),d[m]=u(r,f,o,n,l)}return d}function u(t,r,o,n,a){var l=t.getShortAt(r+2,a),u=t.getLongAt(r+4,a),c=t.getLongAt(r+8,a)+o;switch(l){case 1:case 7:if(1==u)return t.getByteAt(r+8,a);for(var d=u>4?c:r+8,p=[],f=0;f<u;f++)p[f]=t.getByteAt(d+f);return p;case 2:var m=u>4?c:r+8;return t.getStringAt(m,u-1);case 3:if(1==u)return t.getShortAt(r+8,a);for(var d=u>2?c:r+8,p=[],f=0;f<u;f++)p[f]=t.getShortAt(d+2*f,a);return p;case 4:if(1==u)return t.getLongAt(r+8,a);for(var p=[],f=0;f<u;f++)p[f]=t.getLongAt(c+4*f,a);return p;case 5:if(1==u)return t.getLongAt(c,a)/t.getLongAt(c+4,a);for(var p=[],f=0;f<u;f++)p[f]=t.getLongAt(c+8*f,a)/t.getLongAt(c+4+8*f,a);return p;case 9:if(1==u)return t.getSLongAt(r+8,a);for(var p=[],f=0;f<u;f++)p[f]=t.getSLongAt(c+4*f,a);return p;case 10:if(1==u)return t.getSLongAt(c,a)/t.getSLongAt(c+4,a);for(var p=[],f=0;f<u;f++)p[f]=t.getSLongAt(c+8*f,a)/t.getSLongAt(c+4+8*f,a);return p}}function c(r,o,n){if("Exif"!=r.getStringAt(o,4))return t&&console.log("Not valid EXIF data! "+r.getStringAt(o,4)),!1;var a,u=o+6;if(18761==r.getShortAt(u))a=!1;else{if(19789!=r.getShortAt(u))return t&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;a=!0}if(42!=r.getShortAt(u+2,a))return t&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=r.getLongAt(u+4,a))return t&&console.log("Not valid TIFF data! (First offset not 8)",r.getShortAt(u+4,a)),!1;var c=l(r,u,u+8,EXIF.TiffTags,a);if(c.ExifIFDPointer){var d=l(r,u,u+c.ExifIFDPointer,EXIF.Tags,a);for(var p in d){switch(p){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":d[p]=EXIF.StringValues[p][d[p]];break;case"ExifVersion":case"FlashpixVersion":d[p]=String.fromCharCode(d[p][0],d[p][1],d[p][2],d[p][3]);break;case"ComponentsConfiguration":d[p]=EXIF.StringValues.Components[d[p][0]]+EXIF.StringValues.Components[d[p][1]]+EXIF.StringValues.Components[d[p][2]]+EXIF.StringValues.Components[d[p][3]]}c[p]=d[p]}}if(c.GPSInfoIFDPointer){var f=l(r,u,u+c.GPSInfoIFDPointer,EXIF.GPSTags,a);for(var p in f)"GPSVersionID"===p&&(f[p]=f[p][0]+"."+f[p][1]+"."+f[p][2]+"."+f[p][3]),c[p]=f[p]}return c}function d(){for(var t=document.getElementsByTagName("img"),o=0;o<t.length;o++)"true"==t[o].getAttribute("exif")&&(t[o].complete?EXIF.getData(t[o]):r(t[o],"load",function(){EXIF.getData(this)}))}EXIF.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},EXIF.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},EXIF.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},EXIF.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},EXIF.getData=function(t,r){return!!t.complete&&(o(t)?r&&r():n(t,r),!0)},EXIF.getTag=function(t,r){if(o(t))return t.exifdata[r]},EXIF.pretty=function(t){if(!o(t))return"";var r=t.exifdata,n="";for(var a in r)r.hasOwnProperty(a)&&("object"==typeof r[a]?n+=a+" : ["+r[a].length+" values]\r\n":n+=a+" : "+r[a]+"\r\n");return n},EXIF.readFromBinaryFile=function(t){return a(t)},r(window,"load",d)}();var BinaryFile=function(t,r,o){var n=t,a=r||0,l=0;this.getRawData=function(){return n},"string"==typeof t?(l=o||n.length,this.getByteAt=function(t){return 255&n.charCodeAt(t+a)}):"unknown"==typeof t&&(l=o||IEBinary_getLength(n),this.getByteAt=function(t){return IEBinary_getByteAt(n,t+a)}),this.getLength=function(){return l},this.getSByteAt=function(t){var r=this.getByteAt(t);return r>127?r-256:r},this.getShortAt=function(t,r){var o=r?(this.getByteAt(t)<<8)+this.getByteAt(t+1):(this.getByteAt(t+1)<<8)+this.getByteAt(t);return o<0&&(o+=65536),o},this.getSShortAt=function(t,r){var o=this.getShortAt(t,r);return o>32767?o-65536:o},this.getLongAt=function(t,r){var o=this.getByteAt(t),n=this.getByteAt(t+1),a=this.getByteAt(t+2),l=this.getByteAt(t+3),u=r?(((o<<8)+n<<8)+a<<8)+l:(((l<<8)+a<<8)+n<<8)+o;return u<0&&(u+=4294967296),u},this.getSLongAt=function(t,r){var o=this.getLongAt(t,r);return o>2147483647?o-4294967296:o},this.getStringAt=function(t,r){for(var o=[],n=t,a=0;n<t+r;n++,a++)o[a]=String.fromCharCode(this.getByteAt(n));return o.join("")},this.getCharAt=function(t){return String.fromCharCode(this.getByteAt(t))},this.toBase64=function(){return window.btoa(n)},this.fromBase64=function(t){n=window.atob(t)}},ImageInfo={};!function(){var t=[];function r(r,n,a,l){var u=new BinaryFile(n,0,a),c=o(u);t[r]=c,l&&l()}function o(t){return 255==t.getByteAt(0)&&216==t.getByteAt(1)?l(t):137==t.getByteAt(0)&&"PNG"==t.getStringAt(1,3)?n(t):"GIF"==t.getStringAt(0,3)?a(t):66==t.getByteAt(0)&&77==t.getByteAt(1)?u(t):{format:"UNKNOWN"}}function n(t){var r=t.getLongAt(16,!0),o=t.getLongAt(20,!0),n=t.getByteAt(24),a=t.getByteAt(25),l=n;return 4==a&&(l*=2),2==a&&(l*=3),6==a&&(l*=4),{format:"PNG",version:"",width:r,height:o,bpp:l,alpha:t.getByteAt(25)>=4,exif:{}}}function a(t){var r,o=t.getStringAt(3,3),n=t.getShortAt(6);return{format:"GIF",version:o,width:n,height:t.getShortAt(8),bpp:(t.getByteAt(10)>>4&7)+1,alpha:!1,exif:{}}}function l(t){for(var r=0,o=0,n=0,a=t.getLength(),l=2;l<a;){var u=t.getShortAt(l,!0);if(l+=2,65472==u){o=t.getShortAt(l+3,!0),r=t.getShortAt(l+5,!0),n=t.getByteAt(l+7,!0);break}l+=t.getShortAt(l,!0)}var c={};return void 0!==EXIF&&EXIF.readFromBinaryFile&&(c=EXIF.readFromBinaryFile(t)),{format:"JPEG",version:"",width:r,height:o,bpp:8*n,alpha:!1,exif:c}}function u(t){var r,o=t.getLongAt(18);return{format:"BMP",version:"",width:o,height:t.getLongAt(22),bpp:t.getShortAt(28),alpha:!1,exif:{}}}ImageInfo.loadInfo=function(o,n){t[o.filename]?n&&n():r(o.filename,o.binary,o.size,n)},ImageInfo.getAllFields=function(r){if(!t[r])return null;var o={};for(var n in t[r])t[r].hasOwnProperty(n)&&(o[n]=t[r][n]);return o},ImageInfo.getField=function(r,o){return t[r]?t[r][o]:null}}();var qq=qq||{};qq.disableSubmitButton=function(){document.querySelectorAll(".form-submit-button")&&document.querySelectorAll(".form-submit-button").each(function(t){"form-submit-button lastDisabled"!=t.className&&(t.disable(),t.innerHTML=JotForm.texts.pleaseWait,t.addClassName("disabled"))})},qq.enableSubmitButton=function(){document.querySelectorAll("ul.qq-upload-list li").size()-document.querySelectorAll("ul.qq-upload-list li.qq-upload-fail").size()==document.querySelectorAll("ul.qq-upload-list li.qq-upload-success").size()&&document.querySelectorAll(".form-submit-button")&&document.querySelectorAll(".form-submit-button").each(function(t){"form-submit-button lastDisabled"!=t.className&&(t.enable(),t.className.indexOf("disabled")>-1?t.removeClassName("disabled"):t.className="form-submit-button",void 0===t.oldText&&null!==CardForm.layoutParams.reviewBeforeSubmit?t.innerHTML=CardForm.layoutParams.reviewBeforeSubmit.reviewText:t.innerHTML=t.oldText)})},qq.extend=function(t,r){for(var o in r)t[o]=r[o]},qq.indexOf=function(t,r,o){if(t.indexOf)return t.indexOf(r,o);o=o||0;var n=t.length;for(o<0&&(o+=n);o<n;o++)if(o in t&&t[o]===r)return o;return -1},qq.getUniqueId=function(){var t=0;return function(){return t++}}(),qq.attach=function(t,r,o){t.addEventListener?t.addEventListener(r,o,!1):t.attachEvent&&t.attachEvent("on"+r,o)},qq.detach=function(t,r,o){t.removeEventListener?t.removeEventListener(r,o,!1):t.attachEvent&&t.detachEvent("on"+r,o)},qq.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},qq.insertBefore=function(t,r){r.parentNode.insertBefore(t,r)},qq.remove=function(t){t.parentNode.removeChild(t)},qq.contains=function(t,r){return t==r||(t.contains?t.contains(r):!!(8&r.compareDocumentPosition(t)))},qq.toElement=function(){var t=document.createElement("div");return function(r){t.innerHTML=r;var o=t.firstChild;return t.removeChild(o),o}}(),qq.css=function(t,r){null!==r.opacity&&"string"!=typeof t.style.opacity&&void 0!==t.filters&&(r.filter="alpha(opacity="+Math.round(100*r.opacity)+")"),qq.extend(t.style,r)},qq.hasClass=function(t,r){return RegExp("(^| )"+r+"( |$jot)").test(t.className)},qq.addClass=function(t,r){qq.hasClass(t,r)||(t.className+=" "+r)},qq.removeClass=function(t,r){var o=RegExp("(^| )"+r+"( |$jot)");t.className=t.className.replace(o," ").replace(/^\s+|\s+$jot/g,"")},qq.setText=function(t,r){t.innerText=r,t.textContent=r},qq.children=function(t){for(var r=[],o=t.firstChild;o;)1==o.nodeType&&r.push(o),o=o.nextSibling;return r},qq.getByClass=function(t,r){if(t.querySelectorAll)return t.querySelectorAll("."+r);for(var o=[],n=t.getElementsByTagName("*"),a=n.length,l=0;l<a;l++)qq.hasClass(n[l],r)&&o.push(n[l]);return o},qq.obj2url=function(t,r,o){var n,a=[],l="&",u=function(t,o){var n=r?/\[\]$jot/.test(r)?r:r+"["+o+"]":o;"undefined"!=n&&"undefined"!=o&&a.push("object"==typeof t?qq.obj2url(t,n,!0):"[object Function]"===Object.prototype.toString.call(t)?encodeURIComponent(n)+"="+encodeURIComponent(t()):encodeURIComponent(n)+"="+encodeURIComponent(t))};if(!o&&r)l=/\?/.test(r)?/\?$jot/.test(r)?"":"&":"?",a.push(r),a.push(qq.obj2url(t));else if("[object Array]"===Object.prototype.toString.call(t)&&void 0!==t)for(n=0,len=t.length;n<len;++n)u(t[n],n);else if(null!=t&&"object"==typeof t)for(n in t)u(t[n],n);else a.push(encodeURIComponent(r)+"="+encodeURIComponent(t));return a.join(l).replace(/^&/,"").replace(/%20/g,"+")},(qq=qq||{}).FileUploaderBasic=function(t){this._options={debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,fileLimit:0,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,cancelText:"Cancel",ofText:"of",onSubmit:function(t,r){},onProgress:function(t,r,o,n){},onComplete:function(t,r,o){},onCancel:function(t,r){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled.",fileLimitError:"Only {fileLimit} file uploads allowed."},showMessage:function(t){alert(t)}},qq.extend(this._options,t),this._filesInProgress=0,this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FileUploaderBasic.prototype={setParams:function(t){this._options.params=t},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(t){var r=this;return new qq.UploadButton({element:t,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(t){r._onInputChange(t)}})},_createUploadHandler:function(){var t,r=this;return new qq[t=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm"]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(t,o,n,a){r._onProgress(t,o,n,a),r._options.onProgress(t,o,n,a)},onComplete:function(t,o,n){r._onComplete(t,o,n),r._options.onComplete(t,o,n)},onCancel:function(t,o){r._onCancel(t,o),r._options.onCancel(t,o)}})},_preventLeaveInProgress:function(){var t=this;qq.attach(window,"beforeunload",function(r){if(t._filesInProgress)return(r=r||window.event).returnValue=t._options.messages.onLeave,t._options.messages.onLeave})},_onSubmit:function(t,r){this._filesInProgress++},_onProgress:function(t,r,o,n){},_onComplete:function(t,r,o){this._filesInProgress--,o.error&&this._options.showMessage(o.error)},_onCancel:function(t,r){this._filesInProgress--},_onInputChange:function(t){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(t.files):this._validateFile(t)&&this._uploadFile(t);var r=t.parentElement;if(r){var o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!0),r.dispatchEvent(o)}this._button.reset()},_uploadFileList:function(t){var r;for(r=0;r<t.length;r++)if(!this._validateFile(t[r],t))return;for(r=0;r<t.length;r++)this._uploadFile(t[r])},_uploadFile:function(t){qq.disableSubmitButton();var r=this._handler.add(t),o=this._handler.getName(r);!1!==this._options.onSubmit(r,o)&&(this._onSubmit(r,o),this._handler.upload(r,this._options.params))},_validateFile:function(t,r){var o,n;if(t.value?o=t.value.replace(/.*(\/|\\)/,""):(o=t.fileName?t.fileName:t.name,n=t.fileSize?t.fileSize:t.size),"file"==o)return!1;if(!this._isAllowedExtension(o))return this._error("typeError",o),!1;if(0===n)return this._error("emptyError",o),!1;if(n&&this._options.sizeLimit&&n>this._options.sizeLimit)return this._error("sizeError",o),!1;if(n&&n<this._options.minSizeLimit)return this._error("minSizeError",o),!1;if(this._options.fileLimit>0&&this._element.select(".qq-upload-list").length>0&&this._element.select(".qq-upload-list")[0].select("li").length-this._element.select(".qq-upload-list")[0].select("li.file-deleted").length+r.length>this._options.fileLimit)return this._error("fileLimitError",o),!1;return!0},_error:function(t,r){var o=this._options.messages[t];function n(t,r){o=o.replace(t,r)}n("{file}",this._formatFileName(r)),n("{extensions}",this._options.allowedExtensions.join(", ")),n("{sizeLimit}",this._formatSize(this._options.sizeLimit)),n("{minSizeLimit}",this._formatSize(this._options.minSizeLimit)),n("{fileLimit}",this._options.fileLimit),this._options.showMessage(o)},_formatFileName:function(t){return t.length>33&&(t=t.slice(0,19)+"..."+t.slice(-13)),t},_isAllowedExtension:function(t){var r=-1!==t.indexOf(".")?t.replace(/.*[.]/,"").toLowerCase():"",o=this._options.allowedExtensions;if(!o.length)return!0;for(var n=0;n<o.length;n++)if(o[n].toLowerCase()==r)return!0;return!1},_formatSize:function(t){var r=-1;do t/=1024,r++;while(t>99);return Math.max(t,.1).toFixed(1)+["KB","MB","GB","TB","PB","EB"][r]}},qq.getUploaderTemplate=function(t){return'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button {buttonStyle}">'+t+'</div><div class="inputContainer" style="overflow: hidden; position: absolute; top: 0; right: 0"></div><div class="form-sub-label">{subLabel}</div><span style="display:none" class="multipleFileUploadLabels cancelText">{cancel}</span><span style="display:none" class="multipleFileUploadLabels ofText">{of}</span><ul class="qq-upload-list"></ul></div>'},qq.getUploadedFileTemplate=function(){return'<li><span class="qq-upload-file qq-file-uploading"></span><span class="qq-upload-spinner"></span><a class="qq-upload-cancel" href="#">{Cancel}</a><span class="qq-upload-size"></span><span class="qq-upload-failed-text">Failed</span><span class="qq-upload-delete">X</span></li>'},qq.getUploaderSelectors=function(){return{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",deleteItem:"qq-upload-delete",uploading:"qq-file-uploading",success:"qq-upload-success",fail:"qq-upload-fail"}},qq.FileUploader=function(t){qq.FileUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,subLabel:"",buttonText:"",template:qq.getUploaderTemplate(this._options.buttonText),fileTemplate:qq.getUploadedFileTemplate(),classes:qq.getUploaderSelectors()}),qq.extend(this._options,t),this._element=this._options.element,this._element.innerHTML=this._options.template.replace("{subLabel}",this._options.subLabel).replace("{of}",this._options.ofText).replace("{cancel}",this._options.cancelText),this._options.buttonStyle?this._element.innerHTML=this._element.innerHTML.replace("{buttonStyle}",this._options.buttonStyle):this._element.innerHTML=this._element.innerHTML.replace("{buttonStyle}",""),this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button=this._createUploadButton(this._find(this._element,"button")),this._bindCancelEvent(),this._setupDragDrop()},qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype),qq.extend(qq.FileUploader.prototype,{_find:function(t,r){var o=qq.getByClass(t,this._options.classes[r])[0];if(!o)throw Error("element not found "+r);return o},_setupDragDrop:function(){var t=this,r=this._find(this._element,"drop"),o=new qq.UploadDropZone({element:r,onEnter:function(o){qq.addClass(r,t._classes.dropActive),o.stopPropagation()},onLeave:function(t){t.stopPropagation()},onLeaveNotDescendants:function(o){qq.removeClass(r,t._classes.dropActive)},onDrop:function(o){document.querySelectorAll(".qq-upload-drop-area").each(function(t){t.hide()}),qq.removeClass(r,t._classes.dropActive),t._uploadFileList(o.dataTransfer.files)}});r.style.display="none",qq.attach(document,"dragenter",function(t){o._isValidFileDrag(t)&&(r.style.display="block")}),qq.attach(document,"dragleave",function(t){if(o._isValidFileDrag(t)){var n=document.elementFromPoint(t.clientX,t.clientY);n&&"HTML"!=n.nodeName&&"FORM"!=n.nodeName||(r.style.display="none"),0===t.pageX&&0===t.pageY&&(r.style.display="none")}})},_onSubmit:function(t,r){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(t,r)},_onProgress:function(t,r,o,n){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var a,l=this._getItemByFileId(t),u=this._find(l,"size");u.style.display="inline",a=o!=n?Math.round(o/n*100)+"% "+this._listElement.up(".form-line").down(".ofText").innerText+" "+this._formatSize(n):this._formatSize(n),qq.setText(u,a)},_onComplete:function(t,r,o){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var n=this._getItemByFileId(t);qq.remove(this._find(n,"cancel")),qq.remove(this._find(n,"spinner")),this._find(n,"uploading").className="qq-upload-file","message"in o&&n.writeAttribute("actual-filename",o.message),o.success?qq.addClass(n,this._classes.success):qq.addClass(n,this._classes.fail);var a=n.up(".form-line").id.split("id_")[1];JotForm.runConditionForId(a),"function"==typeof qq.onUploadComplete&&qq.onUploadComplete(n,t,r,o,a),qq.enableSubmitButton()},_addToList:function(t,r){var o=this._listElement.up(".form-line").down(".cancelText").innerText,n=qq.toElement(this._options.fileTemplate.replace(/\{Cancel\}/,o));n.qqFileId=t;var a=this._find(n,"file");qq.setText(a,this._formatFileName(r)),this._find(n,"size").style.display="none";var l=this._options;qq.attach(this._find(n,"deleteItem"),"click",function(){var t=n.readAttribute("actual-filename")?n.readAttribute("actual-filename"):r,o=n.up(".form-line").id.split("id_")[1],a=n.className.indexOf("fail")>=0;if("JotForm"in window){var u=n.parentElement;a?($jot(n).remove(),JotForm.corrected(n),JotForm.runConditionForId(o),u&&u.dispatchEvent(new Event("change",{bubbles:!0}))):new Ajax.Jsonp(JotForm.server,{parameters:{action:"removeTempUpload",tempFolder:l.params.folder,field:l.params.field,fileName:t},evalJSON:"force",onComplete:function(r){(r=r.responseJSON||r).success?($jot(n).remove(),JotForm.corrected(n),JotForm.runConditionForId(o),"function"==typeof l.onDelete&&l.onDelete(l.params.folder,l.params.field,t),"function"==typeof qq.onDelete&&qq.onDelete(o,l.params.folder,l.params.field,t)):JotForm.errored(n,r.error),u&&u.dispatchEvent(new Event("change",{bubbles:!0}))}})}}),this._listElement.appendChild(n)},_getItemByFileId:function(t){for(var r=this._listElement.firstChild;r;){if(r.qqFileId==t)return r;r=r.nextSibling}},_bindCancelEvent:function(){var t=this,r=this._listElement;qq.attach(r,"click",function(r){var o=(r=r||window.event).target||r.srcElement;if(qq.hasClass(o,t._classes.cancel)){qq.preventDefault(r);var n=o.parentNode;t._handler.cancel(n.qqFileId),qq.remove(n)}})}}),qq.UploadDropZone=function(t){this._options={element:null,onEnter:function(t){},onLeave:function(t){},onLeaveNotDescendants:function(t){},onDrop:function(t){}},qq.extend(this._options,t),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_disableDropOutside:function(t){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none",t.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var t=this;qq.attach(t._element,"dragover",function(r){if(t._isValidFileDrag(r)){var o=r.dataTransfer.effectAllowed;"move"==o||"linkMove"==o?r.dataTransfer.dropEffect="move":r.dataTransfer.dropEffect="copy",r.stopPropagation(),r.preventDefault()}}),qq.attach(t._element,"dragenter",function(r){t._isValidFileDrag(r)&&t._options.onEnter(r)}),qq.attach(t._element,"dragleave",function(r){if(t._isValidFileDrag(r)){t._options.onLeave(r);var o=document.elementFromPoint(r.clientX,r.clientY);!qq.contains(this,o)&&t._options.onLeaveNotDescendants(r)}}),qq.attach(t._element,"drop",function(r){t._isValidFileDrag(r)&&(r.preventDefault(),t._options.onDrop(r))})},_isValidFileDrag:function(t){var r=t.dataTransfer,o=navigator.userAgent.indexOf("AppleWebKit")>-1;return r&&"none"!=r.effectAllowed&&(r.files||!o&&r.types.contains&&r.types.contains("Files"))}},qq.UploadButton=function(t){this._options={element:null,multiple:!1,name:"file",onChange:function(t){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,t),this._element=this._options.element,qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input),qq.removeClass(this._element,this._options.focusClass),this._input=this._createInput()},_createInput:function(){var t=document.createElement("input");this._options.multiple&&t.setAttribute("multiple","multiple"),t.setAttribute("type","file"),t.setAttribute("name",this._options.name),qq.css(t,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});var r=this._element.up().down(".inputContainer");if(r.update(t),0===this._element.getWidth()&&0===this._element.getHeight())r.setStyle({width:"100%",height:"100%"});else{var o=this._element.getWidth()>200?this._element.getWidth():224,n=this._element.getHeight()>20?this._element.getHeight():45;r.setStyle({width:o+"px",height:n+"px"})}var a=this;return qq.attach(t,"change",function(){a._options.onChange(t)}),qq.attach(t,"mouseover",function(){qq.addClass(a._element,a._options.hoverClass)}),qq.attach(t,"mouseout",function(){qq.removeClass(a._element,a._options.hoverClass)}),qq.attach(t,"focus",function(){qq.addClass(a._element,a._options.focusClass)}),qq.attach(t,"blur",function(){qq.removeClass(a._element,a._options.focusClass)}),window.attachEvent&&t.setAttribute("tabIndex","-1"),t}},qq.UploadHandlerAbstract=function(t){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(t,r,o,n){},onComplete:function(t,r,o){},onCancel:function(t,r){}},qq.extend(this._options,t),this._queue=[],this._params=[]},qq.UploadHandlerAbstract.prototype={log:function(t){this._options.debug&&window.console&&console.log("[uploader] "+t)},add:function(t){},upload:function(t,r){var o=this._queue.push(t),n={};qq.extend(n,r),this._params[t]=n,o<=this._options.maxConnections&&this._upload(t,this._params[t])},cancel:function(t){this._cancel(t),this._dequeue(t)},cancelAll:function(){for(var t=0;t<this._queue.length;t++)this._cancel(this._queue[t]);this._queue=[]},getName:function(t){},getSize:function(t){},getQueue:function(){return this._queue},_upload:function(t){},_cancel:function(t){},_dequeue:function(t){var r=qq.indexOf(this._queue,t);this._queue.splice(r,1);var o=this._options.maxConnections;if(this._queue.length>=o){var n=this._queue[o-1];this._upload(n,this._params[n])}}},qq.UploadHandlerForm=function(t){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(t){t.setAttribute("name","qqfile");var r="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[r]=t,t.parentNode&&qq.remove(t),r},getName:function(t){return this._inputs[t].value.replace(/.*(\/|\\)/,"")},_cancel:function(t){this._options.onCancel(t,this.getName(t)),delete this._inputs[t];var r=document.getElementById(t);r&&(r.setAttribute("src","javascript:false;"),qq.remove(r))},_upload:function(t,r){var o=this._inputs[t];if(!o)throw Error("file with passed id was not added, or already uploaded or cancelled");var n=this.getName(t),a=this._createIframe(t),l=this._createForm(a,r);l.appendChild(o);var u=this;return this._attachLoadEvent(a,function(){u.log("iframe loaded");var r=u._getIframeContentJSON(a);u._options.onComplete(t,n,r),u._dequeue(t),delete u._inputs[t],setTimeout(function(){qq.remove(a)},1)}),l.submit(),qq.remove(l),t},_attachLoadEvent:function(t,r){qq.attach(t,"load",function(){if(t.parentNode){try{if(t.contentDocument&&t.contentDocument.body&&"false"==t.contentDocument.body.innerHTML)return}catch(o){}r()}})},_getIframeContentJSON:function(iframe){try{var response,doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={}}}catch(e){response={success:!0}}return response},_createIframe:function(t){var r=qq.toElement('<iframe src="javascript:false;" name="'+t+'" />');return r.setAttribute("id",t),r.style.display="none",document.body.appendChild(r),r},_createForm:function(t,r){var o=qq.toElement('<form method="post" enctype="multipart/form-data"></form>'),n=qq.obj2url(r,this._options.action);return o.setAttribute("action",n),o.setAttribute("target",t.name),o.style.display="none",document.body.appendChild(o),o}}),qq.UploadHandlerXhr=function(t){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var t=document.createElement("input");return t.type="file","multiple"in t&&"undefined"!=typeof File&&void 0!==new XMLHttpRequest().upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(t){if(!(t instanceof File))throw Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return"function"==typeof qq.onUploadAdd&&qq.onUploadAdd(t,this._files),this._files.push(t)-1},getName:function(t){var r=this._files[t],o=null!==r.fileName?r.fileName:r.name;return o||r.name},getSize:function(t){var r=this._files[t];return r.fileSize?r.fileSize:r.size},getLoaded:function(t){return this._loaded[t]||0},_upload:function(t,r){var o=this._files[t],n=this.getName(t);this.getSize(t),this._loaded[t]=0;var a=this._xhrs[t]=new XMLHttpRequest,l=this;a.upload.onprogress=function(r){r.lengthComputable&&(l._loaded[t]=r.loaded,l._options.onProgress(t,n,r.loaded,r.total))},a.onreadystatechange=function(){4==a.readyState&&l._onComplete(t,a)},(r=r||{}).qqfile=n;var u=qq.obj2url(r,this._options.action);a.open("POST",u,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("X-File-Name",encodeURIComponent(n)),a.setRequestHeader("Content-Type","application/octet-stream"),a.send(o)},_onComplete:function(id,xhr){if(this._files[id]){var response,name=this.getName(id),size=this.getSize(id);if(this._options.onProgress(id,name,size,size),200==xhr.status){this.log("responseText = "+xhr.responseText);try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null,this._xhrs[id]=null,this._dequeue(id)}},_cancel:function(t){this._options.onCancel(t,this.getName(t)),this._files[t]=null,this._xhrs[t]&&(this._xhrs[t].abort(),this._xhrs[t]=null),setTimeout(function(){qq.enableSubmitButton()},100)}});var Prototype={Version:"1.7",Browser:function(){var t=navigator.userAgent,r="[object Opera]"==Object.prototype.toString.call(window.opera);return{IE:!!window.attachEvent&&!r,IE9:"documentMode"in document&&9==document.documentMode,IE10:"documentMode"in document&&10==document.documentMode,Opera:r,WebKit:t.indexOf("AppleWebKit/")>-1,Gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML"),MobileSafari:/Apple.*Mobile/.test(t)}}(),BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:function(){var t=window.Element||window.HTMLElement;return!!(t&&t.prototype)}(),SpecificElementExtensions:function(){if(void 0!==window.HTMLDivElement)return!0;var t=document.createElement("div"),r=document.createElement("form"),o=!1;return t.__proto__&&t.__proto__!==r.__proto__&&(o=!0),t=r=null,o}()},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$jot/,emptyFunction:function(){},K:function(t){return t}};Prototype.Browser.MobileSafari&&(Prototype.BrowserFeatures.SpecificElementExtensions=!1);var Abstract={},Try={these:function(){for(var t,r=0,o=arguments.length;r<o;r++){var n=arguments[r];try{t=n();break}catch(a){}}return t}},Class=function(){var t=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();function r(){}function o(){var t=null,o=$jotA(arguments);function n(){this.initialize.apply(this,arguments)}Object.isFunction(o[0])&&(t=o.shift()),Object.extend(n,Class.Methods),n.superclass=t,n.subclasses=[],t&&(r.prototype=t.prototype,n.prototype=new r,t.subclasses.push(n));for(var a=0,l=o.length;a<l;a++)n.addMethods(o[a]);return n.prototype.initialize||(n.prototype.initialize=Prototype.emptyFunction),n.prototype.constructor=n,n}function n(r){var o=this.superclass&&this.superclass.prototype,n=Object.keys(r);t&&(r.toString!=Object.prototype.toString&&n.push("toString"),r.valueOf!=Object.prototype.valueOf&&n.push("valueOf"));for(var a=0,l=n.length;a<l;a++){var u=n[a],c=r[u];if(o&&Object.isFunction(c)&&"$jotsuper"==c.argumentNames()[0]){var d=c;(c=(function(t){return function(){return o[t].apply(this,arguments)}})(u).wrap(d)).valueOf=d.valueOf.bind(d),c.toString=d.toString.bind(d)}this.prototype[u]=c}return this}return{create:o,Methods:{addMethods:n}}}();!function(){var t=Object.prototype.toString,r="Null",o="Undefined",n="Boolean",a="Number",l="String",u="Object",c="[object Function]",d="[object Boolean]",p="[object Number]",f="[object String]",m="[object Array]",h="[object Date]",g=window.JSON&&"function"==typeof JSON.stringify&&"0"===JSON.stringify(0)&&void 0===JSON.stringify(Prototype.K);function v(t){switch(t){case null:return r;case void 0:return o}var c=typeof t;switch(c){case"boolean":return n;case"number":return a;case"string":return l}return u}function y(t,r){for(var o in r)t[o]=r[o];return t}function $(t){try{if(P(t))return"undefined";if(null===t)return"null";return t.inspect?t.inspect():String(t)}catch(r){if(r instanceof RangeError)return"...";throw r}}function b(t){return _("",{"":t},[])}function _(r,o,n){var a=o[r],l=typeof a;v(a)===u&&"function"==typeof a.toJSON&&(a=a.toJSON(r));var c=t.call(a);switch(c){case p:case d:case f:a=a.valueOf()}switch(a){case null:return"null";case!0:return"true";case!1:return"false"}switch(l=typeof a){case"string":return a.inspect(!0);case"number":return isFinite(a)?String(a):"null";case"object":for(var h=0,g=n.length;h<g;h++)if(n[h]===a)throw TypeError();n.push(a);var y=[];if(c===m){for(var h=0,g=a.length;h<g;h++){var $=_(h,a,n);y.push(void 0===$?"null":$)}y="["+y.join(",")+"]"}else{for(var b=Object.keys(a),h=0,g=b.length;h<g;h++){var r=b[h],$=_(r,a,n);void 0!==$&&y.push(r.inspect(!0)+":"+$)}y="{"+y.join(",")+"}"}return n.pop(),y}}function F(t){return JSON.stringify(t)}function j(t){return $jotH(t).toQueryString()}function S(t){return t&&t.toHTML?t.toHTML():String.interpret(t)}function C(t){if(v(t)!==u)throw TypeError();var r=[];for(var o in t)t.hasOwnProperty(o)&&r.push(o);return r}function w(t){var r=[];for(var o in t)r.push(t[o]);return r}function A(t){return y({},t)}function E(t){return!!(t&&1==t.nodeType)}function q(r){return t.call(r)===m}function T(t){return t instanceof Hash}function N(r){return t.call(r)===c}function J(r){return t.call(r)===f}function D(r){return t.call(r)===p}function O(r){return t.call(r)===h}function P(t){return void 0===t}"function"==typeof Array.isArray&&Array.isArray([])&&!Array.isArray({})&&(q=Array.isArray),y(Object,{extend:y,inspect:$,toJSON:g?F:b,toQueryString:j,toHTML:S,keys:Object.keys||C,values:w,clone:A,isElement:E,isArray:q,isHash:T,isFunction:N,isString:J,isNumber:D,isDate:O,isUndefined:P})}(),Object.extend(Function.prototype,function(){var t=Array.prototype.slice;function r(t,r){for(var o=t.length,n=r.length;n--;)t[o+n]=r[n];return t}function o(o,n){return r(o=t.call(o,0),n)}function n(){var t=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=t.length||t[0]?t:[]}function a(r){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var n=this,a=t.call(arguments,1);return function(){var t=o(a,arguments);return n.apply(r,t)}}function l(o){var n=this,a=t.call(arguments,1);return function(t){var l=r([t||window.event],a);return n.apply(o,l)}}function u(){if(!arguments.length)return this;var r=this,n=t.call(arguments,0);return function(){var t=o(n,arguments);return r.apply(this,t)}}function c(r){var o=this,n=t.call(arguments,1);return r*=1e3,window.setTimeout(function(){return o.apply(o,n)},r)}function d(){var t=r([.01],arguments);return this.delay.apply(this,t)}function p(t){var o=this;return function(){var n=r([o.bind(this)],arguments);return t.apply(this,n)}}function f(){if(this._methodized)return this._methodized;var t=this;return this._methodized=function(){var o=r([this],arguments);return t.apply(null,o)}}return{argumentNames:n,bind:a,bindAsEventListener:l,curry:u,delay:c,p_defer:d,wrap:p,methodize:f}}()),function(t){function r(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"}function o(){return this.toISOString()}t.toISOString||(t.toISOString=r),t.toJSON||(t.toJSON=o)}(Date.prototype),RegExp.prototype.match=RegExp.prototype.test,RegExp.escape=function(t){return String(t).replace(/([.*+?^=!:$jot{}()|[\]\/\\])/g,"\\$jot1")};var PeriodicalExecuter=Class.create({initialize:function(t,r){this.callback=t,this.frequency=r,this.currentlyExecuting=!1,this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},execute:function(){this.callback(this)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.execute(),this.currentlyExecuting=!1}catch(t){throw this.currentlyExecuting=!1,t}}});Object.extend(String,{interpret:function(t){return null==t?"":String(t)},specialChar:{"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),Object.extend(String.prototype,function(){var NATIVE_JSON_PARSE_SUPPORT=window.JSON&&"function"==typeof JSON.parse&&JSON.parse('{"test": true}').test;function prepareReplacement(t){if(Object.isFunction(t))return t;var r=new Template(t);return function(t){return r.evaluate(t)}}function gsub(t,r){var o,n="",a=this;if(r=prepareReplacement(r),Object.isString(t)&&(t=RegExp.escape(t)),!(t.length||t.source))return(r=r(""))+a.split("").join(r)+r;for(;a.length>0;)(o=a.match(t))?(n+=a.slice(0,o.index),n+=String.interpret(r(o)),a=a.slice(o.index+o[0].length)):(n+=a,a="");return n}function sub(t,r,o){return r=prepareReplacement(r),o=Object.isUndefined(o)?1:o,this.gsub(t,function(t){return--o<0?t[0]:r(t)})}function scan(t,r){return this.gsub(t,r),String(this)}function truncate(t,r){return t=t||30,r=Object.isUndefined(r)?"...":r,this.length>t?this.slice(0,t-r.length)+r:String(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$jot/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function stripScripts(){return this.replace(RegExp(Prototype.ScriptFragment,"img"),"")}function extractScripts(){var t=RegExp(Prototype.ScriptFragment,"img"),r=RegExp(Prototype.ScriptFragment,"im");return(this.match(t)||[]).map(function(t){return(t.match(r)||["",""])[1]})}function evalScripts(){return this.extractScripts().map(function(script){return eval(script)})}function escapeHTML(){return this.replace(/&/g,"&amp;").replace(/&amp;amp;/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescapeHTML(){return this.stripTags().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function toQueryParams(t){var r=this.strip().match(/([^?#]*)(#.*)?$jot/);return r?r[1].split(t||"&").inject({},function(t,r){if((r=r.split("="))[0]){var o=decodeURIComponent(r.shift()),n=r.length>1?r.join("="):r[0];if(void 0!=n)try{n=decodeURIComponent(n)}catch(a){n=unescape(n)}o in t?(Object.isArray(t[o])||(t[o]=[t[o]]),t[o].push(n)):t[o]=n}return t}):{}}function toArray(){return this.split("")}function succ(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)}function times(t){return t<1?"":Array(t+1).join(this)}function camelize(){return this.replace(/-+(.)?/g,function(t,r){return r?r.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}function underscore(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$jot1_$jot2").replace(/([a-z\d])([A-Z])/g,"$jot1_$jot2").replace(/-/g,"_").toLowerCase()}function dasherize(){return this.replace(/_/g,"-")}function inspect(t){var r=this.replace(/[\x00-\x1f\\]/g,function(t){return t in String.specialChar?String.specialChar[t]:"\\u00"+t.charCodeAt().toPaddedString(2,16)});return t?'"'+r.replace(/"/g,'\\"')+'"':"'"+r.replace(/'/g,"\\'")+"'"}function unfilterJSON(t){return this.replace(t||Prototype.JSONFilter,"$jot1")}function isJSON(){var t=this;return!t.blank()&&(t=(t=(t=t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@")).replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]")).replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$jot/.test(t))}function evalJSON(sanitize){var json=this.unfilterJSON(),cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;cx.test(json)&&(json=json.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}));try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){}throw SyntaxError("Badly formed JSON string: "+this.inspect())}function parseJSON(){return JSON.parse(this.unfilterJSON())}function include(t){return this.indexOf(t)>-1}function startsWith(t){return 0===this.lastIndexOf(t,0)}function endsWith(t){var r=this.length-t.length;return r>=0&&this.indexOf(t,r)===r}function empty(){return this==""}function blank(){return/^\s*$jot/.test(this)}function interpolate(t,r){return new Template(this,r).evaluate(t)}return{gsub:gsub,sub:sub,scan:scan,truncate:truncate,strip:String.prototype.trim||strip,stripTags:stripTags,stripScripts:stripScripts,extractScripts:extractScripts,evalScripts:evalScripts,escapeHTML:escapeHTML,unescapeHTML:unescapeHTML,toQueryParams:toQueryParams,parseQuery:toQueryParams,toArray:toArray,succ:succ,times:times,camelize:camelize,capitalize:capitalize,underscore:underscore,dasherize:dasherize,inspect:inspect,unfilterJSON:unfilterJSON,isJSON:isJSON,evalJSON:NATIVE_JSON_PARSE_SUPPORT?parseJSON:evalJSON,include:include,startsWith:startsWith,endsWith:endsWith,empty:empty,blank:blank,interpolate:interpolate}}());var Template=Class.create({initialize:function(t,r){this.template=t.toString(),this.pattern=r||Template.Pattern},evaluate:function(t){return t&&Object.isFunction(t.toTemplateReplacements)&&(t=t.toTemplateReplacements()),this.template.gsub(this.pattern,function(r){if(null==t)return r[1]+"";var o=r[1]||"";if("\\"==o)return r[2];var n=t,a=r[3],l=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$jot)/;if(null==(r=l.exec(a)))return o;for(;null!=r&&null!=(n=n[r[1].startsWith("[")?r[2].replace(/\\\\]/g,"]"):r[1]])&&""!=r[3];){a=a.substring("["==r[3]?r[1].length:r[0].length),r=l.exec(a)}return o+String.interpret(n)})}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $jotbreak={},Enumerable=function(){function t(t,r){var o=0;try{this._each(function(n){t.call(r,n,o++)})}catch(n){if(n!=$jotbreak)throw n}return this}function r(t,r,o){var n=-t,a=[],l=this.toArray();if(t<1)return l;for(;(n+=t)<l.length;)a.push(l.slice(n,n+t));return a.collect(r,o)}function o(t,r){t=t||Prototype.K;var o=!0;return this.each(function(n,a){if(!(o=o&&!!t.call(r,n,a)))throw $jotbreak}),o}function n(t,r){t=t||Prototype.K;var o=!1;return this.each(function(n,a){if(o=!!t.call(r,n,a))throw $jotbreak}),o}function a(t,r){t=t||Prototype.K;var o=[];return this.each(function(n,a){o.push(t.call(r,n,a))}),o}function l(t,r){var o;return this.each(function(n,a){if(t.call(r,n,a))throw o=n,$jotbreak}),o}function u(t,r){var o=[];return this.each(function(n,a){t.call(r,n,a)&&o.push(n)}),o}function c(t,r,o){r=r||Prototype.K;var n=[];return Object.isString(t)&&(t=RegExp(RegExp.escape(t))),this.each(function(a,l){t.match(a)&&n.push(r.call(o,a,l))}),n}function d(t){if(Object.isFunction(this.indexOf)&&-1!=this.indexOf(t))return!0;var r=!1;return this.each(function(o){if(o==t)throw r=!0,$jotbreak}),r}function p(t,r){return r=Object.isUndefined(r)?null:r,this.eachSlice(t,function(o){for(;o.length<t;)o.push(r);return o})}function f(t,r,o){return this.each(function(n,a){t=r.call(o,t,n,a)}),t}function m(t){var r=$jotA(arguments).slice(1);return this.map(function(o){return o[t].apply(o,r)})}function h(t,r){var o;return t=t||Prototype.K,this.each(function(n,a){n=t.call(r,n,a),(null==o||n>=o)&&(o=n)}),o}function g(t,r){var o;return t=t||Prototype.K,this.each(function(n,a){n=t.call(r,n,a),(null==o||n<o)&&(o=n)}),o}function v(t,r){t=t||Prototype.K;var o=[],n=[];return this.each(function(a,l){(t.call(r,a,l)?o:n).push(a)}),[o,n]}function y(t){var r=[];return this.each(function(o){r.push(o[t])}),r}function $(t,r){var o=[];return this.each(function(n,a){t.call(r,n,a)||o.push(n)}),o}function b(t,r){return this.map(function(o,n){return{value:o,criteria:t.call(r,o,n)}}).sort(function(t,r){var o=t.criteria,n=r.criteria;return o<n?-1:o>n?1:0}).pluck("value")}function _(){return this.map()}function F(){var t=Prototype.K,r=$jotA(arguments);Object.isFunction(r.last())&&(t=r.pop());var o=[this].concat(r).map($jotA);return this.map(function(r,n){return t(o.pluck(n))})}function j(){return this.toArray().length}function S(){return"#<Enumerable:"+this.toArray().inspect()+">"}return{each:t,eachSlice:r,all:o,every:o,any:n,some:n,collect:a,map:a,detect:l,findAll:u,select:u,filter:u,grep:c,include:d,member:d,inGroupsOf:p,inject:f,invoke:m,max:h,min:g,partition:v,pluck:y,reject:$,sortBy:b,toArray:_,entries:_,zip:F,size:j,inspect:S,find:l}}();function $jotA(t){if(!t)return[];if("toArray"in Object(t))return t.toArray();for(var r=t.length||0,o=Array(r);r--;)o[r]=t[r];return o}function $jotw(t){return Object.isString(t)&&(t=t.strip())?t.split(/\s+/):[]}function $jotH(t){return new Hash(t)}Array.from=$jotA,function(){var t=Array.prototype,r=t.slice,o=t.forEach;function n(t,r){for(var o=0,n=this.length>>>0;o<n;o++)o in this&&t.call(r,this[o],o,this)}function a(){return this.length=0,this}function l(){return this[0]}function u(){return this[this.length-1]}function c(){return this.select(function(t){return null!=t})}function d(){return this.inject([],function(t,r){return Object.isArray(r)?t.concat(r.flatten()):(t.push(r),t)})}function p(){var t=r.call(arguments,0);return this.select(function(r){return!t.include(r)})}function f(t){return(!1===t?this.toArray():this)._reverse()}function m(t){return this.inject([],function(r,o,n){return 0!=n&&(t?r.last()==o:r.include(o))||r.push(o),r})}function h(t){return this.uniq().findAll(function(r){return -1!==t.indexOf(r)})}function g(){return r.call(this,0)}function v(){return this.length}function y(){return"["+this.map(Object.inspect).join(", ")+"]"}function $(t,r){if(this==null)throw TypeError();var o=Object(this),n=o.length>>>0;if(0===n||(isNaN(r=Number(r))?r=0:0!==r&&isFinite(r)&&(r=(r>0?1:-1)*Math.floor(Math.abs(r))),r>n))return -1;for(var a=r>=0?r:Math.max(n-Math.abs(r),0);a<n;a++)if(a in o&&o[a]===t)return a;return -1}function b(t,r){if(this==null)throw TypeError();var o=Object(this),n=o.length>>>0;if(0===n)return -1;Object.isUndefined(r)?r=n:isNaN(r=Number(r))?r=0:0!==r&&isFinite(r)&&(r=(r>0?1:-1)*Math.floor(Math.abs(r)));for(var a=r>=0?Math.min(r,n-1):n-Math.abs(r);a>=0;a--)if(a in o&&o[a]===t)return a;return -1}function _(t){var o,n=[],a=r.call(arguments,0),l=0;a.unshift(this);for(var u=0,c=a.length;u<c;u++)if(!Object.isArray(o=a[u])||"callee"in o)n[l++]=o;else for(var d=0,p=o.length;d<p;d++)d in o&&(n[l]=o[d]),l++;return n.length=l,n}function F(t){return function(){if(0===arguments.length)return t.call(this,Prototype.K);if(void 0!==arguments[0])return t.apply(this,arguments);var o=r.call(arguments,1);return o.unshift(Prototype.K),t.apply(this,o)}}function j(t){if(this==null)throw TypeError();t=t||Prototype.K;for(var r=Object(this),o=[],n=arguments[1],a=0,l=0,u=r.length>>>0;l<u;l++)l in r&&(o[a]=t.call(n,r[l],l,r)),a++;return o.length=a,o}function S(t){if(this==null||!Object.isFunction(t))throw TypeError();for(var r,o=Object(this),n=[],a=arguments[1],l=0,u=o.length>>>0;l<u;l++)l in o&&(r=o[l],t.call(a,r,l,o)&&n.push(r));return n}function C(t){if(this==null)throw TypeError();t=t||Prototype.K;for(var r=arguments[1],o=Object(this),n=0,a=o.length>>>0;n<a;n++)if(n in o&&t.call(r,o[n],n,o))return!0;return!1}function w(t){if(this==null)throw TypeError();t=t||Prototype.K;for(var r=arguments[1],o=Object(this),n=0,a=o.length>>>0;n<a;n++)if(n in o&&!t.call(r,o[n],n,o))return!1;return!0}o||(o=n),t.map&&(j=F(Array.prototype.map)),t.filter&&(S=Array.prototype.filter),t.some&&(C=F(Array.prototype.some)),t.every&&(w=F(Array.prototype.every)),Object.extend(t,Enumerable),t.entries===Enumerable.entries&&delete t.entries,t._reverse||(t._reverse=t.reverse),Object.extend(t,{_each:o,map:j,collect:j,select:S,filter:S,findAll:S,some:C,any:C,every:w,all:w,clear:a,first:l,last:u,compact:c,flatten:d,without:p,reverse:f,uniq:m,intersect:h,clone:g,toArray:g,size:v,inspect:y}),function(){return 1!==[].concat(arguments)[0][0]}(1,2)&&(t.concat=_),t.indexOf||(t.indexOf=$),t.lastIndexOf||(t.lastIndexOf=b)}();var Hash=Class.create(Enumerable,function(){function t(t){this._object=Object.isHash(t)?t.toObject():Object.clone(t)}function r(t){for(var r in this._object){var o=this._object[r],n=[r,o];n.key=r,n.value=o,t(n)}}function o(t,r){return this._object[t]=r}function n(t){if(this._object[t]!==Object.prototype[t])return this._object[t]}function a(t){var r=this._object[t];return delete this._object[t],r}function l(){return Object.clone(this._object)}function u(){return this.pluck("key")}function c(){return this.pluck("value")}function d(t){var r=this.detect(function(r){return r.value===t});return r&&r.key}function p(t){return this.clone().update(t)}function f(t){return new Hash(t).inject(this,function(t,r){return t.set(r.key,r.value),t})}function m(t,r){return Object.isUndefined(r)?t:t+"="+encodeURIComponent(String.interpret(r))}function h(){return this.inject([],function(t,r){var o=encodeURIComponent(r.key),n=r.value;if(n&&"object"==typeof n){if(Object.isArray(n)){for(var a,l=[],u=0,c=n.length;u<c;u++)a=n[u],l.push(m(o,a));return t.concat(l)}}else t.push(m(o,n));return t}).join("&")}function g(){return"#<Hash:{"+this.map(function(t){return t.map(Object.inspect).join(": ")}).join(", ")+"}>"}function v(){return new Hash(this)}return{initialize:t,_each:r,set:o,get:n,unset:a,toObject:l,toTemplateReplacements:l,keys:u,values:c,index:d,merge:p,update:f,toQueryString:h,inspect:g,toJSON:l,clone:v}}());function $jotR(t,r,o){return new ObjectRange(t,r,o)}Hash.from=$jotH,Object.extend(Number.prototype,function(){function t(){return this.toPaddedString(2,16)}function r(){return this+1}function o(t,r){return $jotR(0,this,!0).each(t,r),this}function n(t,r){var o=this.toString(r||10);return"0".times(t-o.length)+o}function a(){return Math.abs(this)}function l(){return Math.round(this)}function u(){return Math.ceil(this)}function c(){return Math.floor(this)}return{toColorPart:t,succ:r,times:o,toPaddedString:n,abs:a,round:l,ceil:u,floor:c}}());var ObjectRange=Class.create(Enumerable,function(){function t(t,r,o){this.start=t,this.end=r,this.exclusive=o}function r(t){for(var r=this.start;this.include(r);)t(r),r=r.succ()}function o(t){return!(t<this.start)&&(this.exclusive?t<this.end:t<=this.end)}return{initialize:t,_each:r,include:o}}()),Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},activeRequestCount:0};function $jot(t){if(arguments.length>1){for(var r=0,o=[],n=arguments.length;r<n;r++)o.push($jot(arguments[r]));return o}return Object.isString(t)&&(t=document.getElementById(t)),Element.extend(t)}if(Ajax.Responders={responders:[],_each:function(t){this.responders._each(t)},register:function(t){this.include(t)||this.responders.push(t)},unregister:function(t){this.responders=this.responders.without(t)},dispatch:function(t,r,o,n){this.each(function(a){if(Object.isFunction(a[t]))try{a[t].apply(a,[r,o,n])}catch(l){}})}},Object.extend(Ajax.Responders,Enumerable),Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}}),Ajax.Base=Class.create({initialize:function(t){this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:!0,evalJS:!0},Object.extend(this.options,t||{}),this.options.method=this.options.method.toLowerCase(),Object.isHash(this.options.parameters)&&(this.options.parameters=this.options.parameters.toObject())}}),Ajax.Request=Class.create(Ajax.Base,{_complete:!1,initialize:function(t,r,o){t(o),this.transport=Ajax.getTransport(),this.request(r)},request:function(t){this.url=t,this.method=this.options.method;var r=Object.isString(this.options.parameters)?this.options.parameters:Object.toQueryString(this.options.parameters);["get","post"].include(this.method)||(r+=(r?"&":"")+"_method="+this.method,this.method="post"),r&&"get"===this.method&&(this.url+=(this.url.include("?")?"&":"?")+r),this.parameters=r.toQueryParams();try{var o=new Ajax.Response(this);this.options.onCreate&&this.options.onCreate(o),Ajax.Responders.dispatch("onCreate",this,o),this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous),this.options.asynchronous&&this.respondToReadyState.bind(this).p_defer(1),this.transport.onreadystatechange=this.onStateChange.bind(this),this.setRequestHeaders(),this.body="post"==this.method?this.options.postBody||r:null,this.transport.send(this.body),!this.options.asynchronous&&this.transport.overrideMimeType&&this.onStateChange()}catch(n){this.dispatchException(n)}},onStateChange:function(){var t=this.transport.readyState;t>1&&!(4==t&&this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var t={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(t["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(t.Connection="close")),"object"==typeof this.options.requestHeaders){var r=this.options.requestHeaders;if(Object.isFunction(r.push))for(var o=0,n=r.length;o<n;o+=2)t[r[o]]=r[o+1];else $jotH(r).each(function(r){t[r.key]=r.value})}for(var a in t)this.transport.setRequestHeader(a,t[a])},success:function(){var t=this.getStatus();return!t||t>=200&&t<300||304==t},getStatus:function(){try{if(1223===this.transport.status)return 204;return this.transport.status||0}catch(t){return 0}},respondToReadyState:function(t){var r=Ajax.Request.Events[t],o=new Ajax.Response(this);if("Complete"==r){try{this._complete=!0,(this.options["on"+o.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(o,o.headerJSON)}catch(n){this.dispatchException(n)}var a=o.getHeader("Content-type");("force"==this.options.evalJS||this.options.evalJS&&this.isSameOrigin()&&a&&a.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$jot/i))&&this.evalResponse()}try{(this.options["on"+r]||Prototype.emptyFunction)(o,o.headerJSON),Ajax.Responders.dispatch("on"+r,this,o,o.headerJSON)}catch(l){this.dispatchException(l)}"Complete"==r&&(this.transport.onreadystatechange=Prototype.emptyFunction)},isSameOrigin:function(){var t=this.url.match(/^\s*https?:\/\/[^\/]*/);return!t||t[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""})},getHeader:function(t){try{return this.transport.getResponseHeader(t)||null}catch(r){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(t){(this.options.onException||Prototype.emptyFunction)(this,t),Ajax.Responders.dispatch("onException",this,t)}}),Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"],Ajax.Response=Class.create({initialize:function(t){this.request=t;var r=this.transport=t.transport,o=this.readyState=r.readyState;if((o>2&&!Prototype.Browser.IE||4==o)&&(this.status=this.getStatus(),this.statusText=this.getStatusText(),this.responseText=String.interpret(r.responseText),this.headerJSON=this._getHeaderJSON()),4==o){var n=r.responseXML;this.responseXML=Object.isUndefined(n)?null:n,this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(t){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(t){return null}},getResponseHeader:function(t){return this.transport.getResponseHeader(t)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var t=this.getHeader("X-JSON");if(!t)return null;t=decodeURIComponent(escape(t));try{return t.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(r){this.request.dispatchException(r)}},_getResponseJSON:function(){var t=this.request.options;if(!t.evalJSON||"force"!=t.evalJSON&&!(this.getHeader("Content-type")||"").include("application/json")||this.responseText.blank())return null;try{return this.responseText.evalJSON(t.sanitizeJSON||!this.request.isSameOrigin())}catch(r){this.request.dispatchException(r)}}}),Ajax.Updater=Class.create(Ajax.Request,{initialize:function(t,r,o,n){this.container={success:r.success||r,failure:r.failure||(r.success?null:r)};var a=(n=Object.clone(n)).onComplete;n.onComplete=(function(t,r){this.updateContent(t.responseText),Object.isFunction(a)&&a(t,r)}).bind(this),t(o,n)},updateContent:function(t){var r=this.container[this.success()?"success":"failure"],o=this.options;if(o.evalScripts||(t=t.stripScripts()),r=$jot(r)){if(o.insertion){if(Object.isString(o.insertion)){var n={};n[o.insertion]=t,r.insert(n)}else o.insertion(r,t)}else r.update(t)}}}),Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function(t,r,o,n){t(n),this.onComplete=this.options.onComplete,this.frequency=this.options.frequency||2,this.decay=this.options.decay||1,this.updater={},this.container=r,this.url=o,this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this),this.onTimerEvent()},stop:function(){this.updater.options.onComplete=void 0,clearTimeout(this.timer),(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(t){this.options.decay&&(this.decay=t.responseText==this.lastText?this.decay*this.options.decay:1,this.lastText=t.responseText),this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}}),Prototype.BrowserFeatures.XPath&&(document._getElementsByXPath=function(t,r){for(var o=[],n=document.evaluate(t,$jot(r)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),a=0,l=n.snapshotLength;a<l;a++)o.push(Element.extend(n.snapshotItem(a)));return o}),!Node)var Node={};Node.ELEMENT_NODE||Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),function(t){function r(t,r){return"select"!==t&&!("type"in r)}var o=function(){try{var t=document.createElement('<input name="x">');return"input"===t.tagName.toLowerCase()&&"x"===t.name}catch(r){return!1}}(),n=t.Element;t.Element=function(t,n){n=n||{},t=t.toLowerCase();var a=Element.cache;if(o&&n.name)return t="<"+t+' name="'+n.name+'">',delete n.name,Element.writeAttribute(document.createElement(t),n);a[t]||(a[t]=Element.extend(document.createElement(t)));var l=r(t,n)?a[t].cloneNode(!1):document.createElement(t);return Element.writeAttribute(l,n)},Object.extend(t.Element,n||{}),n&&(t.Element.prototype=n.prototype)}(this),Element.idCounter=1,Element.cache={},Element._purgeElement=function(t){var r=t._prototypeUID;r&&(Element.stopObserving(t),t._prototypeUID=void 0,delete Element.Storage[r])},Element.Methods={visible:function(t){return"none"!=$jot(t).style.display},toggle:function(t){return t=$jot(t),Element[Element.visible(t)?"hide":"show"](t),t},hide:function(t){return(t=$jot(t)).style.display="none",t},show:function(t){return(t=$jot(t)).style.display="",t},remove:function(t){return(t=$jot(t)).parentNode.removeChild(t),t},update:function(){var t,r,o=(t=document.createElement("select"),r=!0,t.innerHTML='<option value="test">test</option>',t.options&&t.options[0]&&(r="OPTION"!==t.options[0].nodeName.toUpperCase()),t=null,r),n=function(){try{var t=document.createElement("table");if(t&&t.tBodies){t.innerHTML="<tbody><tr><td>test</td></tr></tbody>";var r=void 0===t.tBodies[0];return t=null,r}}catch(o){return!0}}(),a=function(){try{var t=document.createElement("div");t.innerHTML="<link>";var r=0===t.childNodes.length;return t=null,r}catch(o){return!0}}(),l=o||n||a,u=function(){var t=document.createElement("script"),r=!1;try{t.appendChild(document.createTextNode("")),r=!t.firstChild||t.firstChild&&3!==t.firstChild.nodeType}catch(o){r=!0}return t=null,r}();function c(t,r){t=$jot(t);for(var o=Element._purgeElement,n=t.getElementsByTagName("*"),c=n.length;c--;)o(n[c]);if(r&&r.toElement&&(r=r.toElement()),Object.isElement(r))return t.update().insert(r);r=Object.toHTML(r);var d=t.tagName.toUpperCase();if("SCRIPT"===d&&u)return t.text=r,t;if(l){if(d in Element._insertionTranslations.tags){for(;t.firstChild;)t.removeChild(t.firstChild);Element._getContentFromAnonymousElement(d,r.stripScripts()).each(function(r){t.appendChild(r)})}else if(a&&Object.isString(r)&&r.indexOf("<link")>-1){for(;t.firstChild;)t.removeChild(t.firstChild);Element._getContentFromAnonymousElement(d,r.stripScripts(),!0).each(function(r){t.appendChild(r)})}else t.innerHTML=r.stripScripts()}else t.innerHTML=r.stripScripts();return r.evalScripts.bind(r).p_defer(),t}return c}(),replace:function(t,r){if(t=$jot(t),r&&r.toElement)r=r.toElement();else if(!Object.isElement(r)){r=Object.toHTML(r);var o=t.ownerDocument.createRange();o.selectNode(t),r.evalScripts.bind(r).p_defer(),r=o.createContextualFragment(r.stripScripts())}return t.parentNode.replaceChild(r,t),t},insert:function(t,r){var o,n,a,l;for(var u in t=$jot(t),(Object.isString(r)||Object.isNumber(r)||Object.isElement(r)||r&&(r.toElement||r.toHTML))&&(r={bottom:r}),r){if(o=r[u],u=u.toLowerCase(),n=Element._insertionTranslations[u],o&&o.toElement&&(o=o.toElement()),Object.isElement(o)){n(t,o);continue}o=Object.toHTML(o),a=("before"==u||"after"==u?t.parentNode:t).tagName.toUpperCase(),l=Element._getContentFromAnonymousElement(a,o.stripScripts()),("top"==u||"after"==u)&&l.reverse(),l.each(n.curry(t)),o.evalScripts.bind(o).p_defer()}return t},wrap:function(t,r,o){return t=$jot(t),Object.isElement(r)?$jot(r).writeAttribute(o||{}):r=Object.isString(r)?new Element(r,o):new Element("div",r),t.parentNode&&t.parentNode.replaceChild(r,t),r.appendChild(t),r},inspect:function(t){var r="<"+(t=$jot(t)).tagName.toLowerCase();return $jotH({id:"id",className:"class"}).each(function(o){var n=o.first(),a=o.last(),l=(t[n]||"").toString();l&&(r+=" "+a+"="+l.inspect(!0))}),r+">"},recursivelyCollect:function(t,r,o){t=$jot(t),o=o||-1;for(var n=[];(t=t[r])&&(1==t.nodeType&&n.push(Element.extend(t)),n.length!=o););return n},ancestors:function(t){return Element.recursivelyCollect(t,"parentNode")},descendants:function(t){return Element.select(t,"*")},firstDescendant:function(t){for(t=$jot(t).firstChild;t&&1!=t.nodeType;)t=t.nextSibling;return $jot(t)},immediateDescendants:function(t){for(var r=[],o=$jot(t).firstChild;o;)1===o.nodeType&&r.push(Element.extend(o)),o=o.nextSibling;return r},previousSiblings:function(t,r){return Element.recursivelyCollect(t,"previousSibling")},nextSiblings:function(t){return Element.recursivelyCollect(t,"nextSibling")},siblings:function(t){return t=$jot(t),Element.previousSiblings(t).reverse().concat(Element.nextSiblings(t))},match:function(t,r){return(t=$jot(t),Object.isString(r))?Prototype.Selector.match(t,r):r.match(t)},up:function(t,r,o){if(t=$jot(t),1==arguments.length)return $jot(t.parentNode);var n=Element.ancestors(t);return Object.isNumber(r)?n[r]:Prototype.Selector.find(n,r,o)},down:function(t,r,o){return(t=$jot(t),1==arguments.length)?Element.firstDescendant(t):Object.isNumber(r)?Element.descendants(t)[r]:Element.select(t,r)[o||0]},previous:function(t,r,o){return(t=$jot(t),Object.isNumber(r)&&(o=r,r=!1),Object.isNumber(o)||(o=0),r)?Prototype.Selector.find(t.previousSiblings(),r,o):t.recursivelyCollect("previousSibling",o+1)[o]},next:function(t,r,o){return(t=$jot(t),Object.isNumber(r)&&(o=r,r=!1),Object.isNumber(o)||(o=0),r)?Prototype.Selector.find(t.nextSiblings(),r,o):(Object.isNumber(o),t.recursivelyCollect("nextSibling",o+1)[o])},select:function(t){t=$jot(t);var r=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(r,t)},adjacent:function(t){t=$jot(t);var r=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(r,t.parentNode).without(t)},identify:function(t){t=$jot(t);var r=Element.readAttribute(t,"id");if(r)return r;do r="anonymous_element_"+Element.idCounter++;while($jot(r));return Element.writeAttribute(t,"id",r),r},readAttribute:function(t,r){if(t=$jot(t),Prototype.Browser.IE){var o=Element._attributeTranslations.read;if(o.values[r])return o.values[r](t,r);if(o.names[r]&&(r=o.names[r]),r.include(":"))return t.attributes&&t.attributes[r]?t.attributes[r].value:null}return t.getAttribute(r)},writeAttribute:function(t,r,o){t=$jot(t);var n={},a=Element._attributeTranslations.write;for(var l in"object"==typeof r?n=r:n[r]=!!Object.isUndefined(o)||o,n)r=a.names[l]||l,o=n[l],a.values[l]&&(r=a.values[l](t,o)),!1===o||null===o?t.removeAttribute(r):!0===o?t.setAttribute(r,r):t.setAttribute(r,o);return t},getHeight:function(t){return Element.getDimensions(t).height},getWidth:function(t){return Element.getDimensions(t).width},classNames:function(t){return new Element.ClassNames(t)},hasClassName:function(t,r){if(t=$jot(t)){var o=t.className;return o.length>0&&(o==r||RegExp("(^|\\s)"+r+"(\\s|$jot)").test(o))}},addClassName:function(t,r){if(t=$jot(t))return Element.hasClassName(t,r)||(t.className+=(t.className?" ":"")+r),t},removeClassName:function(t,r){if(t=$jot(t))return t.className=t.className.replace(RegExp("(^|\\s+)"+r+"(\\s+|$jot)")," ").strip(),t},toggleClassName:function(t,r){if(t=$jot(t))return Element[Element.hasClassName(t,r)?"removeClassName":"addClassName"](t,r)},cleanWhitespace:function(t){for(var r=(t=$jot(t)).firstChild;r;){var o=r.nextSibling;3!=r.nodeType||/\S/.test(r.nodeValue)||t.removeChild(r),r=o}return t},empty:function(t){return $jot(t).innerHTML.blank()},descendantOf:function(t,r){if(t=$jot(t),r=$jot(r),t.compareDocumentPosition)return(8&t.compareDocumentPosition(r))==8;if(r.contains)return r.contains(t)&&r!==t;for(;t=t.parentNode;)if(t==r)return!0;return!1},scrollTo:function(t){t=$jot(t);var r=Element.cumulativeOffset(t);return window.scrollTo(r[0],r[1]),t},getStyle:function(t,r){t=$jot(t),r="float"==r?"cssFloat":r.camelize();var o=t.style[r];if(!o||"auto"==o){var n=document.defaultView.getComputedStyle(t,null);o=n?n[r]:null}return"opacity"==r?o?parseFloat(o):1:"auto"==o?null:o},getOpacity:function(t){return $jot(t).getStyle("opacity")},setStyle:function(t,r){var o=(t=$jot(t)).style;if(Object.isString(r))return t.style.cssText+=";"+r,r.include("opacity")?t.setOpacity(r.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in r)"opacity"==n?t.setOpacity(r[n]):o["float"==n||"cssFloat"==n?Object.isUndefined(o.styleFloat)?"cssFloat":"styleFloat":n]=r[n];return t},setOpacity:function(t,r){return(t=$jot(t)).style.opacity=1==r||""===r?"":r<1e-5?0:r,t},makePositioned:function(t){t=$jot(t);var r=Element.getStyle(t,"position");return("static"==r||!r)&&(t._madePositioned=!0,t.style.position="relative",Prototype.Browser.Opera&&(t.style.top=0,t.style.left=0)),t},undoPositioned:function(t){return(t=$jot(t))._madePositioned&&(t._madePositioned=void 0,t.style.position=t.style.top=t.style.left=t.style.bottom=t.style.right=""),t},makeClipping:function(t){return(t=$jot(t))._overflow||(t._overflow=Element.getStyle(t,"overflow")||"auto","hidden"!==t._overflow&&(t.style.overflow="hidden")),t},undoClipping:function(t){return(t=$jot(t))._overflow&&(t.style.overflow="auto"==t._overflow?"":t._overflow,t._overflow=null),t},clonePosition:function(t,r){var o=Object.extend({setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0},arguments[2]||{});r=$jot(r);var n=Element.viewportOffset(r),a=[0,0],l=null;return t=$jot(t),"absolute"==Element.getStyle(t,"position")&&(l=Element.getOffsetParent(t),a=Element.viewportOffset(l)),l==document.body&&(a[0]-=document.body.offsetLeft,a[1]-=document.body.offsetTop),o.setLeft&&(t.style.left=n[0]-a[0]+o.offsetLeft+"px"),o.setTop&&(t.style.top=n[1]-a[1]+o.offsetTop+"px"),o.setWidth&&(t.style.width=r.offsetWidth+"px"),o.setHeight&&(t.style.height=r.offsetHeight+"px"),t}},Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants}),Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}},Prototype.Browser.Opera?(Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(t,r,o){switch(o){case"height":case"width":if(!Element.visible(r))return null;var n,a=parseInt(t(r,o),10);if(a!==r["offset"+o.capitalize()])return a+"px";return(n="height"===o?["border-top-width","padding-top","padding-bottom","border-bottom-width"]:["border-left-width","padding-left","padding-right","border-right-width"]).inject(a,function(o,n){var a=t(r,n);return null===a?o:o-parseInt(a,10)})+"px";default:return t(r,o)}}),Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(t,r,o){return"title"===o?r.title:t(r,o)})):Prototype.Browser.IE?(Element.Methods.getStyle=function(t,r){t=$jot(t),r="float"==r||"cssFloat"==r?"styleFloat":r.camelize();var o=t.style[r];return(!o&&t.currentStyle&&(o=t.currentStyle[r]),"opacity"==r)?(o=(t.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))&&o[1]?parseFloat(o[1])/100:1:"auto"==o?("width"==r||"height"==r)&&"none"!=t.getStyle("display")?t["offset"+r.capitalize()]+"px":null:o},Element.Methods.setOpacity=function(t,r){function o(t){return t.replace(/alpha\([^\)]*\)/gi,"")}var n=(t=$jot(t)).currentStyle;(!n||n.hasLayout)&&(n||"normal"!=t.style.zoom)||(t.style.zoom=1);var a=t.getStyle("filter"),l=t.style;return 1==r||""===r?((a=o(a))?l.filter=a:l.removeAttribute("filter"),t):(r<1e-5&&(r=0),l.filter=o(a)+"alpha(opacity="+100*r+")",t)},Element._attributeTranslations=function(){var t,r,o,n="className",a="for",l=document.createElement("div");return l.setAttribute(n,"x"),"x"!==l.className&&(l.setAttribute("class","x"),"x"===l.className&&(n="class")),l=null,(l=document.createElement("label")).setAttribute(a,"x"),"x"!==l.htmlFor&&(l.setAttribute("htmlFor","x"),"x"===l.htmlFor&&(a="htmlFor")),l=null,{read:{names:{class:n,className:n,for:a,htmlFor:a},values:{_getAttr:function(t,r){return t.getAttribute(r)},_getAttr2:function(t,r){return t.getAttribute(r,2)},_getAttrNode:function(t,r){var o=t.getAttributeNode(r);return o?o.value:""},_getEv:((r=document.createElement("div")).onclick=Prototype.emptyFunction,String(o=r.getAttribute("onclick")).indexOf("{")>-1?t=function(t,r){return(r=t.getAttribute(r))?(r=(r=(r=r.toString()).split("{")[1]).split("}")[0]).strip():null}:""===o&&(t=function(t,r){return(r=t.getAttribute(r))?r.strip():null}),r=null,t),_flag:function(t,r){return $jot(t).hasAttribute(r)?r:null},style:function(t){return t.style.cssText.toLowerCase()},title:function(t){return t.title}}}}}(),Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(t,r){t.checked=!!r},style:function(t,r){t.style.cssText=r||""}}},Element._attributeTranslations.has={},$jotw("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder").each(function(t){Element._attributeTranslations.write.names[t.toLowerCase()]=t,Element._attributeTranslations.has[t.toLowerCase()]=t}),function(t){Object.extend(t,{href:t._getAttr2,src:t._getAttr2,type:t._getAttr,action:t._getAttrNode,disabled:t._flag,checked:t._flag,readonly:t._flag,multiple:t._flag,onload:t._getEv,onunload:t._getEv,onclick:t._getEv,ondblclick:t._getEv,onmousedown:t._getEv,onmouseup:t._getEv,onmouseover:t._getEv,onmousemove:t._getEv,onmouseout:t._getEv,onfocus:t._getEv,onblur:t._getEv,onkeypress:t._getEv,onkeydown:t._getEv,onkeyup:t._getEv,onsubmit:t._getEv,onreset:t._getEv,onselect:t._getEv,onchange:t._getEv})}(Element._attributeTranslations.read.values),Prototype.BrowserFeatures.ElementExtensions&&function(){function t(t){for(var r,o=t.getElementsByTagName("*"),n=[],a=0;r=o[a];a++)"!"!==r.tagName&&n.push(r);return n}Element.Methods.down=function(r,o,n){return(r=$jot(r),1==arguments.length)?r.firstDescendant():Object.isNumber(o)?t(r)[o]:Element.select(r,o)[n||0]}}()):Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)?Element.Methods.setOpacity=function(t,r){return(t=$jot(t)).style.opacity=1==r?.999999:""===r?"":r<1e-5?0:r,t}:Prototype.Browser.WebKit&&(Element.Methods.setOpacity=function(t,r){if((t=$jot(t)).style.opacity=1==r||""===r?"":r<1e-5?0:r,1==r){if("IMG"==t.tagName.toUpperCase()&&t.width)t.width++,t.width--;else try{var o=document.createTextNode(" ");t.appendChild(o),t.removeChild(o)}catch(n){}}return t}),"outerHTML"in document.documentElement&&(Element.Methods.replace=function(t,r){if(t=$jot(t),r&&r.toElement&&(r=r.toElement()),Object.isElement(r))return t.parentNode.replaceChild(r,t),t;r=Object.toHTML(r);var o=t.parentNode,n=o.tagName.toUpperCase();if(Element._insertionTranslations.tags[n]){var a=t.next(),l=Element._getContentFromAnonymousElement(n,r.stripScripts());o.removeChild(t),a?l.each(function(t){o.insertBefore(t,a)}):l.each(function(t){o.appendChild(t)})}else t.outerHTML=r.stripScripts();return r.evalScripts.bind(r).p_defer(),t}),Element._returnOffset=function(t,r){var o=[t,r];return o.left=t,o.top=r,o},Element._getContentFromAnonymousElement=function(t,r,o){var n=new Element("div"),a=Element._insertionTranslations.tags[t],l=!1;if(a?l=!0:o&&(l=!0,a=["","",0]),l){n.innerHTML="&nbsp;"+a[0]+r+a[1],n.removeChild(n.firstChild);for(var u=a[2];u--;)n=n.firstChild}else n.innerHTML=r;return $jotA(n.childNodes)},Element._insertionTranslations={before:function(t,r){t.parentNode.insertBefore(r,t)},top:function(t,r){t.insertBefore(r,t.firstChild)},bottom:function(t,r){t.appendChild(r)},after:function(t,r){t.parentNode.insertBefore(r,t.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}},function(){var t=Element._insertionTranslations.tags;Object.extend(t,{THEAD:t.TBODY,TFOOT:t.TBODY,TH:t.TD})}(),Element.Methods.Simulated={hasAttribute:function(t,r){r=Element._attributeTranslations.has[r]||r;var o=$jot(t).getAttributeNode(r);return!!(o&&o.specified)}},Element.Methods.ByTag={},Object.extend(Element,Element.Methods),function(t){!Prototype.BrowserFeatures.ElementExtensions&&t.__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=t.__proto__,Prototype.BrowserFeatures.ElementExtensions=!0),t=null}(document.createElement("div")),Element.extend=function(){function t(t){if(void 0!==window.Element){var r=window.Element.prototype;if(r){var o="_"+(Math.random()+"").slice(2),n=document.createElement(t);r[o]="x";var a="x"!==n[o];return delete r[o],n=null,a}}return!1}function r(t,r){for(var o in r){var n=r[o];!Object.isFunction(n)||o in t||(t[o]=n.methodize())}}var o=t("object");if(Prototype.BrowserFeatures.SpecificElementExtensions)return o?function(t){if(t&&void 0===t._extendedByPrototype){var o=t.tagName;o&&/^(?:object|applet|embed)$jot/i.test(o)&&(r(t,Element.Methods),r(t,Element.Methods.Simulated),r(t,Element.Methods.ByTag[o.toUpperCase()]))}return t}:Prototype.K;var n={},a=Element.Methods.ByTag,l=Object.extend(function(t){if(!t||void 0!==t._extendedByPrototype||1!=t.nodeType||t==window)return t;var o=Object.clone(n),l=t.tagName.toUpperCase();return a[l]&&Object.extend(o,a[l]),r(t,o),t._extendedByPrototype=Prototype.emptyFunction,t},{refresh:function(){Prototype.BrowserFeatures.ElementExtensions||(Object.extend(n,Element.Methods),Object.extend(n,Element.Methods.Simulated))}});return l.refresh(),l}(),document.documentElement.hasAttribute?Element.hasAttribute=function(t,r){return t.hasAttribute(r)}:Element.hasAttribute=Element.Methods.Simulated.hasAttribute,Element.addMethods=function(t){var r=Prototype.BrowserFeatures,o=Element.Methods.ByTag;if(t||(Object.extend(Form,Form.Methods),Object.extend(Form.Element,Form.Element.Methods),Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods),BUTTON:Object.clone(Form.Element.Methods)})),2==arguments.length){var n=t;t=arguments[1]}function a(r){r=r.toUpperCase(),Element.Methods.ByTag[r]||(Element.Methods.ByTag[r]={}),Object.extend(Element.Methods.ByTag[r],t)}function l(t,r,o){for(var n in o=o||!1,t){var a=t[n];!Object.isFunction(a)||o&&n in r||(r[n]=a.methodize())}}function u(t){var r,o={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(o[t]&&(r="HTML"+o[t]+"Element"),window[r]||(r="HTML"+t+"Element",window[r])||(r="HTML"+t.capitalize()+"Element",window[r]))return window[r];var n=document.createElement(t),a=n.__proto__||n.constructor.prototype;return n=null,a}n?Object.isArray(n)?n.each(a):a(n):Object.extend(Element.Methods,t||{});var c=window.HTMLElement?HTMLElement.prototype:Element.prototype;if(r.ElementExtensions&&(l(Element.Methods,c),l(Element.Methods.Simulated,c,!0)),r.SpecificElementExtensions)for(var d in Element.Methods.ByTag){var p=u(d);Object.isUndefined(p)||l(o[d],p.prototype)}Object.extend(Element,Element.Methods),delete Element.ByTag,Element.extend.refresh&&Element.extend.refresh(),Element.cache={}},document.viewport={getDimensions:function(){return{width:this.getWidth(),height:this.getHeight()}},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}},function(t){var r,o=Prototype.Browser,n=document,a={};function l(){return o.WebKit&&!n.evaluate?document:o.Opera&&9.5>window.parseFloat(window.opera.version())?document.body:document.documentElement}function u(o){return r||(r=l()),a[o]="client"+o,t["get"+o]=function(){return r[a[o]]},t["get"+o]()}t.getWidth=u.curry("Width"),t.getHeight=u.curry("Height")}(document.viewport),Element.Storage={UID:1},Element.addMethods({getStorage:function(t){var r;if(t=$jot(t))return t===window?r=0:(void 0===t._prototypeUID&&(t._prototypeUID=Element.Storage.UID++),r=t._prototypeUID),Element.Storage[r]||(Element.Storage[r]=$jotH()),Element.Storage[r]},store:function(t,r,o){if(t=$jot(t))return 2===arguments.length?Element.getStorage(t).update(r):Element.getStorage(t).set(r,o),t},retrieve:function(t,r,o){if(t=$jot(t)){var n=Element.getStorage(t),a=n.get(r);return Object.isUndefined(a)&&(n.set(r,o),a=o),a}},clone:function(t,r){if(t=$jot(t)){var o=t.cloneNode(r);if(o._prototypeUID=void 0,r)for(var n=Element.select(o,"*"),a=n.length;a--;)n[a]._prototypeUID=void 0;return Element.extend(o)}},purge:function(t){if(t=$jot(t)){var r=Element._purgeElement;r(t);for(var o=t.getElementsByTagName("*"),n=o.length;n--;)r(o[n]);return null}}}),function(){function t(t){var r=t.match(/^(\d+)%?$jot/i);return r?Number(r[1])/100:null}function r(r,o,n){var a=null;if(Object.isElement(r)&&(r=(a=r).getStyle(o)),null===r)return null;if(/^(?:-)?\d+(\.\d+)?(px)?$jot/i.test(r))return window.parseFloat(r);var l=r.include("%"),u=n===document.viewport;if(/\d/.test(r)&&a&&a.runtimeStyle&&!(l&&u)){var c=a.style.left,d=a.runtimeStyle.left;return a.runtimeStyle.left=a.currentStyle.left,a.style.left=r||0,r=a.style.pixelLeft,a.style.left=c,a.runtimeStyle.left=d,r}if(a&&l){n=n||a.parentNode;var p=t(r),f=null;a.getStyle("position");var m=o.include("left")||o.include("right")||o.include("width"),h=o.include("top")||o.include("bottom")||o.include("height");return n===document.viewport?m?f=document.viewport.getWidth():h&&(f=document.viewport.getHeight()):m?f=$jot(n).measure("width"):h&&(f=$jot(n).measure("height")),null===f?0:f*p}return 0}function o(t){return Object.isString(t)&&t.endsWith("px")?t:t+"px"}function n(t){for(;t&&t.parentNode;){if("none"===t.getStyle("display"))return!1;t=$jot(t.parentNode)}return!0}var a=Prototype.K;function l(t){return t.include("border")&&(t+="-width"),t.camelize()}function u(t,r){return new Element.Layout(t,r)}function c(t,r){return $jot(t).getLayout().get(r)}function d(t){t=$jot(t);var r=Element.getStyle(t,"display");if(r&&"none"!==r)return{width:t.offsetWidth,height:t.offsetHeight};var o=t.style,n={visibility:o.visibility,position:o.position,display:o.display},a={visibility:"hidden",display:"block"};"fixed"!==n.position&&(a.position="absolute"),Element.setStyle(t,a);var l={width:t.offsetWidth,height:t.offsetHeight};return Element.setStyle(t,n),l}function p(t){if(t=$jot(t),_(t)||F(t)||$(t)||b(t))return $jot(document.body);if("inline"!==Element.getStyle(t,"display")&&t.offsetParent)return $jot(t.offsetParent);for(;(t=t.parentNode)&&t!==document.body;)if("static"!==Element.getStyle(t,"position"))return b(t)?$jot(document.body):$jot(t);return $jot(document.body)}function f(t){t=$jot(t);var r=0,o=0;if(t.parentNode)do r+=t.offsetTop||0,o+=t.offsetLeft||0,t=t.offsetParent;while(t);return new Element.Offset(o,r)}function m(t){var r=(t=$jot(t)).getLayout(),o=0,n=0;do if(o+=t.offsetTop||0,n+=t.offsetLeft||0,(t=t.offsetParent)&&($(t)||"static"!==Element.getStyle(t,"position")))break;while(t);return n-=r.get("margin-top"),o-=r.get("margin-left"),new Element.Offset(n,o)}function h(t){var r=0,o=0;$(t)&&navigator.userAgent.indexOf("Chrome/32")>-1&&(t=document.documentElement);do r+=t.scrollTop||0,o+=t.scrollLeft||0,t=t.parentNode;while(t);return new Element.Offset(o,r)}function g(t){a=$jot(a);var r=0,o=0,n=document.body,a=t;do if(r+=a.offsetTop||0,o+=a.offsetLeft||0,a.offsetParent==n&&"absolute"==Element.getStyle(a,"position"))break;while(a=a.offsetParent);a=t;do a!=n&&(r-=a.scrollTop||0,o-=a.scrollLeft||0);while(a=a.parentNode);return new Element.Offset(o,r)}function v(t){if(t=$jot(t),"absolute"===Element.getStyle(t,"position"))return t;var r=p(t),o=t.viewportOffset(),n=r.viewportOffset(),a=o.relativeTo(n),l=t.getLayout();return t.store("prototype_absolutize_original_styles",{left:t.getStyle("left"),top:t.getStyle("top"),width:t.getStyle("width"),height:t.getStyle("height")}),t.setStyle({position:"absolute",top:a.top+"px",left:a.left+"px",width:l.get("width")+"px",height:l.get("height")+"px"}),t}function y(t){if(t=$jot(t),"relative"===Element.getStyle(t,"position"))return t;var r=t.retrieve("prototype_absolutize_original_styles");return r&&t.setStyle(r),t}function $(t){return"BODY"===t.nodeName.toUpperCase()}function b(t){return"HTML"===t.nodeName.toUpperCase()}function _(t){return t.nodeType===Node.DOCUMENT_NODE}function F(t){return t!==document.body&&!Element.descendantOf(t,document.body)}"currentStyle"in document.documentElement&&(a=function(t){return t.currentStyle.hasLayout||(t.style.zoom=1),t}),Element.Layout=Class.create(Hash,{initialize:function(t,r,o){t(),this.element=$jot(r),Element.Layout.PROPERTIES.each(function(t){this._set(t,null)},this),o&&(this._preComputing=!0,this._begin(),Element.Layout.PROPERTIES.each(this._compute,this),this._end(),this._preComputing=!1)},_set:function(t,r){return Hash.prototype.set.call(this,t,r)},set:function(t,r){throw"Properties of Element.Layout are read-only."},get:function(t,r){var o=t(r);return null===o?this._compute(r):o},_begin:function(){if(!this._prepared){var t,o,a,l=this.element;if(n(l)){this._prepared=!0;return}var u={position:l.style.position||"",width:l.style.width||"",visibility:l.style.visibility||"",display:l.style.display||""};l.store("prototype_original_styles",u);var c=l.getStyle("position"),d=l.getStyle("width");("0px"===d||null===d)&&(l.style.display="block",d=l.getStyle("width"));var p="fixed"===c?document.viewport:l.parentNode;l.setStyle({position:"absolute",visibility:"hidden",display:"block"});var f=l.getStyle("width");a=d&&f===d?r(l,"width",p):"absolute"===c||"fixed"===c?r(l,"width",p):$jot(l.parentNode).getLayout().get("width")-this.get("margin-left")-this.get("border-left")-this.get("padding-left")-this.get("padding-right")-this.get("border-right")-this.get("margin-right"),l.setStyle({width:a+"px"}),this._prepared=!0}},_end:function(){var t=this.element,r=t.retrieve("prototype_original_styles");t.store("prototype_original_styles",null),t.setStyle(r),this._prepared=!1},_compute:function(t){var r=Element.Layout.COMPUTATIONS;if(!(t in r))throw"Property not found.";return this._set(t,r[t].call(this,this.element))},toObject:function(){var t=$jotA(arguments),r=0===t.length?Element.Layout.PROPERTIES:t.join(" ").split(" "),o={};return r.each(function(t){if(Element.Layout.PROPERTIES.include(t)){var r=this.get(t);null!=r&&(o[t]=r)}},this),o},toHash:function(){var t=this.toObject.apply(this,arguments);return new Hash(t)},toCSS:function(){var t=$jotA(arguments),r=0===t.length?Element.Layout.PROPERTIES:t.join(" ").split(" "),o={};return r.each(function(t){if(Element.Layout.PROPERTIES.include(t)&&!Element.Layout.COMPOSITE_PROPERTIES.include(t)){var r=this.get(t);null!=r&&(o[l(t)]=r+"px")}},this),o},inspect:function(){return"#<Element.Layout>"}}),Object.extend(Element.Layout,{PROPERTIES:$jotw("height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height cumulative-left cumulative-top"),COMPOSITE_PROPERTIES:$jotw("padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"),COMPUTATIONS:{height:function(t){this._preComputing||this._begin();var r=this.get("border-box-height");if(r<=0)return this._preComputing||this._end(),0;var o=this.get("border-top"),n=this.get("border-bottom"),a=this.get("padding-top"),l=this.get("padding-bottom");return this._preComputing||this._end(),r-o-n-a-l},width:function(t){this._preComputing||this._begin();var r=this.get("border-box-width");if(r<=0)return this._preComputing||this._end(),0;var o=this.get("border-left"),n=this.get("border-right"),a=this.get("padding-left"),l=this.get("padding-right");return this._preComputing||this._end(),r-o-n-a-l},"padding-box-height":function(t){var r,o=this.get("height");return o+this.get("padding-top")+this.get("padding-bottom")},"padding-box-width":function(t){var r,o=this.get("width");return o+this.get("padding-left")+this.get("padding-right")},"border-box-height":function(t){this._preComputing||this._begin();var r=t.offsetHeight;return this._preComputing||this._end(),r},"cumulative-left":function(t){return t.cumulativeOffset().left},"cumulative-top":function(t){return t.cumulativeOffset().top},"border-box-width":function(t){this._preComputing||this._begin();var r=t.offsetWidth;return this._preComputing||this._end(),r},"margin-box-height":function(t){var r=this.get("border-box-height"),o=this.get("margin-top"),n=this.get("margin-bottom");return r<=0?0:r+o+n},"margin-box-width":function(t){var r=this.get("border-box-width"),o=this.get("margin-left"),n=this.get("margin-right");return r<=0?0:r+o+n},top:function(t){return t.positionedOffset().top},bottom:function(t){var r,o=t.positionedOffset();return t.getOffsetParent().measure("height")-this.get("border-box-height")-o.top},left:function(t){return t.positionedOffset().left},right:function(t){var r,o=t.positionedOffset();return t.getOffsetParent().measure("width")-this.get("border-box-width")-o.left},"padding-top":function(t){return r(t,"paddingTop")},"padding-bottom":function(t){return r(t,"paddingBottom")},"padding-left":function(t){return r(t,"paddingLeft")},"padding-right":function(t){return r(t,"paddingRight")},"border-top":function(t){return r(t,"borderTopWidth")},"border-bottom":function(t){return r(t,"borderBottomWidth")},"border-left":function(t){return r(t,"borderLeftWidth")},"border-right":function(t){return r(t,"borderRightWidth")},"margin-top":function(t){return r(t,"marginTop")},"margin-bottom":function(t){return r(t,"marginBottom")},"margin-left":function(t){return r(t,"marginLeft")},"margin-right":function(t){return r(t,"marginRight")}}}),"getBoundingClientRect"in document.documentElement&&Object.extend(Element.Layout.COMPUTATIONS,{right:function(t){var r=a(t.getOffsetParent()),o=t.getBoundingClientRect();return(r.getBoundingClientRect().right-o.right).round()},bottom:function(t){var r=a(t.getOffsetParent()),o=t.getBoundingClientRect();return(r.getBoundingClientRect().bottom-o.bottom).round()}}),Element.Offset=Class.create({initialize:function(t,r){this.left=t.round(),this.top=r.round(),this[0]=this.left,this[1]=this.top},relativeTo:function(t){return new Element.Offset(this.left-t.left,this.top-t.top)},inspect:function(){return"#<Element.Offset left: #{left} top: #{top}>".interpolate(this)},toString:function(){return"[#{left}, #{top}]".interpolate(this)},toArray:function(){return[this.left,this.top]}}),Prototype.Browser.IE?(p=p.wrap(function(t,r){if(r=$jot(r),_(r)||F(r)||$(r)||b(r))return $jot(document.body);var o=r.getStyle("position");if("static"!==o)return t(r);r.setStyle({position:"relative"});var n=t(r);return r.setStyle({position:o}),n}),m=m.wrap(function(t,r){if(!(r=$jot(r)).parentNode)return new Element.Offset(0,0);var o=r.getStyle("position");if("static"!==o)return t(r);var n=r.getOffsetParent();n&&"fixed"===n.getStyle("position")&&a(n),r.setStyle({position:"relative"});var l=t(r);return r.setStyle({position:o}),l})):Prototype.Browser.Webkit&&(f=function(t){t=$jot(t);var r=0,o=0;do{if(r+=t.offsetTop||0,o+=t.offsetLeft||0,t.offsetParent==document.body&&"absolute"==Element.getStyle(t,"position"))break;t=t.offsetParent}while(t);return new Element.Offset(o,r)}),Element.addMethods({getLayout:u,measure:c,getDimensions:d,getOffsetParent:p,cumulativeOffset:f,positionedOffset:m,cumulativeScrollOffset:h,viewportOffset:g,absolutize:v,relativize:y}),"getBoundingClientRect"in document.documentElement&&Element.addMethods({viewportOffset:function(t){if(t=$jot(t),F(t))return new Element.Offset(0,0);var r=t.getBoundingClientRect(),o=document.documentElement;return new Element.Offset(r.left-o.clientLeft,r.top-o.clientTop)}})}(),window.document.querySelectorAll=function(){var t=$jotA(arguments).join(", ");return Prototype.Selector.select(t,document)},Prototype.Selector=function(){function t(){throw Error('Method "Prototype.Selector.select" must be defined.')}function r(){throw Error('Method "Prototype.Selector.match" must be defined.')}function o(t,r,o){o=o||0;var n,a=Prototype.Selector.match,l=t.length,u=0;for(n=0;n<l;n++)if(a(t[n],r)&&o==u++)return Element.extend(t[n])}function n(t){for(var r=0,o=t.length;r<o;r++)Element.extend(t[r]);return t}var a=Prototype.K;return{select:t,match:r,find:o,extendElements:Element.extend===a?a:n,extendElement:Element.extend}}(),Prototype._original_property=window.Sizzle,function(){var t,r,o,n,a,l,u=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=0,d=Object.prototype.toString,p=!1,f=!0;[0,0].sort(function(){return f=!1,0});var m=function(t,r,o,n){o=o||[];var a=r=r||document;if(1!==r.nodeType&&9!==r.nodeType)return[];if(!t||"string"!=typeof t)return o;for(var l,c,p,f,v=[],$=!0,b=j(r),_=t;u.exec(""),null!==(l=u.exec(_));)if(_=l[3],v.push(l[1]),l[2]){f=l[3];break}if(v.length>1&&g.exec(t)){if(2===v.length&&h.relative[v[0]])c=S(v[0]+v[1],r);else for(c=h.relative[v[0]]?[r]:m(v.shift(),r);v.length;)t=v.shift(),h.relative[t]&&(t+=v.shift()),c=S(t,c)}else{if(!n&&v.length>1&&9===r.nodeType&&!b&&h.match.ID.test(v[0])&&!h.match.ID.test(v[v.length-1])){var C=m.find(v.shift(),r,b);r=C.expr?m.filter(C.expr,C.set)[0]:C.set[0]}if(r){var C=n?{expr:v.pop(),set:y(n)}:m.find(v.pop(),1===v.length&&("~"===v[0]||"+"===v[0])&&r.parentNode?r.parentNode:r,b);for(c=C.expr?m.filter(C.expr,C.set):C.set,v.length>0?p=y(c):$=!1;v.length;){var w=v.pop(),A=w;h.relative[w]?A=v.pop():w="",null==A&&(A=r),h.relative[w](p,A,b)}}else p=v=[]}if(p||(p=c),!p)throw"Syntax error, unrecognized expression: "+(w||t);if("[object Array]"===d.call(p)){if($){if(r&&1===r.nodeType)for(var E=0;null!=p[E];E++)p[E]&&(!0===p[E]||1===p[E].nodeType&&F(r,p[E]))&&o.push(c[E]);else for(var E=0;null!=p[E];E++)p[E]&&1===p[E].nodeType&&o.push(c[E])}else o.push.apply(o,p)}else y(p,o);return f&&(m(f,a,o,n),m.uniqueSort(o)),o};m.uniqueSort=function(t){if(l&&(p=f,t.sort(l),p))for(var r=1;r<t.length;r++)t[r]===t[r-1]&&t.splice(r--,1);return t},m.matches=function(t,r){return m(t,null,null,r)},m.find=function(t,r,o){var n,a;if(!t)return[];for(var l=0,u=h.order.length;l<u;l++){var a,c=h.order[l];if(a=h.leftMatch[c].exec(t)){var d=a[1];if(a.splice(1,1),"\\"!==d.substr(d.length-1)&&(a[1]=(a[1]||"").replace(/\\/g,""),null!=(n=h.find[c](a,r,o)))){t=t.replace(h.match[c],"");break}}}return n||(n=r.getElementsByTagName("*")),{set:n,expr:t}},m.filter=function(t,r,o,n){for(var a,l,u=t,c=[],d=r,p=r&&r[0]&&j(r[0]);t&&r.length;){for(var f in h.filter)if(null!=(a=h.match[f].exec(t))){var m,g,v=h.filter[f];if(l=!1,d==c&&(c=[]),h.preFilter[f]){if(a=h.preFilter[f](a,d,o,c,n,p)){if(!0===a)continue}else l=m=!0}if(a){for(var y=0;null!=(g=d[y]);y++)if(g){var $=!!(m=v(g,a,y,d))^n;o&&null!=m?$?l=!0:d[y]=!1:$&&(c.push(g),l=!0)}}if(void 0!==m){if(o||(d=c),t=t.replace(h.match[f],""),!l)return[];break}}if(t==u){if(null==l)throw"Syntax error, unrecognized expression: "+t;break}u=t}return d};var h=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$jot)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")}},relative:{"+":function(t,r,o){var n="string"==typeof r,a=n&&!/\W/.test(r),l=n&&!a;a&&!o&&(r=r.toUpperCase());for(var u,c=0,d=t.length;c<d;c++)if(u=t[c]){for(;(u=u.previousSibling)&&1!==u.nodeType;);t[c]=l||u&&u.nodeName===r?u||!1:u===r}l&&m.filter(r,t,!0)},">":function(t,r,o){var n="string"==typeof r;if(n&&!/\W/.test(r)){r=o?r:r.toUpperCase();for(var a=0,l=t.length;a<l;a++){var u=t[a];if(u){var c=u.parentNode;t[a]=c.nodeName===r&&c}}}else{for(var a=0,l=t.length;a<l;a++){var u=t[a];u&&(t[a]=n?u.parentNode:u.parentNode===r)}n&&m.filter(r,t,!0)}},"":function(t,r,o){var n=c++,a=_;if(!/\W/.test(r)){var l=r=o?r:r.toUpperCase();a=b}a("parentNode",r,n,t,l,o)},"~":function(t,r,o){var n=c++,a=_;if("string"==typeof r&&!/\W/.test(r)){var l=r=o?r:r.toUpperCase();a=b}a("previousSibling",r,n,t,l,o)}},find:{ID:function(t,r,o){if(void 0!==r.getElementById&&!o){var n=r.getElementById(t[1]);return n?[n]:[]}},NAME:function(t,r,o){if(void 0!==r.getElementsByName){for(var n=[],a=r.getElementsByName(t[1]),l=0,u=a.length;l<u;l++)a[l].getAttribute("name")===t[1]&&n.push(a[l]);return 0===n.length?null:n}},TAG:function(t,r){return r.getElementsByTagName(t[1])}},preFilter:{CLASS:function(t,r,o,n,a,l){if(t=" "+t[1].replace(/\\/g,"")+" ",l)return t;for(var u,c=0;null!=(u=r[c]);c++)u&&(a^(u.className&&(" "+u.className+" ").indexOf(t)>=0)?o||n.push(u):o&&(r[c]=!1));return!1},ID:function(t){return t[1].replace(/\\/g,"")},TAG:function(t,r){for(var o=0;!1===r[o];o++);return r[o]&&j(r[o])?t[1]:t[1].toUpperCase()},CHILD:function(t){if("nth"==t[1]){var r=/(-?)(\d*)n((?:\+|-)?\d*)/.exec("even"==t[2]&&"2n"||"odd"==t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=r[1]+(r[2]||1)-0,t[3]=r[3]-0}return t[0]=c++,t},ATTR:function(t,r,o,n,a,l){var u=t[1].replace(/\\/g,"");return!l&&h.attrMap[u]&&(t[1]=h.attrMap[u]),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,r,o,n,a){if("not"===t[1]){if((u.exec(t[3])||"").length>1||/^\w/.test(t[3]))t[3]=m(t[3],null,null,r);else{var l=m.filter(t[3],r,o,!0^a);return o||n.push.apply(n,l),!1}}else if(h.match.POS.test(t[0])||h.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return!1===t.disabled&&"hidden"!==t.type},disabled:function(t){return!0===t.disabled},checked:function(t){return!0===t.checked},selected:function(t){return t.parentNode.selectedIndex,!0===t.selected},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,r,o){return!!m(o[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){return"text"===t.type},radio:function(t){return"radio"===t.type},checkbox:function(t){return"checkbox"===t.type},file:function(t){return"file"===t.type},password:function(t){return"password"===t.type},submit:function(t){return"submit"===t.type},image:function(t){return"image"===t.type},reset:function(t){return"reset"===t.type},button:function(t){return"button"===t.type||"BUTTON"===t.nodeName.toUpperCase()},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)}},setFilters:{first:function(t,r){return 0===r},last:function(t,r,o,n){return r===n.length-1},even:function(t,r){return r%2==0},odd:function(t,r){return r%2==1},lt:function(t,r,o){return r<o[3]-0},gt:function(t,r,o){return r>o[3]-0},nth:function(t,r,o){return o[3]-0==r},eq:function(t,r,o){return o[3]-0==r}},filter:{PSEUDO:function(t,r,o,n){var a=r[1],l=h.filters[a];if(l)return l(t,o,r,n);if("contains"===a)return(t.textContent||t.innerText||"").indexOf(r[3])>=0;if("not"===a){for(var u=r[3],o=0,c=u.length;o<c;o++)if(u[o]===t)return!1;return!0}},CHILD:function(t,r){var o=r[1],n=t;switch(o){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"==o)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0;case"nth":var a=r[2],l=r[3];if(1==a&&0==l)return!0;var u=r[0],c=t.parentNode;if(c&&(c.sizcache!==u||!t.nodeIndex)){var d=0;for(n=c.firstChild;n;n=n.nextSibling)1===n.nodeType&&(n.nodeIndex=++d);c.sizcache=u}var p=t.nodeIndex-l;if(0==a)return 0==p;return p%a==0&&p/a>=0}},ID:function(t,r){return 1===t.nodeType&&t.getAttribute("id")===r},TAG:function(t,r){return"*"===r&&1===t.nodeType||t.nodeName===r},CLASS:function(t,r){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(r)>-1},ATTR:function(t,r){var o=r[1],n=h.attrHandle[o]?h.attrHandle[o](t):null!=t[o]?t[o]:t.getAttribute(o),a=n+"",l=r[2],u=r[4];return null==n?"!="===l:"="===l?a===u:"*="===l?a.indexOf(u)>=0:"~="===l?(" "+a+" ").indexOf(u)>=0:u?"!="===l?a!=u:"^="===l?0===a.indexOf(u):"$jot="===l?a.substr(a.length-u.length)===u:"|="===l&&(a===u||a.substr(0,u.length+1)===u+"-"):a&&!1!==n},POS:function(t,r,o,n){var a=r[2],l=h.setFilters[a];if(l)return l(t,o,r,n)}}},g=h.match.POS;for(var v in h.match)h.match[v]=RegExp(h.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[v]=RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[v].source);var y=function(t,r){return(t=Array.prototype.slice.call(t,0),r)?(r.push.apply(r,t),r):t};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch($){y=function(t,r){var o=r||[];if("[object Array]"===d.call(t))Array.prototype.push.apply(o,t);else if("number"==typeof t.length)for(var n=0,a=t.length;n<a;n++)o.push(t[n]);else for(var n=0;t[n];n++)o.push(t[n]);return o}}function b(t,r,o,n,a,l){for(var u="previousSibling"==t&&!l,c=0,d=n.length;c<d;c++){var p=n[c];if(p){u&&1===p.nodeType&&(p.sizcache=o,p.sizset=c),p=p[t];for(var f=!1;p;){if(p.sizcache===o){f=n[p.sizset];break}if(1!==p.nodeType||l||(p.sizcache=o,p.sizset=c),p.nodeName===r){f=p;break}p=p[t]}n[c]=f}}}function _(t,r,o,n,a,l){for(var u="previousSibling"==t&&!l,c=0,d=n.length;c<d;c++){var p=n[c];if(p){u&&1===p.nodeType&&(p.sizcache=o,p.sizset=c),p=p[t];for(var f=!1;p;){if(p.sizcache===o){f=n[p.sizset];break}if(1===p.nodeType){if(l||(p.sizcache=o,p.sizset=c),"string"!=typeof r){if(p===r){f=!0;break}}else if(m.filter(r,[p]).length>0){f=p;break}}p=p[t]}n[c]=f}}}document.documentElement.compareDocumentPosition?l=function(t,r){if(!t.compareDocumentPosition||!r.compareDocumentPosition)return t==r&&(p=!0),0;var o=4&t.compareDocumentPosition(r)?-1:t===r?0:1;return 0===o&&(p=!0),o}:"sourceIndex"in document.documentElement?l=function(t,r){if(!t.sourceIndex||!r.sourceIndex)return t==r&&(p=!0),0;var o=t.sourceIndex-r.sourceIndex;return 0===o&&(p=!0),o}:document.createRange&&(l=function(t,r){if(!t.ownerDocument||!r.ownerDocument)return t==r&&(p=!0),0;var o=t.ownerDocument.createRange(),n=r.ownerDocument.createRange();o.setStart(t,0),o.setEnd(t,0),n.setStart(r,0),n.setEnd(r,0);var a=o.compareBoundaryPoints(Range.START_TO_END,n);return 0===a&&(p=!0),a}),r=document.createElement("div"),o="script"+(new Date).getTime(),r.innerHTML="<a name='"+o+"'/>",(n=document.documentElement).insertBefore(r,n.firstChild),document.getElementById(o)&&(h.find.ID=function(t,r,o){if(void 0!==r.getElementById&&!o){var n=r.getElementById(t[1]);return n?n.id===t[1]||void 0!==n.getAttributeNode&&n.getAttributeNode("id").nodeValue===t[1]?[n]:void 0:[]}},h.filter.ID=function(t,r){var o=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&o&&o.nodeValue===r}),n.removeChild(r),n=r=null,(a=document.createElement("div")).appendChild(document.createComment("")),a.getElementsByTagName("*").length>0&&(h.find.TAG=function(t,r){var o=r.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],a=0;o[a];a++)1===o[a].nodeType&&n.push(o[a]);o=n}return o}),a.innerHTML="<a href='#'></a>",a.firstChild&&void 0!==a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(h.attrHandle.href=function(t){return t.getAttribute("href",2)}),a=null,document.querySelectorAll&&function(){var t=m,r=document.createElement("div");if(r.innerHTML="<p class='TEST'></p>",!r.querySelectorAll||0!==r.querySelectorAll(".TEST").length){for(var o in m=function(r,o,n,a){if(o=o||document,!a&&9===o.nodeType&&!j(o))try{return y(o.querySelectorAll(r),n)}catch(l){}return t(r,o,n,a)},t)m[o]=t[o];r=null}}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&(t=document.createElement("div"),t.innerHTML="<div class='test e'></div><div class='test'></div>",0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(h.order.splice(1,0,"CLASS"),h.find.CLASS=function(t,r,o){if(void 0!==r.getElementsByClassName&&!o)return r.getElementsByClassName(t[1])},t=null)));var F=document.compareDocumentPosition?function(t,r){return 16&t.compareDocumentPosition(r)}:function(t,r){return t!==r&&(!t.contains||t.contains(r))},j=function(t){return 9===t.nodeType&&"HTML"!==t.documentElement.nodeName||!!t.ownerDocument&&"HTML"!==t.ownerDocument.documentElement.nodeName},S=function(t,r){for(var o,n=[],a="",l=r.nodeType?[r]:r;o=h.match.PSEUDO.exec(t);)a+=o[0],t=t.replace(h.match.PSEUDO,"");t=h.relative[t]?t+"*":t;for(var u=0,c=l.length;u<c;u++)m(t,l[u],n);return m.filter(a,n)};window.Sizzle=m}(),function(t){var r=Prototype.Selector.extendElements;function o(o,n){return r(t(o,n||document))}function n(r,o){return 1==t.matches(o,[r]).length}Prototype.Selector.engine=t,Prototype.Selector.select=o,Prototype.Selector.match=n}(Sizzle),window.Sizzle=Prototype._original_property,delete Prototype._original_property;var Form={reset:function(t){return(t=$jot(t)).reset(),t},serializeElements:function(t,r){"object"!=typeof r?r={hash:!!r}:Object.isUndefined(r.hash)&&(r.hash=!0);var o,n,a,l,u=!1,c=r.submit;return r.hash?(l={},a=function(t,r,o){return r in t?(Object.isArray(t[r])||(t[r]=[t[r]]),t[r].push(o)):t[r]=o,t}):(l="",a=function(t,r,o){return t+(t?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(o)}),t.inject(l,function(t,r){return!r.disabled&&r.name&&(o=r.name,null!=(n=$jot(r).getValue())&&"file"!=r.type&&("submit"!=r.type||!u&&!1!==c&&(!c||o==c)&&(u=!0))&&(t=a(t,o,n))),t})}};Form.Methods={serialize:function(t,r){return Form.serializeElements(Form.getElements(t),r)},getElements:function(t){for(var r,o=$jot(t).getElementsByTagName("*"),n=[],a=Form.Element.Serializers,l=0;r=o[l];l++)n.push(r);return n.inject([],function(t,r){return a[r.tagName.toLowerCase()]&&t.push(Element.extend(r)),t})},getInputs:function(t,r,o){var n=(t=$jot(t)).getElementsByTagName("input");if(!r&&!o)return $jotA(n).map(Element.extend);for(var a=0,l=[],u=n.length;a<u;a++){var c=n[a];r&&c.type!=r||o&&c.name!=o||l.push(Element.extend(c))}return l},disable:function(t){return t=$jot(t),Form.getElements(t).invoke("disable"),t},enable:function(t){return t=$jot(t),Form.getElements(t).invoke("enable"),t},findFirstElement:function(t){var r,o=$jot(t).getElements().findAll(function(t){return"hidden"!=t.type&&!t.disabled});return o.findAll(function(t){return t.hasAttribute("tabIndex")&&t.tabIndex>=0}).sortBy(function(t){return t.tabIndex}).first()||o.find(function(t){return/^(?:input|select|textarea)$jot/i.test(t.tagName)})},focusFirstElement:function(t){var r=(t=$jot(t)).findFirstElement();return r&&r.activate(),t},request:function(t,r){t=$jot(t);var o=(r=Object.clone(r||{})).parameters,n=t.readAttribute("action")||"";return n.blank()&&(n=window.location.href),r.parameters=t.serialize(!0),o&&(Object.isString(o)&&(o=o.toQueryParams()),Object.extend(r.parameters,o)),t.hasAttribute("method")&&!r.method&&(r.method=t.method),new Ajax.Request(n,r)}},Form.Element={focus:function(t){return $jot(t).focus(),t},select:function(t){return $jot(t).select(),t}},Form.Element.Methods={serialize:function(t){if(!(t=$jot(t)).disabled&&t.name){var r=t.getValue();if(void 0!=r){var o={};return o[t.name]=r,Object.toQueryString(o)}}return""},getValue:function(t){var r=(t=$jot(t)).tagName.toLowerCase();return Form.Element.Serializers[r](t)},setValue:function(t,r){var o=(t=$jot(t)).tagName.toLowerCase();return Form.Element.Serializers[o](t,r),t},clear:function(t){return $jot(t).value="",t},present:function(t){return""!=$jot(t).value},activate:function(t){t=$jot(t);try{t.focus(),t.select&&("input"!=t.tagName.toLowerCase()||!/^(?:button|reset|submit)$jot/i.test(t.type))&&t.select()}catch(r){}return t},disable:function(t){return(t=$jot(t)).disabled=!0,t},enable:function(t){return(t=$jot(t)).disabled=!1,t}};var Field=Form.Element,$jotF=Form.Element.Methods.getValue;Form.Element.Serializers=function(){function t(t,n){switch(t.type.toLowerCase()){case"checkbox":case"radio":return r(t,n);default:return o(t,n)}}function r(t,r){if(Object.isUndefined(r))return t.checked?t.value:null;t.checked=!!r}function o(t,r){if(Object.isUndefined(r))return t.value;t.value=r}function n(t,r){if(Object.isUndefined(r))return("select-one"===t.type?a:l)(t);for(var o,n,u=!Object.isArray(r),c=0,d=t.length;c<d;c++)if(o=t.options[c],n=this.optionValue(o),u){if(n==r){o.selected=!0;return}}else o.selected=r.include(n)}function a(t){var r=t.selectedIndex;return r>=0?u(t.options[r]):null}function l(t){var r,o=t.length;if(!o)return null;for(var n=0,r=[];n<o;n++){var a=t.options[n];a.selected&&r.push(u(a))}return r}function u(t){return Element.hasAttribute(t,"value")?t.value:t.text}return{input:t,inputSelector:r,textarea:o,select:n,selectOne:a,selectMany:l,optionValue:u,button:o}}(),Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function(t,r,o,n){t(n,o),this.element=$jot(r),this.lastValue=this.getValue()},execute:function(){var t=this.getValue();(Object.isString(this.lastValue)&&Object.isString(t)?this.lastValue!=t:String(this.lastValue)!=String(t))&&(this.callback(this.element,t),this.lastValue=t)}}),Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}}),Abstract.EventObserver=Class.create({initialize:function(t,r){this.element=$jot(t),this.callback=r,this.lastValue=this.getValue(),"form"==this.element.tagName.toLowerCase()?this.registerFormCallbacks():this.registerCallback(this.element)},onElementEvent:function(){var t=this.getValue();this.lastValue!=t&&(this.callback(this.element,t),this.lastValue=t)},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(t){if(t.type)switch(t.type.toLowerCase()){case"checkbox":case"radio":Event.observe(t,"click",this.onElementEvent.bind(this));break;default:Event.observe(t,"change",this.onElementEvent.bind(this))}}}),Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}}),function(){var t,r={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{}},o=document.documentElement,n="onmouseenter"in o&&"onmouseleave"in o,a=function(t){return!1};function l(t,r){return t.which?t.which===r+1:t.button===r}window.attachEvent&&(a=window.addEventListener?function(t){return!(t instanceof window.Event)}:function(t){return!0});var u={0:1,1:4,2:2};function c(t,r){return t.button===u[r]}function d(t,r){switch(r){case 0:return 1==t.which&&!t.metaKey;case 1:return 2==t.which||1==t.which&&t.metaKey;case 2:return 3==t.which;default:return!1}}function p(r){return t(r,0)}function f(r){return t(r,1)}function m(r){return t(r,2)}function h(t){var o=(t=r.extend(t)).target,n=t.type,a=t.currentTarget;return a&&a.tagName&&("load"===n||"error"===n||"click"===n&&"input"===a.tagName.toLowerCase()&&"radio"===a.type)&&(o=a),o.nodeType==Node.TEXT_NODE&&(o=o.parentNode),Element.extend(o)}function g(t,o){var n=r.element(t);if(!o)return n;for(;n;){if(Object.isElement(n)&&Prototype.Selector.match(n,o))return Element.extend(n);n=n.parentNode}}function v(t){return{x:y(t),y:$(t)}}function y(t){var r=document.documentElement,o=document.body||{scrollLeft:0};return"createTouch"in document&&t.touches?t.touches[0]?t.touches[0].pageX:t.pageX:t.pageX||t.clientX+(r.scrollLeft||o.scrollLeft)-(r.clientLeft||0)}function $(t){var r=document.documentElement,o=document.body||{scrollTop:0};return"createTouch"in document&&t.touches?t.touches[0]?t.touches[0].pageY:t.pageY:t.pageY||t.clientY+(r.scrollTop||o.scrollTop)-(r.clientTop||0)}function b(t){r.extend(t),t.preventDefault(),t.stopPropagation(),t.stopped=!0}t=window.attachEvent?window.addEventListener?function(t,r){return a(t)?c(t,r):l(t,r)}:c:Prototype.Browser.WebKit?d:l,r.Methods={isLeftClick:p,isMiddleClick:f,isRightClick:m,element:h,findElement:g,pointer:v,pointerX:y,pointerY:$,stop:b};var _=Object.keys(r.Methods).inject({},function(t,o){return t[o]=r.Methods[o].methodize(),t});if(window.attachEvent){function F(t){var r;switch(t.type){case"mouseover":case"mouseenter":r=t.fromElement;break;case"mouseout":case"mouseleave":r=t.toElement;break;default:return null}return Element.extend(r)}var j={stopPropagation:function(){this.cancelBubble=!0},preventDefault:function(){this.returnValue=!1},inspect:function(){return"[object Event]"}};r.extend=function(t,o){if(!t)return!1;if(!a(t)||t._extendedByPrototype)return t;t._extendedByPrototype=Prototype.emptyFunction;var n=r.pointer(t);return Object.extend(t,{target:t.srcElement||o,relatedTarget:F(t),pageX:n.x,pageY:n.y}),Object.extend(t,_),Object.extend(t,j),t}}else r.extend=Prototype.K;function S(t,o,a){var l,u,c=Element.retrieve(t,"prototype_event_registry");Object.isUndefined(c)&&(w.push(t),c=Element.retrieve(t,"prototype_event_registry",$jotH()));try{l=c.get(o)}catch(d){return!1}return Object.isUndefined(l)&&(l=[],c.set(o,l)),!l.pluck("handler").include(a)&&(o.include(":")?u=function(n){if(Object.isUndefined(n.eventName)||n.eventName!==o)return!1;r.extend(n,t),a&&a.call(t,n)}:n||"mouseenter"!==o&&"mouseleave"!==o?u=function(o){r.extend(o,t),a.call(t,o)}:("mouseenter"===o||"mouseleave"===o)&&(u=function(o){r.extend(o,t);for(var n=o.relatedTarget;n&&n!==t;)try{n=n.parentNode}catch(l){n=t}n!==t&&a.call(t,o)}),u.handler=a,l.push(u),u)}function C(){for(var t=0,o=w.length;t<o;t++)r.stopObserving(w[t]),w[t]=null}window.addEventListener&&(r.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__,Object.extend(r.prototype,_));var w=[];Prototype.Browser.IE&&window.attachEvent("onunload",C),Prototype.Browser.WebKit&&window.addEventListener("unload",Prototype.emptyFunction,!1);var A=Prototype.K,E={mouseenter:"mouseover",mouseleave:"mouseout"};function q(t,r,o){t=$jot(t);var n=S(t,r,o);if(!n)return t;if(r.include(":"))t.addEventListener?t.addEventListener("dataavailable",n,!1):(t.attachEvent("ondataavailable",n),t.attachEvent("onlosecapture",n));else{var a=A(r);t.addEventListener?t.addEventListener(a,n,!1):t.attachEvent("on"+a,n)}return t}function T(t,r,o){t=$jot(t);var n=Element.retrieve(t,"prototype_event_registry");if(!n)return t;if(!r)try{return n.each(function(r){var o=r.key;T(t,o)}),t}catch(a){return t}var l=n.get(r);if(!l)return t;if(!o)return l.each(function(o){T(t,r,o.handler)}),t;for(var u,c=l.length;c--;)if(l[c].handler===o){u=l[c];break}if(!u)return t;if(r.include(":"))t.removeEventListener?t.removeEventListener("dataavailable",u,!1):(t.detachEvent("ondataavailable",u),t.detachEvent("onlosecapture",u));else{var d=A(r);t.removeEventListener?t.removeEventListener(d,u,!1):t.detachEvent("on"+d,u)}return n.set(r,l.without(u)),t}function N(t,o,n,a){var l;return t=$jot(t),Object.isUndefined(a)&&(a=!0),t==document&&document.createEvent&&!t.dispatchEvent&&(t=document.documentElement),document.createEvent?(l=document.createEvent("HTMLEvents")).initEvent("dataavailable",a,!0):(l=document.createEventObject()).eventType=a?"ondataavailable":"onlosecapture",l.eventName=o,l.memo=n||{},document.createEvent?t.dispatchEvent(l):t.fireEvent(l.eventType,l),r.extend(l)}function J(t,o,n,a){return t=$jot(t),Object.isFunction(n)&&Object.isUndefined(a)&&(a=n,n=null),new r.Handler(t,o,n,a).start()}n||(A=function(t){return E[t]||t}),r.Handler=Class.create({initialize:function(t,r,o,n){this.element=$jot(t),this.eventName=r,this.selector=o,this.callback=n,this.handler=this.handleEvent.bind(this)},start:function(){return r.observe(this.element,this.eventName,this.handler),this},stop:function(){return r.stopObserving(this.element,this.eventName,this.handler),this},handleEvent:function(t){var o=r.findElement(t,this.selector);o&&this.callback.call(this.element,t,o)}}),Object.extend(r,r.Methods),Object.extend(r,{fire:N,observe:q,stopObserving:T,on:J}),Element.addMethods({fire:N,observe:q,stopObserving:T,on:J}),Object.extend(document,{fire:N.methodize(),observe:q.methodize(),stopObserving:T.methodize(),on:J.methodize(),loaded:!1}),window.Event?Object.extend(window.Event,r):window.Event=r}(),function(){var t;function r(){document.loaded||(t&&window.clearTimeout(t),document.loaded=!0,document.fire("dom:loaded"))}function o(){"complete"===document.readyState&&(document.stopObserving("readystatechange",o),r())}function n(){try{document.documentElement.doScroll("left")}catch(o){t=n.p_defer();return}r()}document.addEventListener?document.addEventListener("DOMContentLoaded",r,!1):(document.observe("readystatechange",o),window==top&&(t=n.p_defer())),Event.observe(window,"load",r)}(),Element.addMethods(),Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(t,r){return Element.insert(t,{before:r})},Top:function(t,r){return Element.insert(t,{top:r})},Bottom:function(t,r){return Element.insert(t,{bottom:r})},After:function(t,r){return Element.insert(t,{after:r})}},$jotcontinue=Error('"throw $jotcontinue" is deprecated, use "return" instead'),Position={includeScrollOffsets:!1,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(t,r,o){return this.includeScrollOffsets?this.withinIncludingScrolloffsets(t,r,o):(this.xcomp=r,this.ycomp=o,this.offset=Element.cumulativeOffset(t),o>=this.offset[1]&&o<this.offset[1]+t.offsetHeight&&r>=this.offset[0]&&r<this.offset[0]+t.offsetWidth)},withinIncludingScrolloffsets:function(t,r,o){var n=Element.cumulativeScrollOffset(t);return this.xcomp=r+n[0]-this.deltaX,this.ycomp=o+n[1]-this.deltaY,this.offset=Element.cumulativeOffset(t),this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+t.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+t.offsetWidth},overlap:function(t,r){return t?"vertical"==t?(this.offset[1]+r.offsetHeight-this.ycomp)/r.offsetHeight:"horizontal"==t?(this.offset[0]+r.offsetWidth-this.xcomp)/r.offsetWidth:void 0:0},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(t){return Position.prepare(),Element.absolutize(t)},relativize:function(t){return Position.prepare(),Element.relativize(t)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(t,r,o){return o=o||{},Element.clonePosition(r,t,o)}};if(document.getElementsByClassName||(document.getElementsByClassName=function(t){function r(t){return t.blank()?null:"[contains(concat(' ', @class, ' '), ' "+t+" ')]"}return t.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(t,o){o=o.toString().strip();var n=/\s/.test(o)?$jotw(o).map(r).join(""):r(o);return n?document._getElementsByXPath(".//*"+n,t):[]}:function(t,r){r=r.toString().strip();var o=[],n=/\s/.test(r)?$jotw(r):null;if(!n&&!r)return o;var a=$jot(t).getElementsByTagName("*");r=" "+r+" ";for(var l,u,c=0;l=a[c];c++)l.className&&(u=" "+l.className+" ")&&(u.include(r)||n&&n.all(function(t){return!t.toString().blank()&&u.include(" "+t+" ")}))&&o.push(Element.extend(l));return o},function(t,r){return $jot(r||document.body).getElementsByClassName(t)}}(Element.Methods)),Element.ClassNames=Class.create(),Element.ClassNames.prototype={initialize:function(t){this.element=$jot(t)},_each:function(t){this.element.className.split(/\s+/).select(function(t){return t.length>0})._each(t)},set:function(t){this.element.className=t},add:function(t){this.include(t)||this.set($jotA(this).concat(t).join(" "))},remove:function(t){this.include(t)&&this.set($jotA(this).without(t).join(" "))},toString:function(){return $jotA(this).join(" ")}},Object.extend(Element.ClassNames.prototype,Enumerable),window.Selector=Class.create({initialize:function(t){this.expression=t.strip()},findElements:function(t){return Prototype.Selector.select(this.expression,t)},match:function(t){return Prototype.Selector.match(t,this.expression)},toString:function(){return this.expression},inspect:function(){return"#<Selector: "+this.expression+">"}}),Object.extend(Selector,{matchElements:function(t,r){for(var o=Prototype.Selector.match,n=[],a=0,l=t.length;a<l;a++){var u=t[a];o(u,r)&&n.push(Element.extend(u))}return n},findElement:function(t,r,o){o=o||0;for(var n,a=0,l=0,u=t.length;l<u;l++)if(n=t[l],Prototype.Selector.match(n,r)&&o===a++)return Element.extend(n)},findChildElements:function(t,r){var o=r.toArray().join(", ");return Prototype.Selector.select(o,t||document)}}),void 0===window.console&&(window.console&&console.firebug||function(t,r){window.console={};for(var o=function(){};r--;)window.console[t[r]]=o}("log debug info warn error assert dir dirxml trace group groupEnd time timeEnd profile profileEnd count".split(" "),16),window.console.error=function(t){throw t}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},void 0===window.Prototype)throw"Error:prototype.js is required by protoplus.js. Go to prototypejs.org and download lates version.";Protoplus={Version:"0.9.9",exec:function(code){return eval(code)},REFIDCOUNT:100,references:{},getIEVersion:function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var r=navigator.userAgent;null!==RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(r)&&(t=parseFloat(RegExp.$jot1))}return t},Transitions:{linear:function(t){return t},sineIn:function(t){return 1-Math.cos(t*Math.PI/2)},sineOut:function(t){return Math.sin(t*Math.PI/2)},sineInOut:function(t){return .5-Math.cos(t*Math.PI)/2},backIn:function(t){var r=1.70158;return t*t*((r+1)*t-r)},backOut:function(t){var r=1.70158;return(t-=1)*t*((r+1)*t+r)+1},backInOut:function(t){var r=1.70158;return(t/=.5)<1?.5*(t*t*(((r*=1.525)+1)*t-r)):.5*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)},cubicIn:function(t){return Math.pow(t,3)},cubicOut:function(t){return 1+Math.pow(t-1,3)},cubicInOut:function(t){return t<.5?4*Math.pow(t,3):1+4*Math.pow(t-1,3)},quadIn:function(t){return Math.pow(t,2)},quadOut:function(t){return 1-Math.pow(t-1,2)},quadInOut:function(t){return t<.5?2*Math.pow(t,2):1-2*Math.pow(t-1,2)},quartIn:function(t){return Math.pow(t,4)},quartOut:function(t){return 1-Math.pow(t-1,4)},quartInOut:function(t){return t<.5?8*Math.pow(t,4):1-8*Math.pow(t-1,4)},quintIn:function(t){return Math.pow(t,5)},quintOut:function(t){return 1+Math.pow(t-1,5)},quintInOut:function(t){return t<.5?16*Math.pow(t,5):1+16*Math.pow(t-1,5)},circIn:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},circOut:function(t){return Math.sqrt(1-Math.pow(t-1,2))},circInOut:function(t){return t<.5?.5-.5*Math.sqrt(1-Math.pow(2*t,2)):.5+.5*Math.sqrt(1-Math.pow(2*t-2,2))},expoIn:function(t){return Math.pow(2,10*(t-1))},expoOut:function(t){return 1-Math.pow(2,-10*t)},expoInOut:function(t){return(t=2*t-1)<0?Math.pow(2,10*t)/2:1-Math.pow(2,-10*t)/2},swingFrom:function(t){var r=1.70158;return t*t*((r+1)*t-r)},swingTo:function(t){var r=1.70158;return(t-=1)*t*((r+1)*t+r)+1},swingFromTo:function(t){var r=1.70158;return(t/=.5)<1?.5*(t*t*(((r*=1.525)+1)*t-r)):.5*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},pulse:function(t,r){return r||(r=1),.5-Math.cos(t*r*2*Math.PI)/2},wobble:function(t,r){return r||(r=3),.5-Math.cos((2*r-1)*t*t*Math.PI)/2},elastic:function(t,r){var o;return 1-Math.cos(8*t*Math.PI)/((o=r?(11-(r=Math.round(Math.max(1,Math.min(10,r)))))*5:30)*t+1)*(1-t)},bounce:function(t,r){for(var o=3-Math.pow(2,2-(r=r?Math.round(r):4)),n=-1,a=0,l=0;n/o<t;)n+=a=Math.pow(2,1-l++);return n-a>0&&(t-=(n-a+a/2)/o),o*o*Math.pow(t,2)+(1-Math.pow(.25,l-1))},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)}},Colors:{colorNames:{Black:"#000000",MidnightBlue:"#191970",Navy:"#000080",DarkBlue:"#00008B",MediumBlue:"#0000CD",Blue:"#0000FF",DodgerBlue:"#1E90FF",RoyalBlue:"#4169E1",SlateBlue:"#6A5ACD",SteelBlue:"#4682B4",CornflowerBlue:"#6495ED",Teal:"#008080",DarkCyan:"#008B8B",MediumSlateBlue:"#7B68EE",CadetBlue:"#5F9EA0",DeepSkyBlue:"#00BFFF",DarkTurquoise:"#00CED1",MediumAquaMarine:"#66CDAA",MediumTurquoise:"#48D1CC",Turquoise:"#40E0D0",LightSkyBlue:"#87CEFA",SkyBlue:"#87CEEB",Aqua:"#00FFFF",Cyan:"#00FFFF",Aquamarine:"#7FFFD4",PaleTurquoise:"#AFEEEE",PowderBlue:"#B0E0E6",LightBlue:"#ADD8E6",LightSteelBlue:"#B0C4DE",Salmon:"#FA8072",LightSalmon:"#FFA07A",Coral:"#FF7F50",Brown:"#A52A2A",Sienna:"#A0522D",Tomato:"#FF6347",Maroon:"#800000",DarkRed:"#8B0000",Red:"#FF0000",OrangeRed:"#FF4500",Darkorange:"#FF8C00",DarkGoldenRod:"#B8860B",GoldenRod:"#DAA520",Orange:"#FFA500",Gold:"#FFD700",Yellow:"#FFFF00",LemonChiffon:"#FFFACD",LightGoldenRodYellow:"#FAFAD2",LightYellow:"#FFFFE0",DarkOliveGreen:"#556B2F",DarkSeaGreen:"#8FBC8F",DarkGreen:"#006400",MediumSeaGreen:"#3CB371",DarkKhaki:"#BDB76B",Green:"#008000",Olive:"#808000",OliveDrab:"#6B8E23",ForestGreen:"#228B22",LawnGreen:"#7CFC00",Lime:"#00FF00",YellowGreen:"#9ACD32",LimeGreen:"#32CD32",Chartreuse:"#7FFF00",GreenYellow:"#ADFF2F",LightSeaGreen:"#20B2AA",SeaGreen:"#2E8B57",SandyBrown:"#F4A460",DarkSlateGray:"#2F4F4F",DimGray:"#696969",Gray:"#808080",SlateGray:"#708090",LightSlateGray:"#778899",DarkGray:"#A9A9A9",Silver:"#C0C0C0",Indigo:"#4B0082",Purple:"#800080",DarkMagenta:"#8B008B",BlueViolet:"#8A2BE2",DarkOrchid:"#9932CC",DarkViolet:"#9400D3",DarkSlateBlue:"#483D8B",MediumPurple:"#9370D8",MediumOrchid:"#BA55D3",Fuchsia:"#FF00FF",Magenta:"#FF00FF",Orchid:"#DA70D6",Violet:"#EE82EE",DeepPink:"#FF1493",Pink:"#FFC0CB",MistyRose:"#FFE4E1",LightPink:"#FFB6C1",Plum:"#DDA0DD",HotPink:"#FF69B4",SpringGreen:"#00FF7F",MediumSpringGreen:"#00FA9A",LightGreen:"#90EE90",PaleGreen:"#98FB98",RosyBrown:"#BC8F8F",MediumVioletRed:"#C71585",IndianRed:"#CD5C5C",SaddleBrown:"#8B4513",Peru:"#CD853F",Chocolate:"#D2691E",Tan:"#D2B48C",LightGrey:"#D3D3D3",PaleVioletRed:"#D87093",Thistle:"#D8BFD8",Crimson:"#DC143C",FireBrick:"#B22222",Gainsboro:"#DCDCDC",BurlyWood:"#DEB887",LightCoral:"#F08080",DarkSalmon:"#E9967A",Lavender:"#E6E6FA",LavenderBlush:"#FFF0F5",SeaShell:"#FFF5EE",Linen:"#FAF0E6",Khaki:"#F0E68C",PaleGoldenRod:"#EEE8AA",Wheat:"#F5DEB3",NavajoWhite:"#FFDEAD",Moccasin:"#FFE4B5",PeachPuff:"#FFDAB9",Bisque:"#FFE4C4",BlanchedAlmond:"#FFEBCD",AntiqueWhite:"#FAEBD7",PapayaWhip:"#FFEFD5",Beige:"#F5F5DC",OldLace:"#FDF5E6",Cornsilk:"#FFF8DC",Ivory:"#FFFFF0",FloralWhite:"#FFFAF0",HoneyDew:"#F0FFF0",WhiteSmoke:"#F5F5F5",AliceBlue:"#F0F8FF",LightCyan:"#E0FFFF",GhostWhite:"#F8F8FF",MintCream:"#F5FFFA",Azure:"#F0FFFF",Snow:"#FFFAFA",White:"#FFFFFF"},getPalette:function(){for(var t={},r=["00","44","77","99","BB","EE","FF"],o=0,n=0;n<r.length;n++)for(var a=0;a<r.length;a++)for(var l=0;l<r.length;l++)t[o+++"_"]="#"+r[n]+r[a]+r[l];return t},getRGBarray:function(t){"string"==typeof t&&(t=t.indexOf("rgb")>-1?t.replace(/rgb\(|\).*?$jot/g,"").split(/,\s*/,3):3==(t=t.replace("#","")).length?t.replace(/(.)/g,function(t){return parseInt(t+t,16)+", "}).replace(/,\s*$jot/,"").split(/,\s+/):t.replace(/(..)/g,function(t){return parseInt(t,16)+", "}).replace(/,\s*$jot/,"").split(/,\s+/));for(var r=0;r<t.length;r++)t[r]=Number(t[r]);return t},rgbToHex:function(){for(var t=[],r=0;r<arguments.length;r++)t.push((arguments[r]<16?"0":"")+Math.round(arguments[r]).toString(16));return"#"+t.join("").toUpperCase()},hexToRgb:function(t){t=t.replace("#","");var r=[];return 3==t.length?t.replace(/(.)/g,function(t){r.push(parseInt(t+t,16))}):t.replace(/(..)/g,function(t){r.push(parseInt(t,16))}),r},invert:function(t){var r=Protoplus.Colors.hexToRgb(t);return Protoplus.Colors.rgbToHex(255-r[0],255-r[1],255-r[2])}},Profiler:{stimes:{},start:function(t){Protoplus.Profiler.stimes[t]=new Date().getTime()},end:function(t,r){var o=((new Date().getTime()-Protoplus.Profiler.stimes[t])/1e3).toFixed(3);if(r)return o;msg=t+" took "+o,"console"in window&&console.log(msg)}}},Object.extend(Hash.prototype,{debug:function(t){for(var r in t=t||{},node=this._object,text=t.text?t.text+"\n":"",node)if(("function"!=typeof node[r]||t.showFunctions)&&(!t.skipBlanks||""!==node[r]&&void 0!==node[r])&&confirm(text+r+" => "+node[r]))return node[r]}}),Object.extend(Object,{deepClone:function(t){if("object"!=typeof t||null===t)return t;var r=Object.isArray(t)?[]:{};for(var o in t){var n=t[o];if("object"==typeof n){if(Object.isArray(n)){r[o]=[];for(var a=0;a<n.length;a++)"object"!=typeof n[a]?r[o].push(n[a]):r[o].push(this.deepClone(n[a]))}else r[o]=this.deepClone(n)}else r[o]=n}return r},isBoolean:function(t){return!0===t||!1===t},isRegExp:function(t){return!!(t&&t.test&&t.exec&&(t.ignoreCase||!1===t.ignoreCase))}}),Object.extend(String.prototype,{cleanJSON:function(){return this.replace(/(\"?)(\:|\,)\s+(\"?)/g,"$jot1$jot2$jot3")},shorten:function(t,r){t=t||"30",r=r||"...";var o=this.substr(0,t);return o+(this.length>t?r:"")},squeeze:function(t){var r="...";if((t=t||"30")-r.length>=this.length)return this;var o,n=Math.floor((t-r.length)/2);return this.substr(0,n+1)+r+this.substr(-n,n)},printf:function(){var t=arguments,r=this.toString(),o=0;return r.replace(/(\%(\w))/gim,function(r,n,a,l){var u=void 0!==t[o]?t[o]:"";switch(o++,a){case"f":return parseFloat(u).toFixed(2);case"d":return parseInt(u,10);case"x":return u.toString(16);case"X":return u.toString(16).toUpperCase();case"s":return u;default:return n}})},sanitize:function(){var t=this;return(t+"").replace(/[\\"']/g,"\\$jot&").replace(/\u0000/g,"\\0")},nl2br:function(t){var r=this,o=t||void 0===t?"<br />":"<br>";return(r+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$jot1"+o)},stripslashes:function(){var t=this;return(t+"").replace(/\\(.?)/g,function(t,r){switch(r){case"\\":return"\\";case"0":return"\0";case"":return"";default:return r}})},turkishToUpper:function(){var t=this,r={i:"\xc4\xb0",:"\xc5",:"\xc4","\xc3\xbc":"\xc3","\xc3\xb6":"\xc3","\xc3\xa7":"\xc3","\xc4\xb1":"I"};return(t=t.replace(/([i])+/g,function(t){return r[t]})).toUpperCase()},turkishToLower:function(){var t=this,r={"\xc4\xb0":"i",I:"\xc4\xb1",:"\xc5",:"\xc4",:"\xc3\xbc","\xc3":"\xc3\xb6","\xc3":"\xc3\xa7"};return(t=t.replace(/([I])+/g,function(t){return r[t]})).toLowerCase()},toCamelCase:function(){var t=this;if(0===(strArr=(newStr=t.replace(/\s+/g,"_")).split("_")).length)return newStr;newStr="";for(var r=0;r<strArr.length;r++)newStr+=strArr[r][0].toUpperCase(),newStr+=strArr[r].substr(1);return newStr},fixUTF:function(){var t={a:"00E1:0103:01CE:00E2:00E4:0227:1EA1:0201:00E0:1EA3:0203:0101:0105:1D8F:1E9A:00E5:1E01:2C65:00E3:0251:1D90",b:"1E03:1E05:0253:1E07:1D6C:1D80:0180:0183",c:"0107:010D:00E7:0109:0255:010B:0188:023C",d:"010F:1E11:1E13:0221:1E0B:1E0D:0257:1E0F:1D6D:1D81:0111:0256:018C",e:"00E9:0115:011B:0229:00EA:1E19:00EB:0117:1EB9:0205:00E8:1EBB:0207:0113:2C78:0119:1D92:0247:1EBD:1E1B",f:"1E1F:0192:1D6E:1D82",g:"01F5:011F:01E7:0123:011D:0121:0260:1E21:1D83:01E5",h:"1E2B:021F:1E29:0125:2C68:1E27:1E23:1E25:0266:1E96:0127",i:"0131:00ED:012D:01D0:00EE:00EF:1ECB:0209:00EC:1EC9:020B:012B:012F:1D96:0268:0129:1E2D",j:"01F0:0135:029D:0249",k:"1E31:01E9:0137:2C6A:A743:1E33:0199:1E35:1D84:A741",l:"013A:019A:026C:013E:013C:1E3D:0234:1E37:2C61:A749:1E3B:0140:026B:1D85:026D:0142:0269:1D7C",m:"1E3F:1E41:1E43:0271:1D6F:1D86",n:"0144:0148:0146:1E4B:0235:1E45:1E47:01F9:0272:1E49:019E:1D70:1D87:0273:00F1",o:"00F3:014F:01D2:00F4:00F6:022F:1ECD:0151:020D:00F2:1ECF:01A1:020F:A74B:A74D:2C7A:014D:01EB:00F8:00F5",p:"1E55:1E57:A753:01A5:1D71:1D88:A755:1D7D:A751",q:"A759:02A0:024B:A757",r:"0155:0159:0157:1E59:1E5B:0211:027E:0213:1E5F:027C:1D72:1D89:024D:027D",s:"015B:0161:015F:015D:0219:1E61:1E63:0282:1D74:1D8A:023F",t:"0165:0163:1E71:021B:0236:1E97:2C66:1E6B:1E6D:01AD:1E6F:1D75:01AB:0288:0167",u:"00FA:016D:01D4:00FB:1E77:00FC:1E73:1EE5:0171:0215:00F9:1EE7:01B0:0217:016B:0173:1D99:016F:0169:1E75:1D1C:1D7E",v:"2C74:A75F:1E7F:028B:1D8C:2C71:1E7D",w:"1E83:0175:1E85:1E87:1E89:1E81:2C73:1E98",x:"1E8D:1E8B:1D8D",y:"00FD:0177:00FF:1E8F:1EF5:1EF3:01B4:1EF7:1EFF:0233:1E99:024F:1EF9",z:"017A:017E:1E91:0291:2C6C:017C:1E93:0225:1E95:1D76:1D8E:0290:01B6:0240",ae:"00E6:01FD:01E3",dz:"01F3:01C6",3:"0292:01EF:0293:1D9A:01BA:01B7:01EE"},r={A:"00C1:0102:01CD:00C2:00C4:0226:1EA0:0200:00C0:1EA2:0202:0100:0104:00C5:1E00:023A:00C3",B:"1E02:1E04:0181:1E06:0243:0182",C:"0106:010C:00C7:0108:010A:0187:023B",D:"010E:1E10:1E12:1E0A:1E0C:018A:1E0E:0110:018B",E:"00C9:0114:011A:0228:00CA:1E18:00CB:0116:1EB8:0204:00C8:1EBA:0206:0112:0118:0246:1EBC:1E1A",F:"1E1E:0191",G:"01F4:011E:01E6:0122:011C:0120:0193:1E20:01E4:0262:029B",H:"1E2A:021E:1E28:0124:2C67:1E26:1E22:1E24:0126",I:"00CD:012C:01CF:00CE:00CF:0130:1ECA:0208:00CC:1EC8:020A:012A:012E:0197:0128:1E2C:026A:1D7B",J:"0134:0248",K:"1E30:01E8:0136:2C69:A742:1E32:0198:1E34:A740",L:"0139:023D:013D:013B:1E3C:1E36:2C60:A748:1E3A:013F:2C62:0141:029F:1D0C",M:"1E3E:1E40:1E42:2C6E",N:"0143:0147:0145:1E4A:1E44:1E46:01F8:019D:1E48:0220:00D1",O:"00D3:014E:01D1:00D4:00D6:022E:1ECC:0150:020C:00D2:1ECE:01A0:020E:A74A:A74C:014C:019F:01EA:00D8:00D5",P:"1E54:1E56:A752:01A4:A754:2C63:A750",Q:"A758:A756",R:"0154:0158:0156:1E58:1E5A:0210:0212:1E5E:024C:2C64",S:"015A:0160:015E:015C:0218:1E60:1E62",T:"0164:0162:1E70:021A:023E:1E6A:1E6C:01AC:1E6E:01AE:0166",U:"00DA:016C:01D3:00DB:1E76:00DC:1E72:1EE4:0170:0214:00D9:1EE6:01AF:0216:016A:0172:016E:0168:1E74",V:"A75E:1E7E:01B2:1E7C",W:"1E82:0174:1E84:1E86:1E88:1E80:2C72",X:"1E8C:1E8A",Y:"00DD:0176:0178:1E8E:1EF4:1EF2:01B3:1EF6:1EFE:0232:024E:1EF8",Z:"0179:017D:1E90:2C6B:017B:1E92:0224:1E94:01B5",AE:"00C6:01FC:01E2",DZ:"01F1:01C4"},o=this.toString();for(var n in t){var a="\\u"+t[n].split(":").join("|\\u");o=o.replace(RegExp(a,"gm"),n)}for(var l in r){var u="\\u"+r[l].split(":").join("|\\u");o=o.replace(RegExp(u,"gm"),l)}return o},ucFirst:function(){return this.charAt(0).toUpperCase()+this.substr(1,this.length+1)}});var __result=document.URL.toQueryParams();Object.extend(document,{createCSS:function(t,r){var o="style-"+t.replace(/\W/gim,"");$jot(o)&&$jot(o).remove();var n=navigator.userAgent.toLowerCase(),a=/msie/.test(n)&&!/opera/.test(n)&&/win/.test(n),l=document.createElement("style");if(l.id=o,l.setAttribute("type","text/css"),l.setAttribute("media","screen"),a||l.appendChild(document.createTextNode(t+" {"+r+"}")),document.getElementsByTagName("head")[0].appendChild(l),a&&document.styleSheets&&document.styleSheets.length>0){var u=document.styleSheets[document.styleSheets.length-1];"object"==typeof u.addRule&&u.addRule(t,r)}},selectRadioOption:function(t,r){t.each(function(t){t.value===r&&(t.checked=!0)})},preloadImages:function(t){var r=arguments;Object.isArray(t)&&(r=t);var o=0;for(o=0,t=[];src=r[o];o++)t.push(new Image),t.last().src=src},readRadioOption:function(t){for(var r=0;r<t.length;r++){var o=t[r];if(!0===o.checked)return o.value}return!1},getEvent:function(t){return t||(t=window.event),t.keyCode||0===t.keyCode||(t.keyCode=t.which),t},parameters:__result,get:__result,ready:function(t){document.observe("dom:loaded",t)},getUnderneathElement:function(t){var r=Prototype.Browser.WebKit?Event.pointerX(t):t.clientX,o=Prototype.Browser.WebKit?Event.pointerY(t):t.clientY;return document.elementFromPoint(r,o)},createCookie:function(t,r,o,n){n=n||"/";var a="";if(o){var l=new Date;l.setTime(l.getTime()+864e5*o),a=";expires="+l.toGMTString()}document.cookie=t+"="+escape(r)+a+";path="+n},readCookie:function(t){for(var r=t+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(r))return decodeURIComponent(a.substring(r.length,a.length))}return null},eraseCookie:function(t){document.createCookie(t,"",-1)},storeJsonCookie:function(t,r,o){var n=Object.toJSON(r).cleanJSON();document.createCookie(t,n,o)},readJsonCookie:function(t){return document.readCookie(t)?document.readCookie(t).toString().evalJSON():{}},getClientDimensions:function(){var t=document.body.parentNode;return{height:t.scrollHeight,width:t.scrollWidth}},keyboardMap:function(t){document.keyMap=t;var r={all_shortcuts:{},add:function(t,r,o){var n={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(o)for(var a in n)void 0===o[a]&&(o[a]=n[a]);else o=n;var l=o.target;"string"==typeof o.target&&(l=document.getElementById(o.target)),t=t.toLowerCase();var u=function(n){if(n=n||window.event,o.disable_in_input){var a;if(n.target?a=n.target:n.srcElement&&(a=n.srcElement),3==a.nodeType&&(a=a.parentNode),"INPUT"==a.tagName||"TEXTAREA"==a.tagName||a.readAttribute("contenteditable")||document._onedit)return}n.keyCode?code=n.keyCode:n.which&&(code=n.which);var l=String.fromCharCode(code).toLowerCase();188==code&&(l=","),190==code&&(l=".");var u=t.split("+"),c=0,d={"`":"~",1:"!",2:"@",3:"#",4:"$jot",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},p={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},f={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};n.ctrlKey&&(f.ctrl.pressed=!0),n.shiftKey&&(f.shift.pressed=!0),n.altKey&&(f.alt.pressed=!0),n.metaKey&&(f.meta.pressed=!0);for(var m=0;m<u.length;m++)"ctrl"==(k=u[m])||"control"==k?(c++,f.ctrl.wanted=!0):"shift"==k?(c++,f.shift.wanted=!0):"alt"==k?(c++,f.alt.wanted=!0):"meta"==k?(c++,f.meta.wanted=!0):k.length>1?p[k]==code&&c++:o.keycode?o.keycode==code&&c++:l==k?c++:d[l]&&n.shiftKey&&(l=d[l])==k&&c++;if(c==u.length&&f.ctrl.pressed==f.ctrl.wanted&&f.shift.pressed==f.shift.wanted&&f.alt.pressed==f.alt.wanted&&f.meta.pressed==f.meta.wanted&&(r(n),!o.propagate))return n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation&&(n.stopPropagation(),n.preventDefault()),!1};this.all_shortcuts[t]={callback:u,target:l,event:o.type},l.addEventListener?l.addEventListener(o.type,u,!1):l.attachEvent?l.attachEvent("on"+o.type,u):l["on"+o.type]=u},remove:function(t){t=t.toLowerCase();var r=this.all_shortcuts[t];if(delete this.all_shortcuts[t],r){var o=r.event,n=r.target,a=r.callback;n.detachEvent?n.detachEvent("on"+o,a):n.removeEventListener?n.removeEventListener(o,a,!1):n["on"+o]=!1}}};$jotH(t).each(function(t){var o=t.key,n=t.value;r.add(o,n.handler,{disable_in_input:n.disableOnInputs})})},checkDocType:function(){if(null===document.doctype)return!1;var t=document.doctype.publicId.toLowerCase();return t.indexOf("html 4")>0||t.indexOf("xhtml")>0}}),Object.extend(Event,{mousewheel:Prototype.Browser.Gecko?"DOMMouseScroll":"mousewheel",wheel:function(t){var r=0;return t||(t=window.event),t.wheelDelta?(r=t.wheelDelta/120,window.opera&&(r=-r)):t.detail&&(r=-t.detail/3),Math.round(r)},isInput:function(t){var r;return t.target?r=t.target:t.srcElement&&(r=t.srcElement),3==r.nodeType&&(r=r.parentNode),"INPUT"==r.tagName||"TEXTAREA"==r.tagName},isRightClick:function(t){var r;if(Prototype.Browser.IE){var o={0:1,1:4,2:2};r=function(t,r){return t.button===o[r]}}else r=Prototype.Browser.WebKit?function(t,r){switch(r){case 0:return 1==t.which&&!t.metaKey;case 1:return 1==t.which&&t.metaKey;case 2:return 3==t.which&&!t.metaKey;default:return!1}}:function(t,r){return t.which?t.which===r+1:t.button===r};return r(t,2)}}),Protoplus.utils={cloneElem:function(t){if(Prototype.Browser.IE){var r=document.createElement("div");return r.innerHTML=t.outerHTML,$jot(r.firstChild)}return t.cloneNode(!0)},openInNewTab:function(t,r){return t.observe("mouseover",function(o){if(!t.tabLink){var n=new Element("a",{href:r,target:"_blank"}).insert("&nbsp;&nbsp;");n.setStyle("opacity:0; z-index:100000; height:5px; width:5px; position:absolute; top:"+(Event.pointerY(o)-2.5)+"px;left:"+(Event.pointerX(o)-2.5)+"px"),n.observe("click",function(){t.tabLinked=!1,n.remove()}),$jot(document.body).insert(n),t.tabLink=n,t.observe("mousemove",function(r){t.tabLink.setStyle("top:"+(Event.pointerY(r)-2.5)+"px;left:"+(Event.pointerX(r)-2.5)+"px")})}}),t},hasFixedContainer:function(t){var r=!1;return t.ancestors().each(function(t){!r&&"fixed"==t.style.position&&(r=!0)}),r},getCurrentStyle:function(t,r){return t.style[r]?t.style[r]:t.currentStyle?t.currentStyle[r]:document.defaultView&&document.defaultView.getComputedStyle?(r=(r=r.replace(/([A-Z])/g,"-$jot1")).toLowerCase(),(s=document.defaultView.getComputedStyle(t,""))&&s.getPropertyValue(r)):null},isOverflow:function(t){t.resized&&t.hideHandlers();var r=t.style.overflow;r&&"visible"!==r||(t.style.overflow="hidden");var o=t.clientWidth<t.scrollWidth,n=t.clientHeight<t.scrollHeight,a=o||n;return t.style.overflow=r,t.resized&&t.showHandlers(),!!a&&{top:!!n&&t.scrollHeight,left:!!o&&t.scrollWidth,both:o&&n}},setUnselectable:function(t){return void 0!==t.style.MozUserSelect&&"form-section-closed"==t.className?t.style.MozUserSelect="normal":void 0!==t.onselectstart?t.onselectstart=function(){return!1}:void 0!==t.style.MozUserSelect?t.style.MozUserSelect="none":t.onmousedown=function(){return!1},t.__oldCursor=t.style.cursor,t.style.cursor="default",t},setSelectable:function(t){return void 0!==t.onselectstart?t.onselectstart=document.createElement("div").onselectstart:void 0!==t.style.MozUserSelect?t.style.MozUserSelect=document.createElement("div").style.MozUserSelect:t.onmousedown="",t.__oldCursor?t.style.cursor=t.__oldCursor:t.style.cursor="",t},selectText:function(t){var r="";return document.selection?((r=document.body.createTextRange()).moveToElementText(t),r.setEndPoint("EndToEnd",r),r.moveStart("character",4),r.moveEnd("character",8),r.select()):(s=window.getSelection(),(r=document.createRange()).setStartBefore(t),r.setEndAfter(t),s.addRange(r)),t},hover:function(t,r,o){return $jot(t).observe("mouseover",function(o){if("function"==typeof r){if(t.innerHTML&&t.descendants().include(o.relatedTarget))return!0;r(t,o)}else"string"==typeof r&&$jot(t).addClassName(r)}),$jot(t).observe("mouseout",function(n){if("function"==typeof o){if(t.innerHTML&&t.descendants().include(n.relatedTarget))return!0;o(t,n)}else"string"==typeof r&&$jot(t).removeClassName(r)}),t},mouseEnter:function(t,r,o){return $jot(t).observe("mouseenter",function(o){"function"==typeof r?r(t,o):"string"==typeof r&&$jot(t).addClassName(r)}),$jot(t).observe("mouseleave",function(n){"function"==typeof o?o(t,n):"string"==typeof r&&$jot(t).removeClassName(r)}),t},setScroll:function(t,r){void 0!==r.x&&(t.scrollLeft=r.x),void 0!==r.y&&(t.scrollTop=r.y)},scrollInto:function(t,r){r=Object.extend({offset:[100,100],direction:"bottom"},r||{}),t=$jot(t);var o=Element.cumulativeOffset(t),n=document.viewport.getDimensions();switch(Element.getDimensions(t),r.direction){case"bottom":o[1]+r.offset[1]>=n.height+window.scrollY?window.scrollTo(window.scrollX,o[1]+r.offset[1]-n.height):0!==window.scrollY&&o[1]+r.offset[1]<=Math.abs(n.height-window.scrollY)&&window.scrollTo(window.scrollX,o[1]+r.offset[1]-n.height);break;case"top":t.getHeight(),0!==window.scrollY&&o[1]<=window.scrollY+r.offset[1]?window.scrollTo(window.scrollX,o[1]-r.offset[1]):0!==window.scrollY&&o[1]+r.offset[1]<=Math.abs(n.height-window.scrollY)&&window.scrollTo(window.scrollX,o[1]-r.offset[1])}return t},getScroll:function(t){return{x:parseFloat(t.scrollLeft),y:parseFloat(t.scrollTop)}},setText:function(t,r){return t.innerHTML=r,t},putValue:function(t,r){return t.clearHint&&t.clearHint(),t.value=r,t},resetUpload:function(t){if(Prototype.Browser.IE){var r=t.parentNode,o=t.cloneNode(!0);return r.replaceChild(o,t),o}return t.value="",t},run:function(t,r){if(r.include(":"))t.fire(r);else{var o,n=!!t.hasClassName("form-dropdown")&&!!t.disabled&&!!t.enable();!document.createEventObject||Prototype.Browser.IE9||Prototype.Browser.IE10?((o=document.createEvent("HTMLEvents")).initEvent(r,!0,!0),n?setTimeout(function(){t.dispatchEvent(o),t.disable()},0):t.dispatchEvent(o)):(o=document.createEventObject(),t.fireEvent("on"+r,o))}return t},setCSSBorderRadius:function(t,r){return t.setStyle({MozBorderRadius:r,borderRadius:r,"-webkit-border-radius":r})},getSelected:function(t){return t.options?t.selectedIndex>=0?t.options[t.selectedIndex]:t:t.innerHTML?t.innerHTML:t.value},selectOption:function(t,r){if(!r)return t;var o=!1;return $jotA(t.options).each(function(t){if(Object.isRegExp(r)&&r.test(t.value))throw t.selected=!0,$jotbreak;r==t.value&&(t.selected=!0,o=!0)}),!1==o&&$jotA(t.options).each(function(t){if(Object.isRegExp(r)&&r.test(t.text))throw t.selected=!0,$jotbreak;r==t.text&&(t.selected=!0)}),t.run("change"),t},stopAnimation:function(t){return t.__stopAnimation=!0,t},shift:function(t,r){if(r=Object.extend({duration:1,onEnd:Prototype.K,onStart:Prototype.K,onStep:Prototype.K,onCreate:Prototype.K,delay:0,link:"cancel",transparentColor:"#ffffff",remove:!1,easingCustom:!1,propertyEasings:{},easing:Protoplus.Transitions.sineOut},r||{}),t.queue||(t.queue=[]),r.onCreate(t,r),"ignore"==r.link&&t.timer)return t;if(("chain"==r.link||"queue"==r.link)&&t.timer)return t.queue.push(r),t;t.timer&&clearInterval(t.timer),t.delayTime&&clearTimeout(t.delayTime),"string"==typeof r.easing?r.easing in Protoplus.Transitions?r.easing=Protoplus.Transitions[r.easing]:r.easing=Protoplus.Transitions.sineOut:"object"==typeof r.easing?(r.propertyEasings=r.easing,r.easing=Protoplus.Transitions.sineOut):"function"!=typeof r.easing&&(r.easing=Protoplus.Transitions.sineOut),r.duration*=1e3,r.delay*=1e3,t.timer=!1;var o,n,a={},l=function(){n=(o=new Date().getTime())+r.duration,r.onStart(t)};for(var u in r)["duration","onStart","onStep","transparentColor","onEnd","onCreate","remove","easing","link","delay","easingCustom","propertyEasings"].include(u)||!1===r[u]||(a[u]=r[u]);var c=/\d+([a-zA-Z%]+)$jot/;for(var d in a){var p,f,m,h,g=d,v=a[d],y=[],$=r.easing;if(["scrollX","scrollLeft","scrollY","scrollTop"].include(g))p=parseFloat(v),m="scrollX"==g?"scrollLeft":"scrollY"==g?"scrollTop":g,f="BODY"==t.tagName?"scrollX"==g||"scrollLeft"==g?window.scrollX:window.scrollY:"scrollX"==g||"scrollLeft"==g?t.scrollLeft:t.scrollTop,h="";else if("rotate"==g)p=parseFloat(v),m="-webkit-transform",f=Element.getStyle(t,"-webkit-transform")?parseInt(Element.getStyle(t,"-webkit-transform").replace(/rotate\(|\)/gim,""),10):0,h="deg";else if(["background","color","borderColor","backgroundColor"].include(g)){"transparent"==v&&(v=r.transparentColor),p=Protoplus.Colors.hexToRgb(v),m="background"==g?"backgroundColor":g;var b=Element.getStyle(t,m);b&&"transparent"!=b||(b=r.transparentColor),f=Protoplus.Colors.getRGBarray(b),h=""}else"opacity"==g?(p="string"==typeof v?parseInt(v,10):v,m=g,f=Element.getStyle(t,g),h="",f=parseFloat(f)):(p="string"==typeof v?parseInt(v,10):v,m=g,f=Element.getStyle(t,g.replace("-webkit-","").replace("-moz-",""))||"0px",h="opacity"==g?"":c.test(f)?f.match(c)[1]:"px",f=parseFloat(f));if(g in r.propertyEasings&&($=Protoplus.Transitions[r.propertyEasings[g]]),p||0===p)a[g]={key:m,to:p,from:f,unit:h,easing:$};else try{y[m]=v,t.style[m]=v}catch(_){}}var F=function(t,r,o){return!1!==o?Math.round(r.from[o]+t*(r.to[o]-r.from[o])):r.from+t*(r.to-r.from)};t.__stopAnimation=!1;var j=function(){var l,u,c,d=new Date().getTime();if(!0===t.__stopAnimation){clearInterval(t.timer),t.timer=!1,t.__stopAnimation=!1;return}if(d>=n){clearInterval(t.timer),t.timer=!1;var p="pulse"==r.easing||r.easing==Protoplus.Transitions.pulse?"from":"to";for(l in a)u=a[l],["scrollX","scrollLeft","scrollY","scrollTop"].include(l)?"BODY"==t.tagName.toUpperCase()?"scrollLeft"==u.key?window.scrollTo(u[p],window.scrollY):window.scrollTo(window.scrollX,u[p]):t[u.key]=u[p]+u.unit:["background","color","borderColor","backgroundColor"].include(l)?t.style[u.key]="rgb("+u[p].join(", ")+")":"opacity"==l?Element.setOpacity(t,u[p]):"rotate"==l?t.style[l]="rotate("+u[p]+u.unit+")":t.style[l]=u[p]+u.unit;if(r.onEnd&&r.onEnd(t),r.remove&&t.remove(),t.queue.length>0){var f=t.queue.splice(0,1);t.shift(f[0])}return t}for(l in r.onStep&&r.onStep(t),a)if("scrollLeft"==(u=a[l]).key||"scrollTop"==u.key){if("BODY"==t.tagName.toUpperCase()){var m=parseInt(F(u.easing((d-o)/r.duration,r.easingCustom),u,!1),10)+u.unit;"scrollLeft"==u.key?window.scrollTo(m,window.scrollY):window.scrollTo(window.scrollX,m)}else t[u.key]=parseInt(F(u.easing((d-o)/r.duration,r.easingCustom),u,!1),10)+u.unit}else if("background"==l||"color"==l||"borderColor"==l||"backgroundColor"==l){c=[];for(var h=0;h<3;h++)c[h]=F(u.easing((d-o)/r.duration,r.easingCustom),u,h);t.style[u.key]="rgb("+c.join(", ")+")"}else"opacity"==l?Element.setOpacity(t,F(u.easing((d-o)/r.duration,r.easingCustom),u,!1)):"rotate"==l?t.style[u.key]="rotate("+F(u.easing((d-o)/r.duration,r.easingCustom),u,!1)+u.unit+")":t.style[l]=F(u.easing((d-o)/r.duration,r.easingCustom),u,!1)+u.unit};return r.delay?t.delayTime=setTimeout(function(){l(),t.timer=setInterval(j,10)},r.delay):(l(),t.timer=setInterval(j,10)),t},fade:function(t,r){r=Object.extend({duration:.5,onEnd:function(t){t.setStyle({display:"none"})},onStart:Prototype.K,opacity:0},r||{}),t.shift(r)},appear:function(t,r){r=Object.extend({duration:.5,onEnd:Prototype.K,onStart:Prototype.K,opacity:1},r||{}),t.setStyle({opacity:0,display:"block"}),t.shift(r)},disable:function(t){return(t=$jot(t)).disabled=!0,t},enable:function(t){return(t=$jot(t)).disabled=!1,t},setReference:function(t,r,o){return t.REFID||(t.REFID=Protoplus.REFIDCOUNT++),Protoplus.references[t.REFID]||(Protoplus.references[t.REFID]={}),Protoplus.references[t.REFID][r]=$jot(o),t},getReference:function(t,r){return!!t.REFID&&Protoplus.references[t.REFID][r]},remove:function(t){return t.REFID&&delete Protoplus.references[t.REFID],t.parentNode&&t.parentNode.removeChild(t),t}},function(t,r){var o=document.createElement("div"),n="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");function a(t,r,o){return(t+(r-t)*o).toFixed(3)}function l(t,r,o){return t.substr(r,o||1)}function u(t,r,o){var n,a,u=2,c=3,d=[],p=[];for(c=3,n=arguments[u-1];u--;){if("r"==l(n,0))for(n=n.match(/\d+/g);c--;)d.push(~~n[c]);else for(4==n.length&&(n="#"+l(n,1)+l(n,1)+l(n,2)+l(n,2)+l(n,3)+l(n,3));c--;)d.push(parseInt(l(n,1+2*c,2),16));c=3,n=arguments[u-1]}for(;c--;)p.push((a=~~(d[c+3]+(d[c]-d[c+3])*o))<0?0:a>255?255:a);return"rgb("+p.join(",")+")"}function c(t){var r=parseFloat(t),o=t.replace(/^[\-\d\.]+/,"");return isNaN(r)?{v:o,f:u,u:""}:{v:r,f:a,u:o}}function d(t){var r,a,l={},u=n.length;for(o.innerHTML='<div style="'+t+'"></div>',r=o.childNodes[0].style;u--;)(a=r[n[u]])&&(l[n[u]]=c(a));return l}r[t]=function(t,r,o){t="string"==typeof t?document.getElementById(t):t,o=o||{};var n,a,l=d(r),u=t.currentStyle?t.currentStyle:getComputedStyle(t,null),p={},f=+new Date,m=o.duration||200,h=f+m,g=o.easing||function(t){return-Math.cos(t*Math.PI)/2+.5};for(n in l)p[n]=c(u[n]);a=setInterval(function(){var r=+new Date,n=r>h?1:(r-f)/m;for(var u in l)t.style[u]=l[u].f(p[u].v,l[u].v,g(n))+l[u].u;r>h&&(clearInterval(a),o.after&&o.after())},10)}}("emile",Protoplus.utils),Element.addMethods(Protoplus.utils),Event.observe(window,"unload",function(){Protoplus=null}),Ajax=Object.extend(Ajax,{Jsonp:function(t,r){this.options=Object.extend({method:"post",timeout:60,parameters:"",force:!1,onComplete:Prototype.K,onSuccess:Prototype.K,onFail:Prototype.K},r||{});var o=t.match(/\?/)?"&":"?";this.response=!1;var n=new Date().getTime();Ajax["callback_"+n]=(function(t){this.response=t}).bind(this),this.callback=Ajax.callback,"string"==typeof this.options.parameters?o+=this.options.parameters:$jotH(this.options.parameters).each(function(t){o+=t.key+"="+encodeURIComponent(t.value)+"&"});var a=/^(\w+:)?\/\/([^\/?#]+)/.exec(t);if(!(a&&(a[1]&&a[1]!=location.protocol||a[2]!=location.host))&&!1===this.options.force)return new Ajax.Request(t,this.options);this.url=t+o+"callbackName=Ajax.callback_"+n+"&nocache="+new Date().getTime(),this.script=new Element("script",{type:"text/javascript",src:this.url});var l=!1;this.onError=(function(t,r,o){l=!0,this.options.onComplete({success:!1,error:t||"Not Found"}),this.options.onFail({success:!1,error:t||"Not Found",args:[t,r,o]}),this.script.remove(),window.onerror=null,this.response=!1}).bind(this),this.onLoad=(function(t){!l&&(clearTimeout(u),this.script.onreadystatechange=null,this.script.onload=null,this.script,this.script.remove(),window.onerror=null,this.response?setTimeout((function(){this.options.onComplete({responseJSON:this.response}),this.options.onSuccess({responseJSON:this.response})}).bind(this),20):this.onError({error:"Callback error"}))}).bind(this),this.readyState=(function(t){var r=this.script.readyState;("loaded"==r||"complete"==r)&&this.onLoad()}).bind(this);var u=setTimeout(this.onError,1e3*this.options.timeout);return this.script.onreadystatechange=this.readyState,this.script.onload=this.onLoad,window.onerror=(function(t,r,o){return clearTimeout(u),this.onError(t,r,o),!0}).bind(this),document.querySelectorAll("head")[0].appendChild(this.script),this}});var _alert=window.alert;location.pathname.match(/^\/answers\/.+/)||(window.alert=function(){var t=arguments,r=1,o=t[0];return"object"==typeof o?($jotH(o).debug(),o):"string"==typeof o?(_alert(o.replace(/(\%s)/gim,function(o){return t[r++]||""})),!0):void _alert(o)});var rand=function(t,r){return Math.floor(Math.random()*(r-t))+t};if("__protoinit"in window&&document.ready(function(t){$jotA(__protoinit).each(function(r){r(t)})}),!function(){if(Prototype.Browser.WebKit){var t=function(t){t.target&&t.target.focus&&t.target.focus()};document.addEventListener("DOMNodeInserted",function(r){("BUTTON"===r.target.tagName||"INPUT"===r.target.tagName&&"text"!==r.target.type)&&r.target.observe("click",t)},!1),document.observe("dom:loaded",function(){document.querySelectorAll('button, input:not([type="text"])').invoke("observe","click",t)})}}(),void 0===window.Protoplus)throw"Error: ProtoPlus is required by ProtoPlus-UI.js";Object.extend(document,{getViewPortDimensions:function(){var t,r;return void 0!==window.innerWidth?(r=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(r=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(r=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{height:t,width:r}},stopTooltips:function(){return document.stopTooltip=!0,document.querySelectorAll(".pp_tooltip_").each(function(t){t.remove()}),!0},startTooltips:function(){document.stopTooltip=!1}}),Protoplus.ui={isVisible:function(t){return!!(t=$jot(t)).parentNode&&(!!t&&"BODY"==t.tagName||"none"!=t.style.display&&"hidden"!=t.style.visibility&&Protoplus.ui.isVisible(t.parentNode))},setDraggable:function(t,r){(r=Object.extend({dragClass:"",handler:!1,dragFromOriginal:!1,onStart:Prototype.K,changeClone:Prototype.K,onDrag:Prototype.K,onDragEnd:Prototype.K,onEnd:Prototype.K,dragEffect:!1,revert:!1,clone:!1,snap:!1,cursor:"move",offset:!1,constraint:!1,constrainLeft:!1,constrainRight:!1,constrainTop:!1,constrainBottom:!1,constrainOffset:!1,constrainViewport:!1,constrainParent:!1,dynamic:!0},r||{})).snap&&("number"==typeof r.snap||"string"==typeof r.snap)&&(r.snap=[r.snap,r.snap]);var o,n="mouseup",a="mousedown",l="mousemove";r.constrainOffset&&4==r.constrainOffset.length&&(r.constrainTop=r.constrainTop?r.constrainTop:r.constrainOffset[0],r.constrainRight=r.constrainRight?r.constrainRight:r.constrainOffset[1],r.constrainBottom=r.constrainBottom?r.constrainBottom:r.constrainOffset[2],r.constrainLeft=r.constrainLeft?r.constrainLeft:r.constrainOffset[3]);var u=!1,c=function(t){if(Event.stop(t),"touchmove"==l&&(t=t.touches[0]),!1!==r.onDrag(drag_element,o,t)){var n=startY+Number(Event.pointerY(t)-mouseY),a=startX+Number(Event.pointerX(t)-mouseX);r.offset&&(n=r.offset[1]+Event.pointerY(t),a=r.offset[0]+Event.pointerX(t)),r.snap&&(n=(n/r.snap[1]).round()*r.snap[1],a=(a/r.snap[0]).round()*r.snap[0]),n=!1!==r.constrainBottom&&n>=r.constrainBottom?r.constrainBottom:n,n=!1!==r.constrainTop&&n<=r.constrainTop?r.constrainTop:n,a=!1!==r.constrainRight&&a>=r.constrainRight?r.constrainRight:a,a=!1!==r.constrainLeft&&a<=r.constrainLeft?r.constrainLeft:a,"vertical"==r.constraint?drag_element.setStyle({top:n+"px"}):"horizontal"==r.constraint?drag_element.setStyle({left:a+"px"}):drag_element.setStyle({top:n+"px",left:a+"px"}),u&&clearTimeout(u),r.onDrag(drag_element,o,t),u=setTimeout(function(){r.onDragEnd(drag_element,o,t)},50)}},d=function(a){Event.stop(a),"touchend"==n&&(a=e.touches[0]),!0!==r.dynamic&&(document.temp.setStyle({top:t.getStyle("top"),left:t.getStyle("left")}),t.parentNode.replaceChild(document.temp,t),document.temp.oldZIndex=t.oldZIndex,t=document.temp),!1!==r.onEnd(drag_element,o,a)&&(t.oldZIndex?drag_element.setStyle({zIndex:t.oldZIndex}):drag_element.setStyle({zIndex:""}),r.revert?(!0===r.revert&&(r.revert={easing:"sineIn",duration:.5}),r.revert=Object.extend({left:drag_element.startX,top:drag_element.startY,opacity:1,duration:.5,easing:"sineIn"},r.revert||{}),drag_element.shift(r.revert),drag_element.startX=!1,drag_element.startY=!1):r.dragEffect&&drag_element.shift({opacity:1,duration:.2})),t.__dragging=!1,drag_element.removeClassName(r.dragClass),o.setSelectable(),drag_element.setSelectable(),$jot(document.body).setSelectable(),document.stopObserving(l,c),document.stopObserving(n,d)};return(o=r.handler?"string"==typeof r.handler&&r.handler.startsWith(".")?t.descendants().find(function(t){return t.className==r.handler.replace(/^\./,"")}):$jot(r.handler):t).setStyle({cursor:r.cursor}),o.observe(a,function(u){if(Event.stop(u),"touchstart"==a&&(u=u.touches[0]),t.__dragging=!0,document.stopDrag)return!0;if(r.dragFromOriginal&&u.target!=o)return!1;var p,f=!1,m=!1;if(r.constrainElement&&(m=Prototype.Browser.IE?{top:0,left:0}:$jot(r.constrainElement).cumulativeOffset(),f=$jot(r.constrainElement).getDimensions()),r.constrainParent&&(m="relative"==$jot(t.parentNode).getStyle("position")||"absolute"==$jot(t.parentNode).getStyle("position")?{top:0,left:0}:Prototype.Browser.IE?{top:0,left:0}:$jot(t.parentNode).cumulativeOffset(),f=$jot(t.parentNode).getDimensions()),r.constrainViewport&&(m=$jot(document.body).cumulativeScrollOffset(),f=document.viewport.getDimensions()),f&&(f.height+=m.top,f.width+=m.left,r.constrainTop=m.top+1,r.constrainBottom=f.height-(t.getHeight()+3),r.constrainRight=f.width-(t.getWidth()+3),r.constrainLeft=m.left+1),!0!==r.dynamic){try{document.temp=t,p=new Element("div").setStyle({height:t.getHeight()+"px",width:t.getWidth()+"px",border:"1px dashed black",top:t.getStyle("top")||0,left:t.getStyle("left")||0,zIndex:t.getStyle("zIndex")||0,position:t.getStyle("position"),background:"#f5f5f5",opacity:.3})}catch(h){}t.parentNode.replaceChild(p,t),t=p}if(["relative","absolute"].include($jot(t.parentNode).getStyle("position")))startX=t.getStyle("left")?parseInt(t.getStyle("left"),10):t.offsetLeft,startY=t.getStyle("top")?parseInt(t.getStyle("top"),10):t.offsetTop;else{var g=t.cumulativeOffset();startX=g.left,startY=g.top}mouseX=Number(Event.pointerX(u)),mouseY=Number(Event.pointerY(u)),r.clone?(drag_element=r.changeClone(t.cloneNode({deep:!0}),startX,startY),$jot(document.body).insert(drag_element)):drag_element=t,r.onStart(drag_element,o,u),drag_element.addClassName(r.dragClass),t.oldZIndex=t.getStyle("z-index")||0,r.dragEffect&&drag_element.shift({opacity:.7,duration:.2}),drag_element.setStyle({position:"absolute",zIndex:99998}),!r.revert||drag_element.startX||drag_element.startY||(drag_element.startX=startX,drag_element.startY=startY),drag_element.setUnselectable(),o.setUnselectable(),$jot(document.body).setUnselectable(),document.observe(l,c),document.observe(n,d)}),t},tooltip:function(t,r,o){return(t=$jot(t),"Prototip"in window)?(o=Object.extend({delay:.01},o||{}),new Tip(t,r,o),t):("string"!=typeof r||(r=(o=Object.extend({className:!1,fixed:!1,opacity:1,title:!1,width:200,height:100,offset:!1,zIndex:1e5,delay:!1,duration:!1,fadeIn:!1,fadeOut:!1,shadow:!1},o||{})).title?"<b>"+o.title+"</b><br>"+r:r,t.hover(function(n,a){var l=document.viewport.getDimensions(),u=function(t){var r=o.offset.top?o.offset.top:15,n=o.offset.left?o.offset.left:15,a=Event.pointerY(t)+r,u=Event.pointerX(t)+n,c=tooldiv.getDimensions();return u+c.width>l.width-20&&(u-=c.width+20+n),a+c.height>l.height-20&&(a-=c.height+r),{top:a,left:u}};if(document.stopTooltip)return document.querySelectorAll(".pp_tooltip_").each(function(t){t.remove()}),!0;outer=new Element("div",{className:"pp_tooltip_"}).setStyle({opacity:o.opacity,position:"absolute",zIndex:o.zIndex}),o.className?tooldiv=new Element("div",{className:o.className}).setStyle({position:"relative",top:"0px",left:"0px",zIndex:10}).update(r):(tooldiv=new Element("div").setStyle({padding:"4px",background:"#eee",width:"auto"==o.width?"auto":o.width+"px",border:"1px solid #333",position:"absolute",top:"0px",left:"0px",zIndex:10}).update(r)).setCSSBorderRadius("5px"),o.shadow&&(shadTop=o.shadow.top?parseInt(o.shadow.top,10):4,shadLeft=o.shadow.left?parseInt(o.shadow.left,10):4,shadBack=o.shadow.back?o.shadow.back:"#000",shadOp=o.shadow.opacity?o.shadow.opacity:.2,o.className?(shadow=new Element("div",{className:o.className||""}).setStyle({position:"absolute",borderColor:"#000",color:"#000",top:shadTop+"px",left:shadLeft+"px",zIndex:9,background:shadBack,opacity:shadOp})).update(r):((shadow=new Element("div",{className:o.className||""}).setStyle({padding:"4px",border:"1px solid black",color:"#000",width:o.width+"px",position:"absolute",top:shadTop+"px",left:shadLeft+"px",zIndex:9,background:shadBack,opacity:shadOp})).setCSSBorderRadius("5px"),shadow.update(r)),outer.appendChild(shadow)),outer.appendChild(tooldiv);var c=function(){if(o.fixed){var r=o.fixed.top?parseInt(o.fixed.top,10):t.getHeight(),n=o.fixed.left?parseInt(o.fixed.left,10):t.getWidth()-50;outer.setStyle({top:r+"px",left:n+"px"})}else t.observe("mousemove",function(t){if(document.stopTooltip)return document.querySelectorAll(".pp_tooltip_").each(function(t){t.remove()}),!0;var r=u(t);outer.setStyle({top:r.top+"px",left:r.left+"px"})})};outer.delay=setTimeout(function(){if(o.fadeIn){document.body.appendChild(outer);var t=u(a);outer.setStyle({opacity:0,top:t.top+"px",left:t.left+"px"}),dur=o.fadeIn.duration?o.fadeIn.duration:1,outer.appear({duration:dur,onEnd:c()})}else{document.body.appendChild(outer);var r=u(a);outer.setStyle({top:r.top+"px",left:r.left+"px"}),setTimeout(c,100)}o.duration&&(outer.duration=setTimeout(function(){o.fadeOut?(dur=o.fadeOut.duration?o.fadeOut.duration:1,outer.fade({duration:dur,onEnd:function(){outer.parentNode&&outer.remove()}})):outer.parentNode&&outer.remove()},1e3*o.duration||0))},1e3*o.delay||0)},function(){if(document.stopTooltip)return document.querySelectorAll(".pp_tooltip_").each(function(t){t.remove()}),!0;outer&&(clearTimeout(outer.delay),clearTimeout(outer.duration)),o.fadeOut?(dur=o.fadeOut.duration?o.fadeOut.duration:.2,outer.fade({duration:dur,onEnd:function(){outer.parentNode&&outer.remove()}})):outer.parentNode&&outer.remove()})),t)},rating:function(t,r){if(t=$jot(t),r=Object.extend({imagePath:"stars.png",onRate:Prototype.K,resetButtonImage:!1,resetButtonTitle:"Cancel Your Rating",resetButton:!0,inputClassName:"",titles:[],disable:!1,disabled:!!t.getAttribute("disabled")&&t.getAttribute("disabled"),stars:t.getAttribute("stars")?t.getAttribute("stars"):5,name:t.getAttribute("name")?t.getAttribute("name"):"rating",value:t.getAttribute("value")?t.getAttribute("value"):0,cleanFirst:!1},r||{}),t.converted)return t;t.converted=!0,t.addClassName("form-star-rating");var o={blank:"0px 0px",over:"-16px 0px",clicked:"-32px 0px",half:"-48px 0px"},n=new Element("input",{type:"hidden",name:r.name,className:r.inputClassName}),a=$jotA([]);t.disabled="true"==r.disabled||!0===r.disabled,t.setStyle({display:"inline-block",width:(parseInt(r.stars,10)+(r.resetButton?1:0))*20+"px",cursor:r.disabled?"default":"pointer"}),t.setUnselectable(),r.cleanFirst&&t.update();var l=function(a){var l=a;a=a||0;var c=$jotA(t.descendants());c.each(function(t){t.setStyle({backgroundPosition:o.blank}).removeClassName("rated")}),c.each(function(t,r){r<a&&t.setStyle({backgroundPosition:o.clicked}).addClassName("rated")}),n.value=a||"",r.disable&&(t.disabled=!0,t.setStyle({cursor:"default"})),t.value=l,r.onRate(t,r.name,a),t.run("keyup"),n.run("change"),r.resetButton&&u[0===a?"hide":"show"]()};if(t.setRating=l,$jotA($jotR(1,r.stars)).each(function(n){var u=new Element("div").setStyle({height:"16px",width:"16px",margin:"0.5px",cssFloat:"left",backgroundImage:"url("+r.imagePath+")"});u.observe("mouseover",function(){!t.disabled&&$jotA(t.descendants()).each(function(t,r){r<n&&t.setStyle({backgroundPosition:t.hasClassName("rated")?o.clicked:o.over})})}).observe("click",function(){t.disabled||l(n)}),r.titles&&r.titles[n-1]&&(u.title=r.titles[n-1]),a.push(u)}),r.disabled||t.observe("mouseout",function(){t.descendants().each(function(t){t.setStyle({backgroundPosition:t.hasClassName("rated")?o.clicked:o.blank})})}),r.resetButton){var u=new Element("div").setStyle({height:"16px",width:"16px",margin:"0.5px",cssFloat:"left",color:"#999",fontSize:"12px",textAlign:"center"});r.resetButtonImage?u.insert(new Element("img",{src:r.resetButtonImage,align:"absmiddle"})):u.insert(" x "),u.title=r.resetButtonTitle,u.hide(),u.observe("click",function(){l(void 0)}),a.push(u)}return a.each(function(r){t.insert(r)}),t.insert(n),r.value>0&&(t.descendants().each(function(t,n){++n<=r.value&&t.setStyle({backgroundPosition:o.clicked}).addClassName("rated"),r.value>n-1&&r.value<n&&t.setStyle({backgroundPosition:o.half}).addClassName("rated")}),n.value=r.value),t},slider:function(t,r){t=$jot(t),r=Object.extend({width:100,onUpdate:Prototype.K,maxValue:100,value:0,buttonBack:'url("../images/ball.png") no-repeat scroll 0px 0px transparent'},r||{}),"JotForm"in window&&"url"in JotForm&&(r.buttonBack='url("'+JotForm.url+'images/ball.png") no-repeat scroll 0px 0px transparent');var o=function(t){var o=100*t/r.maxValue*v/100;return Math.round(o=o<3?3:o)},n=new Element("div",{tabindex:1}),a=new Element("div"),l=new Element("div",{id:new Date().getTime()}),u=new Element("table",{cellpadding:0,cellspacing:1,border:0,width:r.width,className:t.className}),c=new Element("tbody"),d=new Element("tr"),p=new Element("tr"),f=new Element("td",{colspan:3}),m=new Element("td",{align:"center",width:20}).insert("0"),h=new Element("td",{align:"center",width:r.width-40}).insert(r.value).setStyle("font-weight:bold"),g=new Element("td",{align:"center",width:20}).insert(r.maxValue),v=r.width-18,y=r.value;r.value=o(r.value);var $=function(t){var r=parseInt(l.getStyle("left"),10)-t;r=r<=3?3:r,l.setStyle({left:r+"px"}),j(r)},b=function(t){var r=parseInt(l.getStyle("left"),10)+t;r=r>=v?v:r,l.setStyle({left:r+"px"}),j(r)},_=function(t){37==(t=document.getEvent(t)).keyCode?$(5):39==t.keyCode&&b(5)},F=function(t){if(!n.__hasFocus)return!0;t.stop(),n.focus();var r=Event.wheel(t);r>0?b(5):r<0&&$(5)},j=function(o){var a=v;if(3>=parseInt(o,10))t.value=0;else{var l=Math.round(parseInt(o,10)*r.maxValue/a);t.value=parseInt(l,10)}return n.value=0===t.value?"":t.value,u.value=n.value,r.onUpdate(t.value),h.innerHTML=t.value,t.run("keyup"),t.value};n.setStyle({width:r.width+"px",position:"relative",overflow:"hidden",outline:"none"}),a.setStyle({border:"1px solid #999",background:"#eee",margin:"8px",overflow:"hidden",height:"3px"}).setCSSBorderRadius("4px"),l.setStyle({position:"absolute",height:"13px",width:"13px",background:r.buttonBack,overflow:"hidden",border:"1px solid transparent",top:"3px",left:r.value+"px"}).setCSSBorderRadius("8px"),m.setStyle({fontFamily:"Verdana",fontSize:"9px"}),h.setStyle({fontFamily:"Verdana",fontSize:"9px"}),g.setStyle({fontFamily:"Verdana",fontSize:"9px"}),n.insert(a).insert(l),u.insert(c.insert(d).insert(p)),f.insert(n),d.insert(f),p.insert(m).insert(h).insert(g),l.setDraggable({constraint:"horizontal",dragEffect:!1,cursor:"default",constrainLeft:3,constrainRight:v,onDrag:function(t){j(t.getStyle("left"))}}),n.observe("focus",function(){n.__hasFocus=!0,n.setStyle({borderColor:"#333"})}).observe("blur",function(){n.__hasFocus=!1,n.setStyle({borderColor:"#ccc"})}),n.observe("keypress",_).observe(Event.mousewheel,F),n.observe("click",function(t){if(t.target.id==l.id)return!1;var r=Event.pointerX(t)-a.cumulativeOffset().left;r=(r=r<3?3:r)>v?v:r,l.shift({left:r,duration:.5}),j(r)});var S=new Element("input",{type:"hidden",className:"form-slider",name:t.name,value:y,id:t.id});return t.parentNode.replaceChild(S,t),t=S,$jot(S.parentNode).insert(u.setUnselectable()),S.setSliderValue=function(t){var r=o(t);l.shift({left:r,duration:.5}),j(r)},S},spinner:function(t,r){t=$jot(t),r=Object.extend({width:60,cssFloat:!1,allowNegative:!1,addAmount:1,maxValue:!1,minValue:!1,readonly:!1,value:!1,size:5,imgPath:"images/",onChange:Prototype.K},r||{}),t.size=r.size,!1===r.value?t.value=parseFloat(t.value)||"0":t.value=r.value,r.minValue?parseFloat(t.value)<parseFloat(r.minValue)&&(t.value=r.minValue):!r.allowNegative&&0>parseFloat(t.value)&&(t.value="0"),t.writeAttribute("autocomplete","off");var o,n,a,l,u,c,d,p={height:"10px",cursor:"default",textAlign:"center",width:"7px",fontSize:"9px",paddingLeft:"4px",paddingRight:"2px",border:"1px solid #ccc",background:"#f5f5f5"},f=new Element("div",{tabindex:"1"});r.cssFloat&&f.setStyle({cssFloat:r.cssFloat,marginRight:"5px"}),f.setStyle({width:r.width+"px"}),o=new Element("table",{className:"form-spinner",cellpadding:0,cellspacing:0,border:0,height:20,width:r.width}),n=new Element("tbody").insert(a=new Element("tr")),f.insert(o),o.insert(n),t.parentNode.replaceChild(f,t),a.insert(u=new Element("td",{className:"form-spinner-input-td",rowspan:2}).insert(t)).insert(c=new Element("td",{className:"form-spinner-up"}).insert(new Element("img",{src:r.imgPath+"bullet_arrow_up.png",align:"right",alt:"up arrow"}))),n.insert(l=new Element("tr").insert(d=new Element("td",{className:"form-spinner-down"}).insert(new Element("img",{src:r.imgPath+"bullet_arrow_down.png",align:"right",alt:"down arrow"})))),o.setStyle({border:"1px solid #ccc",borderCollapse:"collapse",background:"#fff"}),c.setStyle(p),d.setStyle(p),u.setStyle({paddingRight:"2px"}),t.setStyle({height:"100%",width:"100%",border:"none",padding:"0px",fontSize:"14px",textAlign:"right",outline:"none"});var m=function(o){if(!t.hasAttribute("disabled")){if(parseFloat(t.value)||(t.value=0),!(r.maxValue&&Number(t.value)>=Number(r.maxValue))){var n=parseInt(t.value)===parseFloat(t.value)?0:(t.value+"").split(".")[1].length,a=parseFloat(r.addAmount)===parseInt(r.addAmount)?0:(r.addAmount+"").split(".")[1].length,l=n>a?n:a;t.value=(parseFloat(t.value)+parseFloat(r.addAmount)).toFixed(l),r.onChange(t.value)}}},h=function(o){if(!t.hasAttribute("disabled")){parseFloat(t.value)||(t.value=0);var n=parseInt(t.value)===parseFloat(t.value)?0:(t.value+"").split(".")[1].length,a=parseFloat(r.addAmount)===parseInt(r.addAmount)?0:(r.addAmount+"").split(".")[1].length,l=n>a?n:a,u=(parseFloat(t.value)-parseFloat(r.addAmount)).toFixed(l);if(r.minValue){if(Number(u)<Number(r.minValue))return}else if(!r.allowNegative&&u<0)return;t.value=u,r.onChange(t.value)}},g=function(t,r){("INPUT"!=t.target.tagName||2!=r)&&(38==(t=document.getEvent(t)).keyCode?(m(t),t.stop()):40==t.keyCode&&(h(t),t.stop()))};return c.observe("click",function(r){m(r),t.run("keyup")}).setUnselectable(),d.observe("click",function(r){h(r),t.run("keyup")}).setUnselectable(),t.observe(Prototype.Browser.Gecko?"keypress":"keydown",function(t){g(t,1)}),f.observe(Prototype.Browser.Gecko?"keypress":"keydown",function(t){g(t,2)}),r.readonly&&t.writeAttribute("readonly","readonly"),t.observe("change",function(){r.onChange(t.value)}),t},miniLabel:function(t,r,o){o=Object.extend({position:"bottom",color:"#666",size:9,text:"",nobr:!1},o||{}),t.wrap("span"),(span=$jot(t.parentNode)).setStyle({whiteSpace:"nowrap",cssFloat:"left",marginRight:"5px"});var n={paddingLeft:"1px",fontSize:o.size+"px",color:o.color,cursor:"default"},a=function(){t.focus()},l="<br>";return o.nobr&&(l=""),"top"==o.position?t.insert({before:new Element("span").setText(r+l).setStyle(n).observe("click",a)}).insert({after:o.text}):t.insert({after:new Element("span").setText(l+r).setStyle(n).observe("click",a)}).insert({after:o.text}),span},hint:function(t,r,o){if("placeholder"in(t=$jot(t)))return t.writeAttribute("placeholder",r),t;if("number"==t.type)return t.value="0",t;if(t.removeHint)return t.hintClear();o=Object.extend({hintColor:"#bbb"},o||{});var n=t.getStyle("color")||"#000";""===t.value&&(t.setStyle({color:o.hintColor}),t.value=r,t.hinted=!0);var a=function(){t.value==r?(t.value="",t.setStyle({color:n}).hinted=!1):"true"==t.readAttribute("masked")&&(t.setStyle({color:n}).hinted=!1)},l=function(){setTimeout(function(){""===t.value&&(t.value=r,t.setStyle({color:o.hintColor}).hinted=!0)},"true"==t.readAttribute("masked")?10:0)};"true"==t.readAttribute("masked")&&t.observe("mouseleave",l);var u=function(){t.value==r&&(t.value="",t.hinted=!1)};return t.observe("focus",a),t.observe("blur",l),t.form&&$jot(t.form).observe("submit",u),t.runHint=l,t.clearHint=function(){t.value="",t.setStyle({color:n}).hinted=!1},t.hintClear=function(){return t.value=r,t.setStyle({color:o.hintColor}).hinted=!0,t},t.removeHint=function(){return t.setStyle({color:n}),t.value==r&&(t.value=""),t.hintClear=void 0,t.hinted=void 0,t.removeHint=void 0,t.stopObserving("focus",a),t.stopObserving("blur",l),t.form&&$jot(t.form).stopObserving("submit",u),t},t}},Element.addMethods(Protoplus.ui);var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",conditions:{},calculations:{},condValues:{},progressBar:!1,forms:[],saveForm:!1,imageFiles:["png","jpg","jpeg","ico","tiff","bmp","gif","apng","jp2","jfif"],autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,payment:!1,fieldsToPreserve:[],saving:!1,loadingPendingSubmission:!1,sessionID:null,submissionToken:null,submissionID:null,texts:{confirmEmail:"E-mail does not match",pleaseWait:"Please wait...",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",required:"This field is required.",requireOne:"At least one field required.",requireEveryRow:"Every row is required.",requireEveryCell:"Every cell is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",cyrillic:"This field can only contain cyrillic characters",url:"This field can only contain a valid URL",currency:"This field can only contain currency values.",fillMask:"Field value must fill mask.",uploadExtensions:"You can only upload following files:",noUploadExtensions:"File has no extension file type (e.g. .txt, .png, .jpeg)",uploadFilesize:"File size cannot be bigger than:",uploadFilesizemin:"File size cannot be smaller than:",gradingScoreError:"Score total should only be less than or equal to",inputCarretErrorA:"Input should not be less than the minimum value:",inputCarretErrorB:"Input should not be greater than the maximum value:",maxDigitsError:"The maximum digits allowed is",freeEmailError:"Free email accounts are not allowed",minSelectionsError:"The minimum required number of selections is ",maxSelectionsError:"The maximum number of selections allowed is ",pastDatesDisallowed:"Date must not be in the past.",dateLimited:"This date is unavailable.",dateInvalid:"This date is not valid. The date format is {format}",dateInvalidSeparate:"This date is not valid. Enter a valid {element}.",multipleFileUploads_typeError:"{file} has invalid extension. Only {extensions} are allowed.",multipleFileUploads_sizeError:"{file} is too large, maximum file size is {sizeLimit}.",multipleFileUploads_minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",multipleFileUploads_emptyError:"{file} is empty, please select files again without it.",multipleFileUploads_uploadFailed:"File upload failed, please remove it and upload the file again.",multipleFileUploads_onLeave:"The files are being uploaded, if you leave now the upload will be cancelled.",multipleFileUploads_fileLimitError:"Only {fileLimit} file uploads allowed.",generalError:"There are errors on the form. Please fix them before continuing.",generalPageError:"There are errors on this page. Please fix them before continuing.",wordLimitError:"Too many words. The limit is",wordMinLimitError:"Too few words.  The minimum is",characterLimitError:"Too many Characters.  The limit is",characterMinLimitError:"Too few characters. The minimum is",ccInvalidNumber:"Credit Card Number is invalid.",ccInvalidCVC:"CVC number is invalid.",ccInvalidExpireDate:"Expire date is invalid.",ccMissingDetails:"Please fill up the credit card details.",ccMissingProduct:"Please select at least one product.",ccMissingDonation:"Please enter numeric values for donation amount.",disallowDecimals:"Please enter a whole number.",ccDonationMinLimitError:"Minimum amount is {minAmount} {currency}"},paymentTexts:{couponApply:"Apply",couponChange:"Change",couponEnter:"Enter Coupon",couponExpired:"Coupon is expired. Please try another one.",couponInvalid:"Coupon is invalid. Please try another one.",couponValid:"Coupon is valid.",couponBlank:"Please enter a coupon.",shippingShipping:"Shipping",totalTotal:"Total",totalSubtotal:"Subtotal",taxTax:"Tax"},paymentFields:["control_stripe","control_paymill","control_payment","control_paypal","control_paypalexpress","control_paypalpro","control_clickbank","control_2co","control_googleco","control_worldpay","control_onebip","control_authnet","control_dwolla","control_braintree","control_square","control_boxpayment","control_eway"],isEncrypted:!1,tempUploadFolderInjected:!1,encryptAll:function(t,r){t.stop();var o=["control_captcha","control_paypal","control_stripe","control_2co","control_paypalexpress","control_authnet","control_paypalpro","control_paymill","control_braintree","control_dwolla","control_payment","control_square","control_boxpayment","control_eway","control_bluepay","control_worldpay","control_firstdata","control_payjunction","control_worldpayus","control_wepay","control_chargify","control_cardconnect","control_echeck","control_bluesnap"],n=["control_number","control_spinner","control_email","control_dropdown","control_datetime","control_matrix","control_birthdate","control_time","control_scale",],a=["control_stripe","control_braintree","control_square","control_eway","control_bluepay","control_wepay"],l=!0,u=[];document.querySelectorAll(".form-textbox, .form-textarea, .form-radio, .form-checkbox, .form-dropdown, .form-number-input").each(function(t){var r=t.up("li");if(r){var c=r.readAttribute("data-type"),d=t.id.replace(/[^_]+_(\d+)(.+)?/,"$jot1"),p=t.name;if(a.indexOf(c)>-1&&JotForm.paymentTotal>0&&(l=!1),-1===o.indexOf(c)){if(["form-checkbox","form-radio"].include(t.className)){if(!t.checked)return;p=t.name+"_"+t.id.replace(/.+_([0-9]+$jot)/,"$jot1")}if(!("control_matrix"==c&&["checkbox","radio"].include(t.type))&&(-1===u.indexOf(p)||t.up().hasClassName("form-matrix-values")||t.up(1).hasClassName("form-matrix-values"))&&void 0!==t.value&&(!(t.value.length>300)||t.value.indexOf("==")!=t.value.length-2)){var f=JotForm.uniqueField&&JotForm.uniqueField==t.id.replace(/\w+_(\d+)(.+)?/,"$jot1");if(JotForm.fieldsToPreserve.indexOf(d)>-1||f){var m=t.name.replace(/(\w+)(\[\w+\])?/,"$jot1_unencrypted$jot2");JotForm.forms[0].insert(new Element("input",{type:"hidden",name:m}).putValue(t.value))}var h=JotEncrypted.encrypt(t.value);if(u.push(p),"control_textarea"==c){var g=document.querySelectorAll('[name="'+t.name+'"]');for(x=0;x<g.length;x++)g[x].value=h;return}if(-1!==n.indexOf(c)||"SELECT"==t.tagName){if("control_scale"==c&&!t.checked){u=u.filter(function(r){return r!==t.name});return}document.querySelectorAll(".jotform-form")[0].insert(new Element("input",{type:"hidden",name:t.name}).putValue(h)),"control_matrix"==c&&(t.name="");return}if(t.getAttribute("data-masked")){var v=t.getAttribute("maskvalue");JotForm.setQuestionMasking(t,"",v,!0)}t.value=h}}}}),r(l)},getServerURL:function(){var t,r=document.querySelectorAll(".jotform-form")[0],o=window.location.origin||window.location.protocol+"//"+window.location.hostname;if(r){if(o.include(".jotform.pro")){this.server=o+"/server.php",this.url=o;return}if(t=r.readAttribute("action")){if(t.include("submit.php")||t.include("server.php")){var n=t.include("server.php")?"server":"submit";this.server=t.replace(n+".php","server.php"),this.url=t.replace(n+".php","")}else{var a=t.replace(/\/submit\/.*?$jot/,"/");t.include("pci.jotform.com")&&(a=a.replace("pci.","submit.")),this.server=a+"server.php",this.url=a}}}},alterTexts:function(t,r){r&&t?(Object.extend(this.paymentTexts,t),this.changePaymentStrings(t)):Object.extend(this.texts,t||{})},ie:function(){for(var t,r=3,o=document.createElement("div"),n=o.getElementsByTagName("i");o.innerHTML="<!--[if gt IE "+ ++r+"]><i></i><![endif]-->",n[0];);return r>4?r:t},createConsole:function(){$jotA(["log","info","warn","error"]).each((function(t){this[t]=function(){if(JotForm.debug&&"console"in window)try{console[t].apply(this,arguments)}catch(r){"string"==typeof arguments[0]?console.log(t.toUpperCase()+": "+$jotA(arguments).join(", ")):Prototype.Browser.IE?alert(t+": "+arguments[0]):console[t](arguments[0])}}}).bind(this)),JotForm.debug&&(JotForm.debugOptions=document.readJsonCookie("debug_options"))},init:function(t){var r=(function(){try{if(this.populateGet(),"1"==document.get.debug&&(this.debug=!0),this.createConsole(),this.getServerURL(),this.checkJSON(),t&&t(),-1!==window.location.href.indexOf("/edit/")&&(document.get.sid=window.location.href.split("/").last(),this.editMode()),("edit"==document.get.mode||"inlineEdit"==document.get.mode||"submissionToPDF"==document.get.mode)&&document.get.sid&&this.editMode(),this.noJump="nojump"in document.get,this.uniqueID=this.uniqid(),this.sessionID="session"in document.get&&document.get.session.length>0&&document.get.session,this.submissionToken="stoken"in document.get&&document.get.stoken.length>0&&document.get.stoken,this.submissionID="sid"in document.get&&document.get.sid.length>0&&document.get.sid,this.handleSavedForm(),this.setTitle(),this.setHTMLClass(),this.getDefaults(),this.noJump&&window.parent.postMessage("removeIframeOnloadAttr","*"),document.querySelectorAll('input[name="simple_fpc"]').length>0&&(this.payment=document.querySelectorAll('input[name="simple_fpc"]')[0].getAttribute("data-payment_type")),document.querySelectorAll(".form-product-custom_price").length&&this.handleSubscriptionPrice(),"paypalpro"===this.payment&&this.handlePaypalPro(),"braintree"===this.payment&&this.handleBraintree(),"square"===this.payment&&this.handleSquare(),"authnet"===this.payment&&this.handleAuthNet(),"paypalexpress"===this.payment&&this.handlePaypalExpress(),$jot("coupon-button")&&this.handleCoupon(),document.querySelectorAll(".paypal-button").length>0&&$jot("use_paypal_button")&&this.handlePaypalButtons(),this.handleFormCollapse(),this.handlePages(),this.checkEmbed(),document.querySelectorAll(".form-product-has-subproducts").length>0&&this.handlePaymentSubProducts(),window.parent&&window.parent!=window){if((document.referrer&&document.referrer.split("?")[1]||"").indexOf("disableSmartEmbed")>-1&&document.querySelectorAll(".isSmartEmbed").each(function(t){t.removeClassName("isSmartEmbed")}),this.handleIFrameHeight(),document.querySelectorAll('li[data-type="control_captcha"]').length)var r=setInterval(function(){$jot("recaptcha_challenge_image")&&(clearInterval(r),JotForm.handleIFrameHeight())},500)}else document.querySelectorAll(".isSmartEmbed").each(function(t){t.removeClassName("isSmartEmbed")});Element.prototype.triggerEvent=function(t){var r=!!this.hasClassName("form-dropdown")&&!!this.disabled&&!!this.enable();if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),this.dispatchEvent(o)}else this.fireEvent&&this.fireEvent("on"+t);r&&this.disable()},this.jumpToPage(),this.highLightLines(),this.setButtonActions(),this.initGradingInputs(),this.initSpinnerInputs(),this.initNumberInputs(),this.setConditionEvents(),this.setCalculationEvents(),this.runAllCalculations(),this.setCalculationResultReadOnly(),this.prePopulations(),this.handleAutoCompletes(),this.handleTextareaLimits(),this.handleDateTimeChecks(),this.handleOtherOptions(),this.setFocusEvents(),this.disableAcceptonChrome(),this.handleScreenshot(),$jotA(document.forms).each((function(t){(t.name=="form_"+t.id||t.name=="q_form_"+t.id)&&this.forms.push(t)}).bind(this));var o=document.querySelectorAll("div[id^=recaptcha_input]").length;(!o||document.querySelectorAll('*[class*="validate"]').length>o)&&this.validator(),this.fixIESubmitURL(),this.disableHTML5FormValidation(),$jot("progressBar")&&this.setupProgressBar(),document.querySelectorAll('input[id*="_donation"]').length>0&&this.handleDonationAmount(),getQuerystring("nosubmit")&&document.querySelectorAll(".form-submit-button").each(function(t){t.disable()}),getQuerystring("displayAllSections")&&document.querySelectorAll(".form-section").each(function(t){t.setStyle({display:"block"})}),navigator.userAgent.match(/iPhone|iPad/g)&&(window.onpageshow=function(t){t.persisted&&JotForm.enableButtons()});var n=getQuerystring("preview");if((n=!!n&&"true"===n)?this.handlePreview("true"===getQuerystring("filled")):this.initializing&&this.track(),this.additionalActionsFormEmbedded(),JotForm.showJotFormLogo){if(window.FORM_MODE&&"cardform"==window.FORM_MODE)return;var a=document.querySelectorAll(".form-all")[0];if(a){var l=document.querySelectorAll('input[name="formID"]')[0].value,u="orange",c="#f38632",d="#aaa",p="//cdn.jotfor.ms/img/jot-logo-orange.png?v3",f="#fff";"white"===u&&(c="#fff",d="#fff",p="//cdn.jotfor.ms/img/jot-logo-white.png?v2",f="#f38632");var m=document.createElement("div");m.className="jotform-ad",m.style.overflow="hidden",m.style.borderTop="1px solid #eee",m.style.padding="0 18px",m.style.textDecoration="none",m.style.fontFamily='"Lucida Grande", "Lucida Sans", "Lucida Sans Unicode", sans-serif',m.style.fontSize="12px",m.style.color=d,m.style.background=f;var h=document.createElement("a");h.href="https://www.jotform.com/?utm_source=formfooter&utm_medium=banner&utm_term="+l+"&utm_content=form_footer_banner&utm_campaign=form_footer_signup_hp",h.target="_blank",h.setText("Powered by"),h.style.lineHeight="48px",h.style.float="left",h.style.textDecoration="none";var g=document.createElement("img");g.src=p,g.alt="JotForm",g.style.height="23px",g.style.width="100px",g.style.marginLeft="3px",g.style.marginTop="-1px",g.style.display="inline-block",g.style.verticalAlign="middle",g.style.border="none",h.appendChild(g),(bannerTextLink=document.createElement("a")).target="_blank",bannerTextLink.href="https://www.jotform.com/signup?utm_source=formfooter&utm_medium=banner&utm_term="+l+"&utm_content=form_footer_text&utm_campaign=form_footer_signup",bannerTextLink.style.float="right",bannerTextLink.style.color=c,bannerTextLink.style.lineHeight="48px",bannerTextLink.setText("Create your own form today!"),m.appendChild(h),m.appendChild(bannerTextLink),a.appendChild(m)}}var v=function(){var t=document.querySelector(".form-submit-button");if(null!==t){var r=document.querySelectorAll(".jotform-form")[0].getAttribute("id"),o=t.parentNode,n=document.createElement("a");n.target="_blank",n.href="https://www.jotform.com/?utm_source=powered_by_jotform&utm_medium=banner&utm_term="+r+"&utm_content=powered_by_jotform_text&utm_campaign=powered_by_jotform_signup_hp",n.setText("Powered by JotForm"),n.style.display="inline-block",n.style.textDecoration="none";var a="#000000",l="",u=document.querySelector(".form-label");null!==u&&(a=getComputedStyle(document.querySelector(".form-label")).color,l=getComputedStyle(document.querySelector(".form-label")).fontFamily),n.style.opacity=.8,n.style.webkitFontSmoothing="antialiased",n.style.color=a,n.style.fontFamily=l,n.style.fontSize="11px",n.className="jf-branding";var c=document.createElement("br");if(o.appendChild(c),o.appendChild(n),"center"!==getComputedStyle(o).textAlign){var d=n.getBoundingClientRect(),p=t.getBoundingClientRect(),f=Math.abs((d.width-p.width)/2);d.width>p.width?n.style.marginLeft="-"+f+"px":n.style.marginLeft=f+"px"}}};"old_footer"==JotForm.showJotFormPowered&&v()}catch(y){JotForm.error(y)}this.initializing=!1}).bind(this);"complete"==document.readyState||this.jsForm&&(void 0===document.readyState||"interactive"===document.readyState)?r():document.ready(r)},iframeRezizeTimeout:null,iframeHeightCaller:function(){window.parent&&window.parent!=window&&(clearTimeout(this.iframeRezizeTimeout),this.iframeRezizeTimeout=setTimeout((function(){this.handleIFrameHeight()}).bind(this),50))},handleIFrameHeight:function(){var t=document.querySelectorAll(".jotform-form").length>0?document.querySelectorAll(".jotform-form")[0]:document.querySelectorAll("body")[0],r=Math.max(t.getHeight(),t.scrollHeight,t.offsetHeight);if(r="Please Complete"===document.title?300:r,"cardform"===window.FORM_MODE){$jot(document.body).addClassName("isEmbed");var o=$jot(document.body).hasClassName("welcomeMode"),n=0;if(o){var a=document.querySelectorAll(".welcomeMode .jfWelcome-wrapper");a.length>0&&(n=a[0].getHeight(),n+=100)}var l=0,a=document.querySelectorAll(".welcomeMode");a.length>0&&window.innerWidth>768&&(l=60);var u=l,c=document.querySelectorAll(".jfWelcome-header");c.length>0&&(u+=c[0].getHeight());var d=0;document.querySelectorAll(".jfQuestion-fields").each(function(t){d=Math.max(t.getHeight(),d)});var p=0;document.querySelectorAll(".jfCard").forEach(function(t){var r=t.getElementsBySelector(".jfQuestion-label, .jfQuestion-description"),o=0;return r.forEach(function(t){o+=t.getHeight()}),Math.max(p,o)},0);var f=document.querySelector("jfCard");if(f)var m=f.getStyle("fontSize").slice(0,-2);if($jot(document.body).hasClassName("isSmartEmbed"))try{var h=window.parent.document.querySelector('[id="'+t.id+'"], [id="JotFormIFrame-'+t.id+'"]');r=h&&h.hasAttribute("data-frameHeight")?h.getAttribute("data-frameHeight"):464}catch(g){r=464}else r=640}"console"in window&&"log"in console&&JotForm.debug&&console.log("Debug : setting height to ",r," from iframe"),window.parent.postMessage("setHeight:"+r+":"+t.id,"*")},removeCover:function(){document.querySelectorAll(".form-cover-wrapper").each(function(t){t.remove()}),document.querySelectorAll(".form-all").each(function(t){t.removeClassName("top-cover").removeClassName("left-cover").removeClassName("right-cover")})},fixIESubmitURL:function(){try{8>=this.ie()&&navigator.appVersion.indexOf("NT 5.")&&$jotA(this.forms).each(function(t){t.action.include("s://submit.")&&(t.action=t.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/"))})}catch(t){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,handleScreenshot:function(){var t=this;setTimeout(function(){document.querySelectorAll(".form-screen-button").each(function(r){window.parent&&window.parent.JotformFeedbackManager&&(t.getContainer(r).show(),r.observe("click",function(){t.passive=!1;try{t.takeScreenShot(r.id.replace("button_",""))}catch(o){console.error(o)}}),setTimeout(function(){t.passive=!window.parent.wishboxInstantLoad,t.takeScreenShot(r.id.replace("button_",""))},0))})},300)},getCharset:function(t){return t||(t=document),t.characterSet||t.defaultCharset||t.charset||"UTF-8"},bytesToSize:function(t,r){var o=["B","KB","MB","GB","TB"],n=0;if(0==t)return"n/a";if(t<1024)return Number(t)+" "+o[n];for(;t>=1024;)n++,t/=1024;return t.toFixed(r||2)+" "+o[n]},disableHTML5FormValidation:function(){document.querySelectorAll("form").each(function(t){t.setAttribute("novalidate",!0)})},takeScreenShot:function(t){var r=window.parent,o='<div id="js_loading" style="position:fixed; z-index:10000000; text-align:center; background:#333; border-radius:5px; top: 20px; right: 20px; padding:10px; box-shadow:0 0 5 rgba(0,0,0,0.5);"><img src="'+this.url+'images/loader-black.gif" /><div style="font-family:verdana; font-size:12px;color:#fff;">Please Wait</div></div>';if(this.onprogress){r.$jotjot(o).appendTo("body");return}if(r.wishboxCompactLoad&&(this.compact=!0),this.screenshot){this.compact?r.$jotjot(".jt-dimmer").hide():r.$jotjot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),r.jotformScreenshotURL=this.screenshot.data,this.injectEditor(this.screenshot.data,this.screenshot.shotURL);return}this.scuniq=JotForm.uniqid(),this.scID=t;var n=JotForm.getForm($jot("button_"+this.scID));this.sformID=n.formID.value,this.onprogress=!0;var a=this;this.wishboxServer="https://screenshots.jotform.com/wishbox-server.php";var l=new Element("form",{action:this.wishboxServer,target:"screen_frame",id:"screen_form",method:"post","accept-charset":"utf-8"}).hide(),u='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >';r.$jotjot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide(),r.$jotjot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"hidden"});var c=r.document.getElementsByTagName("html")[0].innerHTML;c=(c=c.replace(/(<noscript\b[^>]*>.*?<\/noscript>)+/gim,"")).replace(/(<noscript\b[^>]*>(\s+.*\s+)+)+<\/noscript>/gim,""),r.$jotjot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"visible"}),c=c.replace(/(\<\/head\>)/gim,"<style>body,html{ min-height: 800px; }</style>$jot1");var d=a.ie();void 0!==d&&d<9&&(c=c.replace(/(\<\/head\>)/gim,"<style>*{ border-radius:0 !important; text-shadow:none !important; box-shadow:none !important; }</style>$jot1")),this.passive?r.$jotjot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").show():(r.$jotjot(".jotform-feedback-link").show(),r.$jotjot(o).appendTo("body"));var p=new Element("textarea",{name:"html"});"utf-8"!==this.getCharset(r.document).toLowerCase()?(p.value=encodeURIComponent(u+c+"</html>"),l.insert(new Element("input",{type:"hidden",name:"nozip"}).putValue("1"))):(l.insert(new Element("input",{type:"hidden",name:"nozip"}).putValue("0")),p.value=encodeURIComponent(r.$jotjot.jSEND(u+c+"</html>")));var f=new Element("input",{type:"hidden",name:"charset"}).putValue(this.getCharset(r.document)),m=new Element("input",{type:"hidden",name:"height"}).putValue(parseFloat(r.$jotjot(r).height())),h=new Element("input",{type:"hidden",name:"scrollTop"}).putValue(r.$jotjot(r).scrollTop()),g=new Element("input",{type:"hidden",name:"url"}).putValue(r.location.href),v=new Element("input",{type:"hidden",name:"uniqID"}).putValue(this.scuniq),y=new Element("input",{type:"hidden",name:"formID"}).putValue(this.sformID),$=new Element("input",{type:"hidden",name:"action"}).putValue("getScreenshot"),b=new Element("iframe",{name:"screen_frame",id:"screen_frame_id"}).hide();b.observe("load",function(){a.checkScreenShot()}),r.wishboxInstantLoad&&(void 0===d||d>8)&&this.injectEditor(!1,!1),l.insert(p).insert(m).insert(h).insert($).insert(v).insert(g).insert(y).insert(f),$jot(document.body).insert(l).insert(b),l.submit()},checkJSON:function(){if("object"!=typeof JSON){var t=document.createElement("script");t.type="text/javascript",t.src="/js/vendor/json2.js",$jot(document.body).appendChild(t)}},checkScreenShot:function(){var t=this,r=window.parent,o=10;r.$jotjot.getJSON("https://screenshots.jotform.com/queue/"+this.scuniq+"?callback=?",function(n){!0===n.success?r.$jotjot.getJSON(n.dataURL+"?callback=?",function(o){!1===t.passive&&(r.jotformScreenshotURL=o.data,t.injectEditor(o.data,o.shotURL)),t.screenshot=o,t.onprogress=!1,$jot("screen_form")&&$jot("screen_form").remove(),$jot("screen_frame_id")&&$jot("screen_frame_id").remove()}):("waiting"==n.status||"working"==n.status)&&--o?setTimeout(function(){t.checkScreenShot()},1e3):(alert("We are under heavy load right now. Please try again later."),r.$jotjot(".jt-dimmer, .jotform-feedback-link").show(),r.$jotjot(".jt-feedback").show("slow"))})},injectEditor:function(t,r){if(!this.injected){this.injected=!0;var o=this,n=window.parent;n.$jotjot("#js_loading").remove(),n.$jotjot.getJSON(this.server+"?callback=?",{action:"getScreenEditorTemplate",compact:this.compact},function(a){var l,u='<iframe allowtransparency="true" id="wishbox-frame" src="" frameborder="0" style="display:none;border:none;display:block; ';o.compact?u+="position:absolute;left:0;top:10px;height:"+(n.$jotjot(n).height()-120)+"px;width:"+(n.$jotjot(n).width()-100-n.$jotjot("#js-form-content").width())+"px;":u+="position:fixed;top:0;width:100%;height:100%;left:0;z-index:100000000;",u+='" scrolling="no"></iframe>',n.iframeWidth=n.$jotjot(n).width()-100-n.$jotjot("#js-form-content").width(),n.iframeHeight=n.$jotjot(n).height()-120,l=o.compact?n.$jotjot(u).insertBefore("#js-form-content"):n.$jotjot(u).appendTo("body"),o.compact&&n.$jotjot("#js-form-content").css({float:"right"});var c=o.ie();if(void 0!==c&&c<9){l.attr("src","https://screenshots.jotform.com/opt/templates/screen_editor.html?shot="+r+"&uniq="+o.scuniq);var d=n.$jotjot('<button style="color:#fff;font-size:14px;background:#F59202;border:1px solid #Fa98a2;font-weight:bold;position:fixed;top:5px;right:40px;width:100px;z-index:100000001;">Close Editor</button>').appendTo("body");d.click(function(){n.$jotjot.getJSON("https://screenshots.jotform.com/wishbox-server.php?callback=?",{action:"getImage",uniqID:o.scuniq},function(t){t.success?(m(),d.remove(),h(t.data,t.shotURL)):confirm("You haven't save your edits. Are you sure you want to close the editor?")&&(m(),d.remove())})})}else{var p=l[0],f=p.contentWindow?p.contentWindow:p.contentDocument.document?p.contentDocument.document:p.contentDocument;f.document.open(),f.document.write(a.template),setTimeout(function(){f.document.close()},200),n.jotformScreenshotURL=t}var m=function(){o.compact?(l.remove(),n.$jotjot("#js-form-content").css("width","100%")):l.hide("slow",function(){l.remove()}),o.injected=!1,n.$jotjot(".jt-dimmer, .jotform-feedback-link").show(),n.$jotjot(".jt-feedback").show("slow")},h=function(t,r){$jot("screen_"+o.scID).update('<img width="100%" align="center" src="'+(r||t)+'" />'),$jot("data_"+o.scID).value=t,$jot("screen_"+o.scID).up().show()};n.JotformCancelEditor=function(){m()},n.JotformFinishEditing=function(t){m(),h(t),o.imageSaved=!0,o.compact&&setTimeout(function(){$jot(document).fire("image:loaded")},100)}})}},populateGet:function(){try{if("FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[]){var t={},r=window.parent.FrameBuilder.get;$jotH(r).each(function(r){if("object"==typeof r[1])for(prop in r[1])t[r[0]+"["+prop+"]"]=r[1][prop];else t[r[0]]=r[1]}),document.get=Object.extend(document.get,t)}}catch(o){}},uniqid:function(t,r){void 0===t&&(t="");var o,n=function(t,r){return(t=parseInt(t,10).toString(16),r<t.length)?t.slice(t.length-r):r>t.length?Array(1+(r-t.length)).join("0")+t:t};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,o=t,o+=n(parseInt(new Date().getTime()/1e3,10),8),o+=n(this.php_js.uniqidSeed,5),r&&(o+=(10*Math.random()).toFixed(8).toString()),o},initMultipleUploads:function(){var t=this;document.querySelectorAll(".form-upload-multiple").each(function(r){var o,n,a,l,u=r.up("div"),c=JotForm.getForm(r),d=c.formID.value+"_"+JotForm.uniqueID;if(u.addClassName("validate[multipleUpload]"),r.className.include("validate[required]")?(-1===u.className.indexOf("validate[required]")&&u.addClassName("validate[required]"),u.validateInput=function(){if(!JotForm.isVisible(u))return JotForm.corrected(u),!0;var t=u.select(".qq-upload-list li");if(t.length<1)return u.match("[class*=validate[required]]")?(JotForm.corrected(u),JotForm.errored(u,JotForm.texts.required)):(JotForm.corrected(u),!0);var r=!0;return(t.each(function(t){t.getAttribute("class").indexOf("fail")>=0&&(r=!1)}),r)?(JotForm.corrected(u),!0):(JotForm.errored(u,JotForm.texts.multipleFileUploads_uploadFailed),!1)}):u.validateInput=function(){var t=u.select(".qq-upload-list li"),r=!0;return(t.each(function(t){t.getAttribute("class").indexOf("fail")>=0&&(r=!1)}),r)?(JotForm.corrected(u),!0):(JotForm.errored(u,JotForm.texts.multipleFileUploads_uploadFailed),!1)},!this.tempUploadFolderInjected){var p=new Element("input",{type:"hidden",name:"temp_upload_folder"}).setValue(d);c.insert({top:p}),this.tempUploadFolderInjected=!0}var f=(r.readAttribute("data-file-accept")||r.readAttribute("file-accept")||"").strip();f="*"!==f?f.split(", "):[];var m,h="";(m=r.next())&&m.hasClassName("form-sub-label")&&(h=m.innerHTML),(o=r.previous(".qq-uploader-buttonText-value"))&&(n=o.innerHTML),n||(n="Upload a File"),(o=u.next(".cancelText"))&&(a=o.innerText),(o=u.next(".ofText"))&&(l=o.innerText);var g=r.className.split(" "),v="";$jotA(g).each(function(t){0===t.indexOf("form-submit-button-")&&(v=t)}),new qq.FileUploader({debug:JotForm.debug,element:u,action:JotForm.server,subLabel:h,buttonText:n,buttonStyle:v,fileLimit:r.readAttribute("data-file-limit")||r.readAttribute("file-limit"),sizeLimit:1024*parseInt(r.readAttribute("data-file-maxsize")||r.readAttribute("file-maxsize"),10),minSizeLimit:1024*parseInt(r.readAttribute("data-file-minsize")||r.readAttribute("file-minsize"),10),allowedExtensions:f,cancelText:a,ofText:l,messages:{typeError:t.texts.multipleFileUploads_typeError,sizeError:t.texts.multipleFileUploads_sizeError,minSizeError:t.texts.multipleFileUploads_minSizeError,emptyError:t.texts.multipleFileUploads_emptyError,onLeave:t.texts.multipleFileUploads_onLeave,fileLimitError:t.texts.multipleFileUploads_fileLimitError},onComplete:function(t,o,n){if(n.success){var a=r.name.replace("[]",""),l=[d,a,o].join("_"),p=$jot(l);p||(p=new Element("input",{id:l,type:"hidden",name:"temp_upload["+a+"][]"}),c.insert({top:p})),p.setValue(o),u.value="uploaded",JotForm.corrected(u)}},onDelete:function(t,r,o){$jot([t,r,o].join("_")).remove()},showMessage:function(t){JotForm.corrected(u),JotForm.errored(u,t),setTimeout(function(){JotForm.corrected(u)},3e3)},params:{action:"multipleUpload",field:r.name.replace("[]",""),origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,folder:d}})})},initNewMultipleUploads:function(){document.querySelectorAll(".form-upload-multiple-new").each(function(t){var r,o,n=t.up("div"),a=JotForm.getForm(t),l=a.formID.value+"_"+JotForm.uniqueID;if(t.className.include("validate[required]")&&(-1===n.className.indexOf("validate[required]")&&n.addClassName("validate[required]"),n.validateInput=function(){return JotForm.isVisible(n)&&n.select(".new-file-list li").length<1?(JotForm.errored(n,JotForm.texts.required),!1):(JotForm.corrected(n),!0)}),!this.tempUploadFolderInjected){var u=new Element("input",{type:"hidden",name:"temp_upload_folder"}).setValue(l);a.insert({top:u}),this.tempUploadFolderInjected=!0,window.setFolder()}var c=(t.readAttribute("data-file-accept")||t.readAttribute("file-accept")||"").strip();c="*"!==c?c.split(", "):[];var d,p="";(d=t.next())&&d.hasClassName("form-sub-label")&&(p=d.innerHTML),(r=t.previous(".qq-uploader-buttonText-value"))&&(o=r.innerHTML),o||(o="Upload a File")})},hiddenSubmit:function(t){if(JotForm.currentSection&&JotForm.currentSection.select(".form-pagebreak")[0].insert(new Element("div",{className:"form-saving-indicator"}).setStyle("float:right;padding:21px 12px 10px").update('<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...')),setTimeout(function(){JotForm.saving=!0,JotForm.disableButtons()},10),!$jot("hidden_submit_form")){var r=new Element("iframe",{name:"hidden_submit",id:"hidden_submit_form"}).hide();r.observe("load",function(){JotForm.makeUploadChecks(),document.querySelectorAll(".form-saving-indicator").invoke("remove"),JotForm.saving=!1,JotForm.enableButtons()}),$jot(document.body).insert(r)}document.querySelectorAll(".form-radio-other,.form-checkbox-other").each(function(t){!t.checked&&JotForm.getOptionOtherInput(t)&&JotForm.getOptionOtherInput(t).disable()}),document.querySelectorAll(".custom-hint-group").each(function(t){t.hideCustomPlaceHolder()}),$jot("current_page")&&($jot("current_page").value=JotForm.currentSection.pagesIndex),t.writeAttribute("target","hidden_submit"),t.insert({top:new Element("input",{type:"hidden",name:"hidden_submission",id:"hidden_submission"}).putValue("1")});var o="cardform"==window.FORM_MODE;o&&t.insert({top:new Element("input",{type:"hidden",name:"continueLater",id:"continueLater"}).putValue("1")}),t.submit(),t.writeAttribute("target",""),o&&$jot("continueLater").remove(),$jot("hidden_submission").remove(),document.querySelectorAll(".custom-hint-group").each(function(t){t.showCustomPlaceHolder()}),document.querySelectorAll(".form-radio-other,.form-checkbox-other").each(function(t){!t.checked&&JotForm.getOptionOtherInput(t)&&JotForm.getOptionOtherInput(t).enable()})},makeUploadChecks:function(){var t=document.querySelectorAll('input[name="formID"]')[0],r={action:"getSavedUploadResults",formID:t.value,sessionID:this.sessionID};this.submissionID&&(r.submissionID=this.submissionID),this.submissionToken&&(r.submissionToken=this.submissionToken),new Ajax.Jsonp(JotForm.server,{parameters:r,evalJSON:"force",onComplete:function(r){var o=r.responseJSON;o&&o.success&&(o.submissionID&&!$jot("submission_id")&&(JotForm.submissionID||JotForm.setSubmissionID(o.submissionID),t.insert({after:new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"}).putValue(o.submissionID)})),"cardform"!==window.FORM_MODE&&JotForm.editMode(o,!0))}})},handleSavedForm:function(){if(JotForm.sessionID){JotForm.saveForm=!0;var t,r="cardform"==window.FORM_MODE,o=document.querySelectorAll('input[name="formID"]')[0];document.getElementById("session")||o.insert({after:new Element("input",{type:"hidden",name:"session_id",id:"session"}).putValue(JotForm.sessionID)}),r||o.insert({after:new Element("input",{type:"hidden",id:"current_page",name:"current_page"}).putValue(0)}),JotForm.loadingPendingSubmission=!0;var n={action:"getSavedSubmissionResults",formID:o.value,sessionID:this.sessionID,URLparams:window.location.href};this.submissionID&&(n.submissionID=this.submissionID),this.submissionToken&&(n.submissionToken=this.submissionToken),new Ajax.Jsonp(JotForm.url+"/server.php",{parameters:n,evalJSON:"force",onComplete:function(t){var r=t.responseJSON;if(r.success&&r.submissionID){$jot("submission_id")||(o.insert({after:new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"}).putValue(r.submissionID)}),JotForm.submissionID||JotForm.setSubmissionID(r.submissionID));try{JotForm.editMode(r)}catch(n){JotForm.loadingPendingSubmission=!1,console.error(n)}JotForm.openInitially=r.currentPage-1}JotForm.loadingPendingSubmission=!1}})}},setSubmissionID:function(t){this.submissionID=t},setTitle:function(){if("Form"==document.title){var t;if(t=document.querySelectorAll(".form-header")[0])try{document.title=t.innerHTML.stripTags().strip(),document.title=document.title.unescapeHTML()}catch(r){document.title=t.innerHTML}}},setHTMLClass:function(){var t=this.ie();t&&document.querySelectorAll("html")[0].addClassName("ie-"+t)},setFocusEvents:function(){document.querySelectorAll(".form-radio, .form-checkbox").each(function(t){t.observe("mousedown",function(){JotForm.lastFocus=t})}),document.querySelectorAll(".form-textbox, .form-password, .form-textarea, .form-upload, .form-dropdown").each(function(t){t.observe("focus",function(){JotForm.lastFocus=t})})},disableAcceptonChrome:function(){Prototype.Browser.WebKit&&document.querySelectorAll(".form-upload").each(function(t){if(t.hasAttribute("accept")){var r=t.readAttribute("accept");t.writeAttribute("accept",""),t.writeAttribute("data-file-accept",r),t.writeAttribute("file-accept",r)}})},populateBrowserInfo:function(t){var r="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",o="navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",n="navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"",a={chrome:function(){return/chrome|chromium/i.test(r)&&/google inc/.test(o)},firefox:function(){return/firefox/i.test(r)},ie:function(){return/msie/i.test(r)||"ActiveXObject"in window||/edge\//i.test(r)},safari:function(){return/safari/i.test(r)&&/apple computer/i.test(o)},operabrowser:function(){return r.indexOf("Opera")>-1},iphone:function(){return/iphone/i.test(r)||/iphone/i.test(n)},ipad:function(){return/ipad/i.test(r)||/ipad/i.test(n)},ios:function(){return a.iphone()||a.ipad()},android:function(){return/android/i.test(r)},androidPhone:function(){return a.android()&&/mobile/i.test(r)},androidTablet:function(){return a.android()&&!a.androidPhone()},blackberry:function(){return/blackberry/i.test(r)||/BB10/i.test(r)},linux:function(){return/linux/i.test(n)},mac:function(){return/mac/i.test(n)},windows:function(){return/win/i.test(n)},windowsPhone:function(){return a.windows()&&/phone/i.test(r)},windowsTablet:function(){return a.windows()&&!a.windowsPhone()&&/touch/i.test(r)},mobile:function(){return a.iphone()||a.androidPhone()||a.blackberry()||a.windowsPhone()},tablet:function(){return a.ipad()||a.androidTablet()||a.windowsTablet()},desktop:function(){return!a.mobile()&&!a.tablet()}};function l(){if(a.android())return"Android";if(a.windows())return"Windows";if(a.blackberry())return"Blackberry";if(a.linux())return"Linux";if(a.ios())return"iOS";else if(a.mac()&&!a.ios())return"MacOS";return"Unknown OS"}function u(){if(a.mobile()){if(a.windowsPhone()||a.androidPhone()||a.blackberry())return"Mobile";if(a.ios())return"iPhone"}else if(a.tablet()){if(a.windowsTablet()||a.androidTablet())return"Tablet";if(a.ios())return"iPad"}else if(a.desktop())return"Desktop";return"Unknown Device"}function c(){if(a.ie())return"Internet Explorer";if(a.firefox())return"Firefox";if(a.chrome())return"Chrome";if(a.safari())return"Safari";if(a.operabrowser())return"Opera";return"Unknown Browser"}var d=new Date().getTimezoneOffset(),p="GMT "+(d<0?"+":"")+-(d/60),f=navigator.language||navigator.browserLanguage||navigator.userLanguage,m=["BROWSER: "+c(),"OS: "+l(),"DEVICE: "+u(),"LANGUAGE: "+f,"RESOLUTION: "+screen.width+"*"+screen.height,"TIMEZONE: "+p,"USER AGENT: "+navigator.userAgent].join("\n");setTimeout(function(){$jot(t).getValue().length>0&&(m=[$jot(t).getValue(),m].join("\n")),$jot(t).setValue(m)},20)},displayTimeRangeDuration:function(t){var r=function(){if($jot("input_"+t+"_hourSelectRange")){var r=$jot("input_"+t+"_hourSelect").value,o=$jot("input_"+t+"_minuteSelect").value,n=$jot("input_"+t+"_ampm")?$jot("input_"+t+"_ampm").value:"no",a=$jot("input_"+t+"_hourSelectRange").value,l=$jot("input_"+t+"_minuteSelectRange").value,u=$jot("input_"+t+"_ampmRange")?$jot("input_"+t+"_ampmRange").value:"no",c=$jot("input_"+t+"_ampmRange")?"_ampmRange":"_dummy",d=document.querySelectorAll("label[for=input_"+t+c+"]").first();if("cardform"===window.FORM_MODE&&(d="_ampmRange"==c?document.querySelectorAll("div[for=input_"+t+c+"]").first():document.querySelectorAll("#input_"+t+c).first()),r.length>0&&o.length>0&&a.length>0&&l.length>0){"PM"==n&&12!=r&&(r=parseInt(r)+12),"AM"==n&&12==r&&(r=0),"PM"==u&&12!=a&&(a=parseInt(a)+12),"AM"==u&&12==a&&(a=0);var p=new Date(0,0,0,r,o,0),f=new Date(0,0,0,a,l,0),m=f.getTime()-p.getTime();m<0&&(m=(f=new Date(0,0,1,a,l,0)).getTime()-p.getTime());var h=Math.floor(m/1e3/60/60),g=Math.floor((m-=36e5*h)/1e3/60);g<10&&(g="0"+g),d.update("<b>Total "+h+":"+g+"</b>"),d.setStyle({color:"black"}),document.querySelectorAll("input[id=duration_"+t+'_ampmRange][type="hidden"]').first().setValue(h+":"+g)}else d.update("&nbsp")}};$jot("input_"+t+"_hourSelect").observe("change",r),$jot("input_"+t+"_minuteSelect").observe("change",r),$jot("input_"+t+"_hourSelectRange").observe("change",r),$jot("input_"+t+"_minuteSelectRange").observe("change",r),$jot("input_"+t+"_ampm")&&$jot("input_"+t+"_ampmRange")&&($jot("input_"+t+"_ampm").observe("change",r),$jot("input_"+t+"_ampmRange").observe("change",r)),r()},displayLocalTime:function(t,r,o){if($jot(t)&&!$jot(t).hasClassName("noDefault")){var n=new Date,a=n.getHours(),l="",u=!0;$jot(o)&&(u=!1,l=a>11?"PM":"AM",a=0==(a=a>12?a-12:a)?12:a);var c=n.getMinutes(),d=Number($jot(r).options[2].value)-Number($jot(r).options[1].value);c=Math.round(c/d)*d,(c=this.addZeros(c,2))>=60&&(c="00",a++,u?24==a&&(a=0):"AM"==l&&12==a?l="PM":"PM"==l&&12==a?l="AM":13==a&&(a=1)),a<10&&$jot(t).options[1].value.length>1&&(a="0"+a),$jot(t).value=a,$jot(r).value=c,$jot(t+"Range")&&($jot(t+"Range").value=a,$jot(r+"Range").value=c),$jot(o)&&("PM"==l?($jot(o).select('option[value="PM"]').length>0&&($jot(o).value="PM"),$jot(o+"Range")&&$jot(o+"Range").select('option[value="PM"]').length>0&&($jot(o+"Range").value="PM")):($jot(o).select('option[value="AM"]').length>0&&($jot(o).value="AM"),$jot(o+"Range")&&$jot(o+"Range").select('option[value="AM"]').length>0&&($jot(o+"Range").value="AM")))}},displayDynamicDate:function(t,r){var o=parseInt(r.split("today")[1])||0,n=new Date;n.setDate(n.getDate()+o),JotForm.formatDate({date:n,dateField:$jot("id_"+t)})},dateLimits:{},setCalendar:function(t,r,o,n){try{JotForm.dateLimits[t]=o;var a=$jot("id_"+t),l=Calendar.setup({triggerElement:"input_"+t+"_pick",dateField:"year_"+t,parentElement:n,closeHandler:function(){JotForm.calendarClose.apply(this,arguments)},selectHandler:function(){JotForm.formatDate.apply(this,arguments)},startOnMonday:r,limits:o});a.observe("keyup",function(){a.fire("date:changed")});var u=function(){$jot("month_"+t).value=$jot("day_"+t).value=$jot("year_"+t).value=""},c=function(t,r){t.addClassName("invalidDate"),u()};if($jot("lite_mode_"+t)&&($jot("lite_mode_"+t).dateChanged=function(t,r){var o=t.currentTarget,n=o.readAttribute("seperator")||o.readAttribute("data-seperator"),l=(o.readAttribute("format")||o.readAttribute("data-format")).toLowerCase();if(o.removeClassName("invalidDate"),""===o.value)return a.fire("date:changed"),u();if(o.value.length==2*n.length+l.length){var d=l.indexOf("yy"),p=l.indexOf("mm"),f=l.indexOf("dd"),m=[d,p,f],h={year:(m=m.sort()).indexOf(d),month:m.indexOf(p),day:m.indexOf(f)},g=parseInt(o.value.split(n)[h.year]),v=parseInt(o.value.split(n)[h.month])-1,y=parseInt(o.value.split(n)[h.day]),$=new Date(g,v,y);$&&$.getDate()?(r.date=$,r.selectHandler(r)):c(o,r)}else c(o,r);o.hasClassName("invalidDate")&&(JotForm.errored(o,"Enter a valid date"),a.addClassName("form-line-error"),a.addClassName("form-datetime-validation-error"))},$jot("lite_mode_"+t).observe("keyup",function(t){return t.stopPropagation(),t.currentTarget.dateChanged(t,l),!1}),$jot("lite_mode_"+t).observe("blur",function(t){return t.stopPropagation(),t.currentTarget.dateChanged(t,l),t.currentTarget.setAttribute("date-val",l.date.getTime()),!1})),!n){var d=function(){var t=this;setTimeout(function(){l.showAtElement(t)},50)};if($jot("input_"+t+"_pick").hasClassName("showAutoCalendar")){var p=["#day_"+t,"#month_"+t,"#year_"+t,"#lite_mode_"+t];document.querySelectorAll(p.join(",")).each(function(t){t.observe("focus",d),t.observe("click",d)})}$jot("year_"+t).observe("blur",function(){l.hide()})}}catch(f){JotForm.error(f)}},currentDateReadonly:function(){},calendarClose:function(t){var r=document.querySelectorAll('input[id*="'+t.dateField.id.match(/_[0-9]+/)[0]+'"]'),o=t.dateField.className.replace(/.*validate\[(.*)\].*/,"$jot1").split(/\s*,\s*/),n=r.any(function(t){return t.value.empty()});(o.include("required")||o.include("disallowPast"))&&n&&t.dateField.validateInput(),o.include("required")&&!n&&JotForm.corrected($jot("id_"+t.id)),t.hide()},getDefaults:function(){document.querySelectorAll(".form-textbox, .form-dropdown, .form-textarea").each(function(t){!t.hinted&&""!==t.value&&(JotForm.defaultValues[t.id]=t.value)}),document.querySelectorAll(".form-radio, .form-checkbox").each(function(t){t.checked&&(JotForm.defaultValues[t.id]=t.value)})},handleOtherOptions:function(){document.querySelectorAll(".form-radio-other-input, .form-checkbox-other-input").each(function(t){t.hint(t.getAttribute("data-otherhint")||"Other")}),document.querySelectorAll(".form-radio, .form-checkbox").each(function(t){var r=t.id.replace(/input_(\d+)_\d+/gim,"$jot1");if(r.match("other_")&&(r=t.id.replace(/other_(\d+)/,"$jot1")),$jot("other_"+r)){var o=$jot("other_"+r),n=$jot("input_"+r),a="radio"===t.type?t:o;n.observe("keyup",function(){o.value=n.value}),n.observe("click",function(t){$jot("other_"+r).checked=!0,setTimeout(function(){$jot("other_"+r).checked=!0}),n.value=n.value===n.getAttribute("data-otherhint")?"":n.value}),a.observe("click",function(){o.checked?n.select():n.hintClear&&n.hintClear()})}})},shuffleOptions:function(t){var r=JotForm.calculationType(t);if("radio"===r||"checkbox"===r)try{for(var o=$jot("id_"+t).select(".form-"+r+"-item"),n=$jot("id_"+t).down(".form-"+r+"-other-input")?o.length-1:o.length,a=0;a<n-1;a++){var l=$jot("id_"+t).select(".form-"+r+"-item")[a],u=Math.floor(Math.random()*n),c=o[u].replace(l),d=$jot("id_"+t).select(".form-"+r+"-item")[a].next()?$jot("id_"+t).select(".form-"+r+"-item")[a].next():$jot("id_"+t).select(".form-"+r+"-item")[a];d.insert({after:c})}if($jot("id_"+t).down(".form-multiple-column")){var p=$jot("id_"+t).down(".form-multiple-column").readAttribute("data-columncount");$jot("id_"+t).select(".form-"+r+"-item").each(function(t,r){t.setStyle({clear:r%p==0?"left":"none"})})}}catch(f){console.log(f)}else if("select"===r)try{var m=$jot("input_"+t).clone(!0);$jot("input_"+t).update("");var n=m.length;$jot("input_"+t).insert(m[0].clone(!0));for(var a=1;a<n;a++){var u=Math.floor(Math.random()*(m.length-1))+1;$jot("input_"+t).insert(m[u].clone(!0)),m[u].remove()}}catch(h){console.log(h)}else if("matrix"===r)try{for(var g=$jot("id_"+t).select("tr"),v=g.length,a=1;a<v;a++){var u=Math.floor(Math.random()*(v-1))+1,c=g[u].replace(g[a]),d=g[a].next()?g[a].next():g[a];d.insert({after:c})}}catch(y){console.log(y)}},handleDateTimeChecks:function(){try{document.querySelectorAll("[name$jot=[month]]").each(function(t){var r="tel"!==t.type&&"text"!==t.type,o=r?t.id.replace(RegExp(".*?([0-9]+).*","gim"),"$jot1"):t.id.split("month_").last(),n=$jot("id_"+o);if(n){var a=n.down("[id*=day]"),l=n.down("[id*=year]"),u=n.select("#hour_"+o).first(),c=n.select("#min_"+o).first(),d=n.select("#ampm_"+o).first();t.dateTimeCheck=function(p){var f=null;if(!(r&&(""===t.value||""===a.value||""===l.value))&&(""!=t.value||""!=a.value||""!=l.value)){var m=r?t.selectedIndex:t.value;m=parseInt(m,10);var h=+a.value,g=+l.value;if(isNaN(g)||g<1)f=l;else if(isNaN(m)||m<1||m>12)f=t;else if(isNaN(h)||h<1)f=a;else switch(m){case 2:(g%4==0?h>29:h>28)&&(f=a);break;case 4:case 6:case 9:case 11:h>30&&(f=a);break;default:h>31&&(f=a)}}var v=p&&p.target&&p.target===document.activeElement;if("cardform"===window.FORM_MODE&&(v=t.up(".jfCard-question")===document.activeElement.up(".jfCard-question")),!f&&u&&c&&(""!=u.value||""!=c.value)&&!v){var y=""==u.value.strip()?-1:+u.value,$=""==c.value.strip()?-1:+c.value;isNaN(y)||(d?y<0||y>12:y<0||y>23)?f=u:(isNaN($)||$<0||$>59)&&(f=c)}var b=document.activeElement;if(f&&b!=l&&b!=t&&b!=a){if(f===u||f===c)f.errored=!1,JotForm.errored(f,"Enter a valid time");else{f.errored=!1;var _=JotForm.texts.dateInvalidSeparate.replace("{element}",f.id.replace("_"+o,""));JotForm.errored(f,_)}return n.addClassName("form-line-error"),n.addClassName("form-datetime-validation-error"),!1}return JotForm.corrected(t),JotForm.corrected(a),JotForm.corrected(l),u&&c&&(JotForm.corrected(u),JotForm.corrected(c)),n.removeClassName("form-line-error"),n.removeClassName("form-datetime-validation-error"),!0},u&&c&&(u.observe("change",function(r){t.dateTimeCheck(r)}),c.observe("change",function(r){t.dateTimeCheck(r)}))}})}catch(t){console.error(t)}},handleTextareaLimits:function(){document.querySelectorAll(".form-textarea-limit-indicator span").each(function(t){var r,o=t.id.split("-")[0];if($jot(o)){var n=t.readAttribute("data-minimum"),a=t.readAttribute("data-limit"),l=$jot(o),u=function(o){if(""===l.value||l.hasClassName("form-custom-hint"))return $jot(t.parentNode).removeClassName("form-textarea-limit-indicator-error"),t.update("0/"+(n>-1?n:a)),JotForm.corrected(t);var u,c=(u=l.hasClassName("form-textarea")&&l.up("div").down(".nicEdit-main")?l.value.stripTags().replace(/&nbsp;/g," "):l.value).replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ");$jot(t.parentNode).removeClassName("form-textarea-limit-indicator-error"),JotForm.corrected(t.up(".form-line").down("textarea"));var d=function(l){var u="min"==l?t.readAttribute("data-typeminimum"):t.readAttribute("type");"Words"==u?r=$jotA(c.split(/\s+/)).without("").length:"Letters"==u&&(r=c.length);var d=!1;if(("min"==l&&r<n||"max"==l&&r>a)&&!0!==o){$jot(t.parentNode).addClassName("form-textarea-limit-indicator-error");var p="min"==l?"Min":"",f="min"==l?n:a,m="Words"===u?"word":"character",h=JotForm.texts[m+p+"LimitError"]+" "+f;JotForm.errored(t.up(".form-line").down("textarea"),h+"."),d=!0}return t.update(r+"/"+(n&&r<n&&"min"==l||-1==a?n:a)),d},p=!0;n&&n>0&&(p=!d("min")),a&&a>0&&p&&d("max")};if(u(!0),l.observe("change",u),l.observe("focus",u),l.observe("keyup",u),l.hasClassName("form-textarea")&&l.up("div").down(".nicEdit-main")){var c=l.up("div").down(".nicEdit-main"),d=function(){l.value=c.innerHTML,u()};c.observe("keyup",d),c.observe("blur",function(){setTimeout(d,0)})}}})},handleAutoCompletes:function(){$jotH(JotForm.autoCompletes).each(function(t){var r,o=$jot(t.key);o.writeAttribute("autocomplete","off"),$jot(o.parentNode);var n=$jotA(t.value.split(/\r\n|\r|\n|\|/g)),a=0,l=0,u=new Element("div",{className:"form-autocomplete-list"}).setStyle({listStyle:"none",listStylePosition:"outside",position:"absolute",zIndex:"10000"}).hide(),c=function(){if("cardform"===window.FORM_MODE){var t=o.getBoundingClientRect(),r=t.top+t.height-5+"px",n=t.left+"px",a=(t.width<1?100:t.width)+"px";u.setStyle({top:r,left:n,width:a}),u.show()}else{var l=o.getDimensions(),c=o.cumulativeOffset();u.setStyle({top:l.height+c[1]+"px",left:c[0]+"px",width:(l.width<1?100:l.width)-2+"px"}),u.show()}};$jot(document.body).insert(u),u.close=function(){u.update(),u.hide(),a=0},o.observe("blur",function(){u.close()}),o.observe("keyup",function(t){var a,d=o.value;if(r!=d){if(r=d,u.update(),!d){u.close();return}a="Yes"==o.readAttribute("data-fuzzySearch")?n.collect(function(t){if(t.toLowerCase().include(d.toLowerCase()))return t}).compact():n.collect(function(t){if(0==t.toLowerCase().indexOf(d.toLowerCase()))return t}).compact();var p=o.readAttribute("data-maxMatches");p>0&&(a=a.slice(0,p)),a.length>0?(a.each(function(t){var r=new Element("li",{className:"form-autocomplete-list-item"}),n=t;r.val=n;try{n=t.replace(RegExp("("+d+")","gim"),"<b>$jot1</b>")}catch(a){JotForm.error(a)}r.insert(n),r.onmousedown=function(){o.value=JotForm.decodeHtmlEntities(t),u.close()},u.insert(r)}),c(),l=l||$jot(u.firstChild).getHeight()+(parseInt($jot(u.firstChild).getStyle("padding"),10)||0)+(parseInt($jot(u.firstChild).getStyle("margin"),10)||0),u.setStyle({height:l*(a.length>9?10:a.length)+4+"px",overflow:"auto"})):u.close()}}),o.observe("keydown",function(t){var n;if(u.visible()&&u.firstChild)switch((n=u.select(".form-autocomplete-list-item-selected")[0])&&n.removeClassName("form-autocomplete-list-item-selected"),t.keyCode){case Event.KEY_UP:n&&n.previousSibling?$jot(n.previousSibling).addClassName("form-autocomplete-list-item-selected"):$jot(u.lastChild).addClassName("form-autocomplete-list-item-selected"),a<=1?n&&n.previousSibling?($jot(n.previousSibling).scrollIntoView(!0),a=0):($jot(u.lastChild).scrollIntoView(!1),a=10):a--;break;case Event.KEY_DOWN:n&&n.nextSibling?$jot(n.nextSibling).addClassName("form-autocomplete-list-item-selected"):$jot(u.firstChild).addClassName("form-autocomplete-list-item-selected"),a>=9?n&&n.nextSibling?($jot(n.nextSibling).scrollIntoView(!1),a=10):($jot(u.firstChild).scrollIntoView(!0),a=0):a++;break;case Event.KEY_ESC:u.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:n&&(o.value=n.val,r=o.value),u.close(),t.keyCode==Event.KEY_RETURN&&t.stop();break;default:return}})})},decodeHtmlEntities:function(t){var r=document.createElement("textarea");return r.innerHTML=t,r.value},getFileExtension:function(t){return/[.]/.exec(t)?/[^.]+$jot/.exec(t)[0]:void 0},prePopulations:function(){$jotH(document.get).each(function(t){var r,o=t.key.length<3?'[name$jot="_'+t.key+'"]':'[name*="_'+t.key+'"]',n='[name$jot="_'+t.key+'"]';if(r=document.querySelectorAll(".form-star-rating"+o)[0]){r.setRating(parseInt(t.value));return}if(r=document.querySelectorAll(".form-slider"+o)[0]){r.setSliderValue(parseInt(t.value));return}if("coupon-input"==t.key&&$jot("coupon-input")){$jot("coupon-input").setValue(t.value),$jot("coupon-button").triggerEvent("click"),$jot(window).scrollTo(0,0);return}if((r=document.querySelectorAll(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,n))[0])||(r=document.querySelectorAll(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,o))[0]),!r&&t.key.indexOf("[")>0){var a=t.key.substr(0,t.key.lastIndexOf("["));if(a.length>0&&document.querySelectorAll("select[name*="+a+"], input[name*="+a+"]").length>0){var l=t.key.substr(t.key.lastIndexOf("[")+1).replace("]","");if(document.querySelectorAll("select[name*="+a+"], input[name*="+a+"]").length>l){var u=document.querySelectorAll("select[name*="+a+"]").length>0?"select":document.querySelectorAll("input[name*="+a+"]")[l].type;switch(u){case"select":document.querySelectorAll("select[name*="+a+"]")[l].value=t.value.replace(/\+/g," ");break;case"text":case"tel":case"number":document.querySelectorAll("input[name*="+a+"]")[l].value=t.value.replace(/\+/g," ");break;case"radio":case"checkbox":try{("true"==t.value||1==t.value)&&document.querySelectorAll("input[name*="+a+"]")[l]&&!("control_matrix"===document.querySelectorAll("input[name*="+a+"]").first().up(".form-line").readAttribute("data-type")&&0>a.indexOf("["))&&document.querySelectorAll("input[name*="+a+"]")[l].click()}catch(c){console.log(c)}}}}}if(r&&"input-grading"==r.readAttribute("data-type"))for(var d=t.value.split(","),p=r.id.substr(0,r.id.lastIndexOf("_")+1),f=0;f<d.length;f++)$jot(p+f)&&($jot(p+f).value=d[f]);else if(r&&(r.hasClassName("form-checkbox-other-input")||r.hasClassName("form-radio-other-input"))){if(o.indexOf("[other]")>-1)r.value=t.value.replace(/\+/g," "),JotForm.defaultValues[r.id]=r.value;else try{for(var m="control_checkbox"===r.up(".form-line").readAttribute("data-type")?t.value.split(","):[t.value],f=0;f<m.length;f++)r.up(".form-input").select('input[type="radio"], input[type="checkbox"]').any(function(t){return m[f]===t.value})||(r.value=m[f],m[f]="other");t.value=m.join(",")}catch(h){console.error(h)}}else if(r&&r.hasClassName("form-textarea")&&r.up("div").down(".nicEdit-main"))r.up("div").down(".nicEdit-main").update(t.value.replace(/\+/g," "));else if(r&&r.hasClassName("form-dropdown")){var g=t.value.replace(/\+/g," "),v=r.readAttribute("multiple")?g.split(","):[g],y=r.select("option");r.value=v,$jotA(y).each(function(t){t.writeAttribute("selected",!!v.include(t.value)&&"selected")})}else r&&(r.value=t.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+"),document.referrer.match(/jotform/)&&(r.value=t.value),JotForm.defaultValues[r.id]=r.value);try{var $=!!r&&r.up(".form-line");$&&"control_datetime"==$.readAttribute("data-type")&&$.down('input[id*="lite_mode_"]')&&""!=$.down('input[id*="year_"]').value&&""!=$.down('input[id*="month_"]').value&&""!=$.down('input[id*="day_"]').value&&JotForm.formatDate({date:new Date($.down('input[id*="year_"]').value,$.down('input[id*="month_"]').value-1,$.down('input[id*="day_"]').value),dateField:$})}catch(b){console.log(b)}document.querySelectorAll(".form-textbox%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,o)).each(function(t){t.triggerEvent("keyup")}),document.querySelectorAll(".form-dropdown%s".replace(/\%s/gim,o)).each(function(t){t.triggerEvent("change")}),document.querySelectorAll(".form-checkbox%s, .form-radio%s".replace(/\%s/gim,o)).each(function(r){var o=!!r.disabled&&!!r.enable(),n=t.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+");n==r.value||$jotA(n.split(",")).include(r.value)||$jotA(n.split("<br>")).include(r.value)?r.checked||(o?setTimeout(function(){r.click()},0):r.click()):$jotA(t.value.split(",")).include("other")&&(r.name.indexOf("[other]")>-1||r.id&&r.id.indexOf("other_")>-1)&&r.click(),o&&setTimeout(function(){r.disable()})}),r&&r.hasClassName("form-textarea")&&r.hasClassName("form-custom-hint")&&r.hasContent&&r.removeClassName("form-custom-hint")})},resetForm:function(t){var r=$jot(t).select('input[type="hidden"]');return r.each(function(t){t.__defaultValue=t.value}),$jot(t).reset(),r.each(function(t){t.value=t.__defaultValue}),t},editMode:function(t,r,o){var n="";if(JotForm.debug||(n=-1==this.url.search("https")?"http://cdn.jotfor.ms/":"https://cdn.jotfor.ms/"),window.editModeFunction)a.editMode(t,r,o);else{var a=this;this.loadScript(n+"/js/form.edit.mode.js?v_"+new Date().getTime(),function(){a.editMode=editModeFunction,a.editMode(t,r,o)})}},isEditMode:function(){return"cardform"===window.FORM_MODE?void 0!==window.editModeFunction&&CardForm.layoutParams.isEditMode:void 0!==window.editModeFunction},setConditions:function(t){t.reverse(),JotForm.conditions=t,t.each(function(t){t.action=[].concat(t.action)})},setCalculations:function(t){JotForm.calculations&&0!==Object.keys(JotForm.calculations).length?Object.values(t).forEach(function(t){JotForm.calculations.push(t)}):JotForm.calculations=t},prepareCalculationsOnTheFly:function(t){var r=[];function o(t){return t[0].map(function(r,o){return t.map(function(t){return t[o]})})}t.length>0&&(Object.keys(JotForm.calculations).length<=0&&(JotForm.calculations=[]),t.forEach(function(t){t&&(r[t.name]=t.qid)}),t.forEach(function(t){if(t){var n="";t.type,n=t.text;for(var a=/\{([^\}]*)\}/gim,l=[];result=a.exec(n);l.push(result));l.length>0&&(l=o(l))[1].forEach(function(o){JotForm.calculations.push({decimalPlaces:"2",defaultValue:"",equation:"{"+r[o]+"}",ignoreHiddenFields:"",insertAsText:"1",isLabel:"control_text"===t.type?"":"1",newCalculationType:"1",operands:r[o],readOnly:"",replaceText:o,resultField:t.qid,showBeforeInput:"",tagReplacement:"1",useCommasForDecimals:""})})}}))},runConditionForId:function(t){$jotH(JotForm.fieldConditions).each(function(r){$jotA(r.value.conditions).each(function(r){$jotA(r.terms).each(function(o){o.field===t&&JotForm.checkCondition(r)})})})},otherConditionTrue:function(t,r){r=r.replace(/multiple/,"");var o=!1;return $jotH(JotForm.fieldConditions).each(function(n){$jotA(n.value.conditions).each(function(n){$jotA(n.action).each(function(n){n.fields&&n.fields.each(function(a){if(a===t&&n.visibility&&n.visibility.toLowerCase().replace(/multiple/,"")===r&&n.hasOwnProperty("currentlyTrue")&&n.currentlyTrue){o=!0;return}}),n.field===t&&n.visibility&&n.visibility.toLowerCase()===r&&n.hasOwnProperty("currentlyTrue")&&n.currentlyTrue&&(o=!0)})})}),o},showField:function(t,r){if(!JotForm.otherConditionTrue(t,"hide")){var o=null,n=$jot("id_"+t),a=$jot("cid_"+t),l=$jot("section_"+t);if(!(o=l&&a?l:a&&!n?a:n)){var u=document.querySelectorAll('input[name*="q'+t+'"][type="hidden"]');return u.length>0&&u[0].setAttribute("selected",!0),o}var c=o.hasClassName("form-field-hidden")||o.hasClassName("always-hidden");o.removeClassName("form-field-hidden"),o.removeClassName("always-hidden"),!(o.hasClassName("form-section")||o.hasClassName("form-section-closed"))&&o.down(".always-hidden")&&o.down(".always-hidden").removeClassName("always-hidden"),JotForm.paymentFields.indexOf(o.getAttribute("data-type"))>-1&&$jot("hiddenPaymentField")&&$jot("hiddenPaymentField").remove(),l&&(o.hasClassName("form-section-closed")?o.select(".form-collapse-table")[0].hasClassName("form-collapse-hidden")?(o.removeClassName("form-section-closed"),o.addClassName("form-section"),o.setStyle({height:"auto",overflow:"hidden"})):o.setStyle({overflow:"hidden"}):o.setStyle({height:"auto",overflow:"hidden"})),"html"===JotForm.getInputType(t)&&$jot("text_"+t).innerHTML.match(/google.*maps/gi)&&($jot("text_"+t).innerHTML=$jot("text_"+t).innerHTML);var d=o.show();return"widget"===JotForm.getInputType(t)?JotForm.showWidget(t):"signature"===JotForm.getInputType(t)&&JotForm.showAndResizeESignature(t),"collapse"===JotForm.getInputType(t)&&l&&!o.hasClassName("form-section-closed")&&o.select("li.form-line").each(function(t,r){var o=t.id.split("_")[1];"widget"===JotForm.getInputType(o)?JotForm.showWidget(o):"signature"===JotForm.getInputType(o)&&JotForm.showAndResizeESignature(o)}),"cardform"==window.FORM_MODE&&c&&$jot("id_"+t)&&"control_matrix"==$jot("id_"+t).readAttribute("data-type")&&JotForm.setMatrixLayout(t,!1),JotForm.donationField&&o.down('[data-component="paymentDonation"][data-custom-amount-field]')&&JotForm.updateDonationAmount(),d}},showWidget:function(t){var r=!!document.getElementById("customFieldFrame_"+t)&&document.getElementById("customFieldFrame_"+t).src;if(r){var o=-1!=navigator.userAgent.indexOf("Firefox")?getIframeWindow(window.frames["customFieldFrame_"+t]):window.frames["customFieldFrame_"+t];o&&(XD.postMessage(JSON.stringify({type:"show",qid:t}),r,o),void 0!==window.JCFServerCommon&&JotForm.isVisible(JotForm.getSection($jot("id_"+t)))&&JotForm.isVisible($jot("id_"+t))&&window.JCFServerCommon.frames.hasOwnProperty(t)&&window.JCFServerCommon.frames[t].sendReadyMessage(t))}},reloadWidget:function(t){var r=!!document.getElementById("customFieldFrame_"+t)&&document.getElementById("customFieldFrame_"+t).src;if(r){var o=-1!=navigator.userAgent.indexOf("Firefox")?getIframeWindow(window.frames["customFieldFrame_"+t]):window.frames["customFieldFrame_"+t];o&&XD.postMessage(JSON.stringify({type:"reload",qid:t}),r,o)}},showAndResizeESignature:function(t){var r=$jot("id_"+t);r&&JotForm.isVisible(r)&&r.select(".pad").length>0&&r.select(".pad").first().fire("on:sigresize")},hideField:function(t,r,o){if(!JotForm.otherConditionTrue(t,"show")){var n="id_";$jot("cid_"+t)&&!$jot("id_"+t)&&(n="cid_"),$jot("cid_"+t)&&$jot("section_"+t)&&(n="section_");var a=$jot(n+t);if(a){if(a.addClassName("form-field-hidden"),JotForm.paymentFields.indexOf(a.getAttribute("data-type"))>-1&&!$jot("hiddenPaymentField")&&document.querySelectorAll("form")[0].insert(new Element("input",{type:"hidden",name:"hiddenPaymentField",id:"hiddenPaymentField",value:1})),"enable"==JotForm.clearFieldOnHide&&!o&&!JotForm.ignoreInsertionCondition)try{JotForm.clearField(t)}catch(l){console.log(l)}return a.style.setProperty?a.style.setProperty("display","none","important"):a.hide(),JotForm.donationField&&a.down('[data-component="paymentDonation"][data-custom-amount-field]')&&JotForm.updateDonationAmount(0),JotForm.corrected(a),a}var u=document.querySelectorAll('input[name*="q'+t+'"][type="hidden"]');u.length>0&&u[0].setAttribute("selected",!1)}},clearField:function(t,r,o){var n=JotForm.calculationType(t);if(n){var a="input_"+t in JotForm.defaultValues?JotForm.defaultValues["input_"+t]:"";if("collapse"==n){$jot("section_"+t).select(".form-line").each(function(t){var r=t.id.replace("id_","");JotForm.clearField(r)});return}if("matrix"===n&&r&&$jot(r))$jot(r).value="",!o&&$jot(r).triggerEvent&&$jot(r).triggerEvent("keyup");else if("matrix"===n){if($jot("id_"+t).select('input[type="text"], input[type="tel"]').each(function(t){t.value=t.id in JotForm.defaultValues?JotForm.defaultValues[t.id]:""}),$jot("id_"+t).select('input[type="radio"], input[type="checkbox"]').each(function(t){t.id in JotForm.defaultValues?t.checked=!0:t.checked=!1}),$jot("id_"+t).select("select").each(function(t){t.id in JotForm.defaultValues?t.value=JotForm.defaultValues[t.id]:t.selectedIndex=0}),0===$jot("id_"+t).select("input, select").length)return;var l=$jot("id_"+t).select("input, select").first();l&&l.triggerEvent&&("input"===l.nodeName.toLowerCase()?"checkbox"===l.type||"radio"===l.type?l.up().triggerEvent("click"):l.triggerEvent("keyup"):l.triggerEvent("change"))}else if(["address","combined","datetime","time"].include(n)){$jot("id_"+t).select("input").each(function(t){t.value=t.id in JotForm.defaultValues?JotForm.defaultValues[t.id]:""}),$jot("id_"+t).select("select").each(function(t){t.id in JotForm.defaultValues?t.value=JotForm.defaultValues[t.id]:t.selectedIndex=0});var u=$jot("input_"+t)?$jot("input_"+t):$jot("id_"+t).select("input").first();u&&u.triggerEvent&&u.triggerEvent("keyup"),$jot("input_"+t+"_full")&&"true"==$jot("input_"+t+"_full").readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+t+"_full","textMasking",$jot("input_"+t+"_full").readAttribute("maskValue"))}else if(["braintree","stripe","paypalpro","authnet"].include(n))$jot("id_"+t).select('input[type="text"], .form-address-country').each(function(t){t.value=t.id in JotForm.defaultValues?JotForm.defaultValues[t.id]:""});else if("html"===n)try{$jot("id_"+t).select(".replaceTag").each(function(t){var r=t.readAttribute("default");t.update(r)})}catch(c){console.log(c)}else if("textarea"==n){$jot("input_"+t).value=a,$jot("input_"+t).triggerEvent&&!o&&$jot("input_"+t).triggerEvent("keyup"),$jot("input_"+t).showCustomPlaceHolder&&$jot("input_"+t).showCustomPlaceHolder();var d=$jot("id_"+t).down(".nicEdit-main");d&&(d.innerHTML=a,$jot("input_"+t).hasClassName("custom-hint-group")&&!$jot("input_"+t).hasContent&&d.setStyle({color:"#babbc0"}))}else if("checkbox"==n||"radio"==n)$jot("id_"+t).select('input[type="radio"], input[type="checkbox"]').each(function(t){t.id in JotForm.defaultValues?t.checked=!0:t.checked=!1}),$jot("id_"+t).triggerEvent&&!o&&$jot("id_"+t).triggerEvent("click");else if("select"==n)$jot("input_"+t)?($jot("input_"+t).value=a,$jot("input_"+t).triggerEvent&&!o&&$jot("input_"+t).triggerEvent("change")):$jot("id_"+t).select("select").each(function(t){t.value="",t.triggerEvent&&!o&&t.triggerEvent("change")});else if($jot("input_"+t)){if($jot("input_"+t).value=a,$jot("input_"+t).triggerEvent&&!o){if("widget"==n){var p=$jot("input_"+t);p.fire("widget:clear",{qid:parseInt(p.id.split("_")[1])}),p.triggerEvent("change")}else $jot("input_"+t).triggerEvent("keyup")}""===a&&$jot("input_"+t).hintClear&&$jot("input_"+t).hintClear(),"true"==$jot("input_"+t).readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+t,"textMasking",$jot("input_"+t).readAttribute("maskValue")),$jot("input_"+t).hasClassName("form-star-rating")&&$jot("input_"+t).setRating&&$jot("input_"+t).setRating(0)}}},checkValueByOperator:function(t,r,o){try{"string"==typeof r&&r.indexOf("{")>-1&&r.indexOf("}")>-1&&(r=r.replace(/\{.*?\}/gi,function(t,r,o,n){var a=t.replace(/[\{\}]/g,""),l=document.querySelectorAll('input[name$jot="_'+a+'"]');if(l.length>0){var u=l.first();if(u&&u.value)return u.value}return t}))}catch(n){console.log(n)}var a=Object.isBoolean(o)?o:o.toString().strip().toLowerCase(),l=Object.isBoolean(r)?r:r.toString().strip().toLowerCase();switch(t){case"equals":case"quantityEquals":case"equalDate":return a==l;case"equalDay":return JotForm.getDayOfWeek(a)==l;case"notEquals":case"notEqualDate":case"quantityNotEquals":return a!=l;case"notEqualDay":return JotForm.getDayOfWeek(a)!=l;case"endsWith":return a.endsWith(l);case"notEndsWith":return!a.endsWith(l);case"startsWith":return a.startsWith(l);case"notStartsWith":return!a.startsWith(l);case"contains":return $jotA(condValues=l.split(",")).any(function(t){return a.include(t.replace(/^\s+|\s+$jot/g,""))});case"notContains":return!$jotA(condValues=l.split(",")).any(function(t){return a.include(t.replace(/^\s+|\s+$jot/g,""))});case"greaterThan":case"quantityGreater":return(parseFloat(a,10)||0)>(parseFloat(l,10)||0);case"lessThan":case"quantityLess":if(a.length)return(parseFloat(a,10)||0)<(parseFloat(l,10)||0);break;case"isEmpty":if(Object.isBoolean(a))return!a;return a.empty();case"isFilled":if(Object.isBoolean(a))return a;return!a.empty();case"before":return o<r;case"after":return o>r;default:JotForm.error("Could not find this operator",t)}return!1},getDayOfWeek:function(t){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(t=new Date(t)).getDay()]},typeCache:{},getInputType:function(t){if(JotForm.typeCache[t])return JotForm.typeCache[t];var r=!1;if($jot("id_"+t)&&"control_text"==$jot("id_"+t).readAttribute("data-type"))r="html";else if($jot("input_"+t))r="input"==$jot("input_"+t).nodeName.toLowerCase()?$jot("input_"+t).readAttribute("type").toLowerCase():$jot("input_"+t).nodeName.toLowerCase(),$jot("input_"+t).hasClassName("form-radio-other-input")&&(r="radio"),$jot("input_"+t).hasClassName("form-checkbox-other-input")&&(r="checkbox"),$jot("input_"+t).hasClassName("form-autocomplete")&&(r="autocomplete"),document.querySelectorAll("#id_"+t+" .pad").length>0&&(r="signature"),$jot("input_"+t).hasClassName("form-slider")&&(r="slider"),$jot("input_"+t).hasClassName("form-widget")&&(r="widget"),$jot("input_"+t).hasClassName("form-star-rating")&&(r="rating");else if($jot("input_"+t+"_pick")||$jot("id_"+t)&&"control_datetime"==$jot("id_"+t).readAttribute("data-type"))r="datetime";else if($jot("input_"+t+"_month"))r="birthdate";else if($jot("input_"+t+"_hourSelect"))r="time";else{if($jot("cid_"+t)&&"control_collapse"==$jot("cid_"+t).getAttribute("data-type"))return"collapse";document.querySelectorAll("#id_"+t+" .form-product-item").length>0?r=document.querySelectorAll("#id_"+t+" .form-product-item")[0].select("input")[0].readAttribute("type").toLowerCase():document.querySelectorAll("#id_"+t+" .form-address-table").length>0?r="address":document.querySelectorAll("input[id^=input_"+t+"_]")[0]&&document.querySelectorAll("input[id^=input_"+t+"_]")[0].hasClassName("form-grading-input")?r="grading":document.querySelectorAll("#id_"+t+" input")[0]?("text"==(r=document.querySelectorAll("#id_"+t+" input")[0].readAttribute("type").toLowerCase())||"tel"==r||"number"===r)&&(r="combined"):document.querySelectorAll("#id_"+t+" select")[0]&&(r="select")}return JotForm.typeCache[t]=r,r},strToDate:function(t){var r=new Date(void 0),o=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(t.empty()||!o.test(t))return r;var n=new Date;return t.replace(o,function(t,r,o,a,l,u){return n=l?new Date(parseInt(r,10),parseInt(o,10)-1,parseInt(a,10),parseInt(l,10),parseInt(u,10)):new Date(parseInt(r,10),parseInt(o,10)-1,parseInt(a,10)),t}),n},getBirthDate:function(t){var r=$jot("input_"+t+"_day").getValue()||"%empty%",o=$jot("input_"+t+"_month").selectedIndex||"%empty%";o=String(o);var n=($jot("input_"+t+"_year").getValue()||"%empty%")+"-"+(1==o.length?"0"+o:o)+"-"+(1==r.length?"0"+r:r);return n.include("%empty%")?"":n},get24HourTime:function(t){var r=$jot("input_"+t+"_hourSelect").getValue();if(""==r)return"";var o=$jot("input_"+t+"_minuteSelect").getValue();0==o.length&&(o="00");var n=$jot("input_"+t+"_ampm")?$jot("input_"+t+"_ampm").getValue():"";return r=Number(r),"PM"==n&&12!=r?r+=12:"AM"==n&&12==r&&(r=0),(r=r<10?"0"+r:String(r))+o},getDateValue:function(t){var r="";if($jot("year_"+t)&&(r+=$jot("year_"+t).value||"%empty%"),$jot("month_"+t)){var o=$jot("month_"+t).value?$jot("month_"+t).value.length>1?$jot("month_"+t).value:"0"+$jot("month_"+t).value:"%empty%";r+="-"+o}if($jot("day_"+t)){var n=$jot("day_"+t).value?$jot("day_"+t).value.length>1?$jot("day_"+t).value:"0"+$jot("day_"+t).value:"%empty%";r+="-"+n}if(r.include("%empty%"))return JotForm.info("Wrong date: "+r),"";var a="";return $jot("ampm_"+t)?$jot("hour_"+t)&&(a=$jot("hour_"+t).value,"pm"==$jot("ampm_"+t).value&&(a=parseInt(a,10)+12),"24"==a&&(a=0),r+="T"+((1==a.length?"0"+a:a)||"00")):$jot("hour_"+t)&&(a=$jot("hour_"+t).value,r+="T"+((1==a.length?"0"+a:a)||"00")),$jot("min_"+t)&&(r+=":"+($jot("min_"+t).value||"00")),""===a&&(r+="T00:00"),r},hidePages:{},checkCondition:function(t){var r,o=!1,n=!0;if($jotA(t.terms).each(function(t){var a=JotForm.getFieldIdFromFieldRef(t.value);try{var l=JotForm.getInputType(t.field);switch(l){case"combined":if(["isEmpty","isFilled"].include(t.operator)){r=document.querySelectorAll("#id_"+t.field+" input").collect(function(t){return t.value}).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?o=!0:n=!1;return}u=document.querySelectorAll("#id_"+t.field+" input").collect(function(t){return t.value}),JotForm.checkValueByOperator(t.operator,t.value,u)?o=!0:n=!1;break;case"address":if(["isEmpty","isFilled"].include(t.operator))r=document.querySelectorAll("#id_"+t.field+" input").collect(function(t){return t.value}).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?o=!0:n=!1;else{var u,c,d=t.value;a&&(d=$jot("input_"+a+"_country").value),$jot("input_"+t.field+"_country").select("option").each(function(t){if(d===t.value)throw c=t,$jotbreak}),c&&("equalCountry"==t.operator?c.selected?o=!0:n=!1:"notEqualCountry"==t.operator&&(c.selected?n=!1:o=!0))}break;case"birthdate":case"datetime":if(void 0===(u="datetime"==l?JotForm.getDateValue(t.field):JotForm.getBirthDate(t.field)))return;if(["isEmpty","isFilled"].include(t.operator))JotForm.checkValueByOperator(t.operator,t.value,u)?o=!0:n=!1;else{var d=t.value;if((d=t.value.toLowerCase().replace(/\s/g,"")).indexOf("today")>-1){var p=parseInt(d.split("today")[1])||0,f=new Date;f.setDate(f.getDate()+p);var m=f.getFullYear(),h=f.getMonth()+1;h=h<10?"0"+h:h;var g=f.getDate();g=g<10?"0"+g:g,d=m+"-"+h+"-"+g}else if(a){var m=$jot("year_"+a).value,h=$jot("month_"+a).value,g=$jot("day_"+a).value;d="equalDay"===t.operator||"notEqualDay"===t.operator?JotForm.getDayOfWeek(JotForm.strToDate(m+"-"+h+"-"+g)):m+"-"+h+"-"+g}["equalDate","notEqualDate","after"].include(t.operator)?JotForm.checkValueByOperator(t.operator,JotForm.strToDate(d),JotForm.strToDate(u.split("T")[0]))?o=!0:n=!1:["equalDay","notEqualDay"].include(t.operator)?JotForm.checkValueByOperator(t.operator,d,JotForm.strToDate(u))?o=!0:n=!1:JotForm.checkValueByOperator(t.operator,JotForm.strToDate(d),JotForm.strToDate(u))?o=!0:n=!1}break;case"time":u=JotForm.get24HourTime(t.field);var d=t.value?t.value.replace(/:/,""):"";a&&(d=JotForm.get24HourTime(a)),3==d.length&&(d="0"+d),"before"==t.operator&&u.empty()?n=!1:JotForm.checkValueByOperator(t.operator,d,u)?o=!0:n=!1;break;case"checkbox":case"radio":if(["isEmpty","isFilled"].include(t.operator)){r=document.querySelectorAll("#id_"+t.field+" input").collect(function(t){return t.checked}).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?o=!0:n=!1;return}if(t.value&&(t.value=t.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")),["lessThan","greaterThan"].include(t.operator)){var v=!1;document.querySelectorAll("#id_"+t.field+" input").each(function(r){u=r.checked?r.value:"",JotForm.checkValueByOperator(t.operator,t.value,u)&&(o=!0,v=!0)}),v||(n=!1);return}var y=$jot("id_"+t.field).down(".form-"+l+"-other-input")?$jot("id_"+t.field).down(".form-"+l+"-other-input").getAttribute("data-otherhint"):"";document.querySelectorAll("#id_"+t.field+" input").each(function(r){u=r.hasClassName("form-"+l+"-other")&&r.checked?"-- "+y+" --":(u=r.checked?r.value:"").replace(/_expanded/,"");var a=t.value.strip();if(JotForm.checkValueByOperator(t.operator,a,u))o=!0;else{if("notEquals"==t.operator&&a==u)throw o=!1,n=!1,$jotbreak;(r.value==a||r.hasClassName("form-"+l+"-other")&&a=="-- "+y+" --")&&(n=!1)}});break;case"select":if(t.value&&(t.value=t.value.replace(/&amp;/g,"&")),$jot("input_"+t.field)&&$jot("input_"+t.field).multiple){if("equals"==t.operator){var c=$jot("input_"+t.field).select("option[value="+t.value+"]");c.length>0&&c[0].selected?o=!0:n=!1}else if("notEquals"==t.operator){var c=$jot("input_"+t.field).select("option[value="+t.value+"]");c.length>0&&!c[0].selected?o=!0:n=!1}else if(["isEmpty","isFilled"].include(t.operator)){for(var $=!1,b=$jot("input_"+t.field).options,_=0;_<b.length;_++)b[_].value.empty()||!0!=b[_].selected||($=!0);"isEmpty"==t.operator&&($?n=!1:o=!0),"isFilled"==t.operator&&($?o=!0:n=!1)}}else if($jot("input_"+t.field)){if(void 0===(u=$jot("input_"+t.field).value))return;JotForm.checkValueByOperator(t.operator,t.value,u)?o=!0:n=!1}else r=document.querySelectorAll("#id_"+t.field+" select").collect(function(t){return t.value}).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?o=!0:n=!1;break;case"grading":["isEmpty","isFilled"].include(t.operator)?(r=document.querySelectorAll("input[id^=input_"+t.field+"_]").collect(function(t){return t.value}).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?o=!0:n=!1):(u=$jot("grade_point_"+t.field).innerHTML.stripTags(),JotForm.checkValueByOperator(t.operator,t.value,u)?o=!0:n=!1);break;case"file":if(void 0===(u=$jot("id_"+t.field).select(".qq-uploader").length>0?$jot("id_"+t.field).select(".qq-upload-file").length>0:$jot("input_"+t.field).uploadMarked?$jot("input_"+t.field).uploadMarked:$jot("input_"+t.field).value))return;JotForm.checkValueByOperator(t.operator,t.value,u,t.field)?o=!0:n=!1;break;case"textarea":if(u=$jot("input_"+t.field).value,($jot("input_"+t.field).hinted||$jot("input_"+t.field).hasClassName("form-custom-hint"))&&(u=""),void 0===u)return;$jot("id_"+t.field).down(".nicEdit-main")&&(u=u.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," ")),JotForm.checkValueByOperator(t.operator,t.value,u,t.field)?o=!0:n=!1;break;case"widget":if(void 0===(u=$jot("input_"+t.field).value))return;if(u.indexOf("widget_metadata")>-1)try{u=JSON.parse(u).widget_metadata.value;for(var F=!1,_=0;_<u.length;_++){var j=u[_];for(var S in j)JotForm.checkValueByOperator(t.operator,t.value,j[S],t.field)&&(o=!0,F=!0)}F||(n=!1)}catch(C){console.log(C)}else u=("greaterThan"===t.operator||"lessThan"===t.operator)&&"string"==typeof u?u.replace(/,/g,""):u,JotForm.checkValueByOperator(t.operator,t.value,u,t.field)?o=!0:n=!1;break;case"hidden":u=$jot("input_"+t.field+"_donation")?$jot("input_"+t.field+"_donation").value:$jot("input_"+t.field).value,JotForm.checkValueByOperator(t.operator,t.value,u,t.field)?o=!0:n=!1;break;case"rating":u=$jot("input_"+t.field).value||"",JotForm.checkValueByOperator(t.operator,t.value,u,t.field)?o=!0:n=!1;break;default:if(!$jot("input_"+t.field)||(u=$jot("input_"+t.field).value,$jot("input_"+t.field).hinted&&(u=""),void 0===u))return;JotForm.checkValueByOperator(t.operator,t.value,u,t.field)?o=!0:n=!1}}catch(w){JotForm.error(w)}}),"field"==t.type){var a="any"==t.link.toLowerCase()&&o||"all"==t.link.toLowerCase()&&n;t.action.each(function(r){var o=t.terms.any(function(t){return t.field==r.field});a?(r.currentlyTrue=!0,"show"==r.visibility.toLowerCase()?JotForm.showField(r.field):"hide"==r.visibility.toLowerCase()?JotForm.hideField(r.field,!1,o):"showmultiple"==r.visibility.toLowerCase()&&r.fields?r.fields.each(function(t){JotForm.showField(t,!0)}):"hidemultiple"==r.visibility.toLowerCase()&&r.fields&&r.fields.each(function(t){JotForm.hideField(t,!0,o)})):(r.currentlyTrue=!1,"show"==r.visibility.toLowerCase()?JotForm.hideField(r.field,!1,o):"hide"==r.visibility.toLowerCase()?JotForm.showField(r.field):"showmultiple"==r.visibility.toLowerCase()&&r.fields?r.fields.each(function(t){JotForm.hideField(t,!0,o)}):"hidemultiple"==r.visibility.toLowerCase()&&r.fields&&r.fields.each(function(t){JotForm.showField(t,!0)})),"cardform"!==window.FORM_MODE&&JotForm.iframeHeightCaller(),($jot("section_"+r.field)||"fields"in r)&&JotForm.runAllCalculations(!0),$jot("input_"+r.field)&&$jot("input_"+r.field).triggerEvent&&!o&&0>$jot("input_"+r.field).className.indexOf("-other-")&&$jot("input_"+r.field).triggerEvent("keyup")})}else if("require"==t.type){var a="any"==t.link.toLowerCase()&&o||"all"==t.link.toLowerCase()&&n;t.action.each(function(t){t.currentlyTrue=a,"require"==t.visibility.toLowerCase()?JotForm.requireField(t.field,a):"unrequire"==t.visibility.toLowerCase()?JotForm.requireField(t.field,!a):"requiremultiple"==t.visibility.toLowerCase()&&t.fields?t.fields.each(function(t){JotForm.requireField(t,a)}):"unrequiremultiple"==t.visibility.toLowerCase()&&t.fields?t.fields.each(function(t){JotForm.requireField(t,!a)}):"enable"==t.visibility.toLowerCase()?JotForm.enableDisableField(t.field,a):"disable"==t.visibility.toLowerCase()&&JotForm.enableDisableField(t.field,!a)})}else if("mask"==t.type)t.action.each(function(r){if("any"==t.link.toLowerCase()&&o||"all"==t.link.toLowerCase()&&n)t.conditionTrue=!0,JotForm.setQuestionMasking("#input_"+r.field,"textMasking",r.mask),$jot("input_"+r.field).writeAttribute("masked","true");else{t.conditionTrue=!1;var a=!0;$jotA(JotForm.conditions).each(function(t){!0!=t.disabled&&"mask"===t.type&&t.conditionTrue&&$jotA(t.action).each(function(t){t.field==r.field&&(a=!1)})}),a&&(JotForm.setQuestionMasking("#input_"+r.field,"","",!0),$jot("input_"+r.field).writeAttribute("masked","false"))}});else if("calculation"==t.type){if(!$jot("id_"+t.action[0].resultField))return;for(var l=JotForm.calculations,u=0;u<l.length;u++)l[u].conditionId===t.id&&(calc=l[u]);if("any"==t.link.toLowerCase()&&o||"all"==t.link.toLowerCase()&&n){if(calc.conditionTrue=!0,JotForm.ignoreInsertionCondition)return;JotForm.checkCalculation(calc)}else{if(calc.conditionTrue=!1,JotForm.ignoreInsertionCondition)return;setTimeout(function(r){for(var o,n={},a=0;a<l.length;a++)t.action[0].resultField==l[a].resultField&&l[a].hasOwnProperty("conditionTrue")&&l[a].conditionTrue&&!("html"===JotForm.getInputType(t.action[0].resultField)&&t.action[0].replaceText!==l[a].replaceText)&&(o=l[a].resultSubField||"",n[l[a].resultField+o]=!0);if(o="resultSubField"in t.action[0]?t.action[0].resultSubField:"",!n[t.action[0].resultField+o])try{var u=t.terms.map(function(r){return r.field===t.action[0].resultField}).any();u||(u=t.action[0].operands&&t.action[0].operands.split(",").include(t.action[0].resultField)),JotForm.clearField(t.action[0].resultField,o,u)}catch(c){console.log(c)}},50,calc)}}else{if($jotA(t.action).length>0&&"hidePage"===t.action.first().skipHide){var c=t.action.first();"any"==t.link.toLowerCase()&&o||"all"==t.link.toLowerCase()&&n?JotForm.hidePages[parseInt(c.skipTo.replace("page-",""),10)]=!0:JotForm.hidePages[parseInt(c.skipTo.replace("page-",""),10)]=!1;return}if(JotForm.nextPage)return;if("any"==t.link.toLowerCase()&&o||"all"==t.link.toLowerCase()&&n){var c=t.action[0],d=document.querySelectorAll(".page-section");"end"==c.skipTo?JotForm.nextPage=d[d.length-1]:JotForm.nextPage=d[parseInt(c.skipTo.replace("page-",""),10)-1]}else JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+"1"),JotForm.nextPage=!1}JotForm.enableDisableButtonsInMultiForms()},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(t,r,o){JotForm.fieldConditions[t]||(JotForm.fieldConditions[t]={event:r,conditions:[]}),JotForm.fieldConditions[t].conditions.push(o)},widgetsAsCalculationOperands:[],requireField:function(t,r){$jot("id_"+t)&&(JotForm.otherConditionTrue(t,r?"unrequire":"require")||(document.querySelectorAll("#id_"+t+" input, #id_"+t+" textarea, #id_"+t+" select").each(function(o){if(!("coupon-input"===o.id||"hidden"===o.type&&!o.up(".form-star-rating")&&!o.hasClassName("form-widget")||o.hasClassName("form-checkbox-other-input")||o.hasClassName("form-radio-other-input")||$jotA(["prefix","middle","suffix","addr_line2"]).any(function(t){return o.name.indexOf("["+t+"]")>-1}))){var n=[];if(n=o.className.indexOf("validate[")>-1?(n=o.className.substr(o.className.indexOf("validate[")+9)).substr(0,n.indexOf("]")).split(/\s*,\s*/):[],"file"==JotForm.getInputType(t)&&"multiple"==o.getAttribute("multiple")&&o.up("[class*=validate[multipleUpload]]")){var a=o.up("[class*=validate[multipleUpload]]");a.className=a.className.replace(/validate\[required\]/gi,""),r?a.addClassName("validate[required]"):a.removeClassName("form-validation-error")}o.className=o.className.replace(/validate\[.*\]/,"");for(var l=n.length-1;l>=0;l--)"required"===n[l]&&n.splice(l,1);r?(n.push("required"),o.hasClassName("form-widget")&&o.addClassName("widget-required")):(o.removeClassName("form-validation-error"),o.removeClassName("widget-required")),n.length>0&&o.addClassName("validate["+n.join(",")+"]"),JotForm.setFieldValidation(o)}}),document.querySelectorAll("div.pad#sig_pad_"+t)[0]&&document.querySelectorAll("div.pad#sig_pad_"+t)[0].setAttribute("data-required",r),r?$jot("label_"+t)&&!$jot("label_"+t).down(".form-required")&&$jot("label_"+t).insert('<span class="form-required">*</span>'):($jot("label_"+t)&&$jot("label_"+t).down(".form-required")&&$jot("label_"+t).down(".form-required").remove(),$jot("id_"+t).down(".form-error-message")&&$jot("id_"+t).down(".form-error-message").remove(),$jot("id_"+t).removeClassName("form-line-error"),0==document.querySelectorAll(".form-line-error").length&&JotForm.hideButtonMessage())))},enableDisableField:function(t,r){if($jot("id_"+t))try{$jot("id_"+t).select("input, textarea, select, button").each(function(t){if(r){if(t.removeClassName("conditionallyDisabled"),!JotForm.isEditMode()){t.enable();return}"SELECT"===t.tagName?document.querySelectorAll("#"+t.id+" > option").each(function(t){t.enable()}):(t.removeAttribute("readonly"),t.enable());return}if(t.addClassName("conditionallyDisabled"),!JotForm.isEditMode()){t.disable();return}switch(t.tagName){case"SELECT":document.querySelectorAll("#"+t.id+" > option:not(:selected)").each(function(t){t.disable()});break;case"INPUT":(["checkbox","radio"].include(t.type)&&!t.checked||"file"===t.type)&&t.disable();default:t.setAttribute("readonly","")}})}catch(o){console.log(o)}},triggerWidgetCalculation:function(t){if(JotForm.widgetsAsCalculationOperands.include(t)){if(document.createEvent){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!0),$jot("input_"+t).dispatchEvent(r)}else if($jot("input_"+t).fireEvent)return $jot("input_"+t).fireEvent("onchange")}},setCalculationResultReadOnly:function(){$jotA(JotForm.calculations).each(function(t,r){t.readOnly&&"0"!=t.readOnly&&null!=$jot("input_"+t.resultField)&&$jot("input_"+t.resultField).setAttribute("readOnly","true")})},setCalculationEvents:function(){var t=function(t,r,o){$jot(t).observe(r,function(){"paste"===r?setTimeout(function(){t.addClassName("calculatedOperand"),JotForm.checkCalculation(o)},10):(t.addClassName("calculatedOperand"),JotForm.checkCalculation(o))})};$jotA(JotForm.calculations).each(function(r,o){if(r.operands)for(var n=r.operands.split(","),a=0;a<n.length;a++){var l=n[a];if(!(!l||l.empty())&&$jot("id_"+l)){var u,c=JotForm.calculationType(l);switch(c){case"widget":t($jot("id_"+l),"change",r),JotForm.widgetsAsCalculationOperands.push(l);break;case"radio":case"checkbox":t($jot("id_"+l),"click",r),$jot("input_"+l)&&t($jot("id_"+l),"keyup",r);break;case"select":case"file":Protoplus&&Protoplus.getIEVersion&&8==Protoplus.getIEVersion()?t($jot("id_"+l),"click",r):t($jot("id_"+l),"change",r);break;case"datetime":t($jot("id_"+l),"date:changed",r),document.querySelectorAll("#id_"+l+" select").each(function(o){t($jot(o),"change",r)});break;case"time":case"birthdate":document.querySelectorAll("#id_"+l+" select").each(function(n){t($jot(n),"change",r,o)});break;case"address":t($jot("id_"+l),"change",r,o),t($jot("id_"+l),"blur",r,o),t($jot("id_"+l),"keyup",r,o),document.querySelectorAll("#id_"+l+" select").each(function(n){t($jot(n),"change",r,o)});break;case"number":t($jot("id_"+l),"keyup",r,o),t($jot("id_"+l),"paste",r,o),t($jot("id_"+l),"click",r,o);break;default:t($jot("id_"+l),"change",r,o),t($jot("id_"+l),"blur",r,o),t($jot("id_"+l),"keyup",r,o),t($jot("id_"+l),"paste",r,o)}}}})},runAllCalculations:function(t,r){$jotA(JotForm.calculations).each(function(o,n){r&&"html"!==JotForm.getInputType(o.resultField)||t&&(!o.readOnly||"0"==o.readOnly)||!o.equation||JotForm.checkCalculation(o)})},calculationType:function(t){var r=["control_stripe","control_paymill","control_payment","control_paypal","control_paypalexpress","control_paypalpro","control_clickbank","control_2co","control_googleco","control_worldpay","control_onebip","control_authnet","control_dwolla","control_braintree","control_square","control_boxpayment","control_eway","control_bluepay","control_firstdata","control_payjunction","control_chargify","control_cardconnect","control_echeck","control_bluesnap"];return $jot("id_"+t)&&$jot("id_"+t).readAttribute("data-type")&&r.include($jot("id_"+t).readAttribute("data-type"))?$jot("id_"+t).readAttribute("data-type").replace("control_",""):$jot("id_"+t)&&"control_matrix"==$jot("id_"+t).readAttribute("data-type")?"matrix":JotForm.getInputType(t)},checkCalculation:function(t){if(t.hasOwnProperty("conditionTrue")&&!t.conditionTrue)return"";var r,o,n=t.resultField,a=!!t.showBeforeInput&&"0"!=t.showBeforeInput&&t.showBeforeInput,l=!!t.ignoreHiddenFields&&"0"!=t.ignoreHiddenFields&&t.ignoreHiddenFields,u=!!t.useCommasForDecimals&&"0"!=t.useCommasForDecimals&&t.useCommasForDecimals;if($jot("id_"+n)){try{if(!["text","email","textarea","calculation","combined","address","datetime","time","html","authnet","paypalpro","number","radio","checkbox","select","matrix","braintree","stripe","square","eway","bluepay","firstdata","chargify","echeck",].include(JotForm.calculationType(n)))return}catch(c){console.log(c)}var d={},p=function(r,o){var c="";if(r.indexOf("_")>-1&&(c=r.substring(r.indexOf("_")),r=r.substring(0,r.indexOf("_"))),!$jot("id_"+r)||!$jot("id_"+r).hasClassName("calculatedOperand")&&a)return"";if(l&&($jot("id_"+r).hasClassName("form-field-hidden")||$jot("id_"+r).up(".form-section")&&$jot("id_"+r).up(".form-section").hasClassName("form-field-hidden")))return o?0:"";var p=JotForm.calculationType(r),f="";switch(p){case"matrix":if($jot("id_"+r).down(".form-radio"))document.querySelectorAll('input[id^="input_'+r+c+'_"]').each(function(t){t.checked&&(f=t.readAttribute("data-calcvalue")?t.readAttribute("data-calcvalue"):t.value)});else if($jot("input_"+r+c)){if("checkbox"==$jot("input_"+r+c).type){if($jot("input_"+r+c).checked){var m=$jot("input_"+r+c);f=m.readAttribute("data-calcvalue")?m.readAttribute("data-calcvalue"):m.value}}else f=$jot("input_"+r+c).value}break;case"stripe":case"paymill":case"payment":case"paypal":case"paypalexpress":case"paypalpro":case"clickbank":case"2co":case"googleco":case"worldpay":case"onebip":case"authnet":case"dwolla":case"braintree":case"square":case"eway":case"bluepay":$jot("id_"+r).down("#payment_total")?f=$jot("id_"+r).down("#payment_total").innerHTML:$jot("input_"+r+"_donation")&&(f=$jot("input_"+r+"_donation").value),JotForm.currencyFormat&&","===JotForm.currencyFormat.dSeparator&&(f=f.replace(/\./g,"").replace(/\,/g,"."));break;case"radio":document.querySelectorAll("#id_"+r+' input[type="radio"]').each(function(t,r){if(t.checked){if(t.readAttribute("data-calcvalue"))f=t.readAttribute("data-calcvalue");else{var o=JotForm.getOptionOtherInput(t);f="undefined"!=typeof FormTranslation&&o&&o.innerHTML?JotForm.getOptionOtherInput(t).innerHTML:t.value}}});break;case"checkbox":var h=[];document.querySelectorAll("#id_"+r+' input[type="checkbox"]').each(function(t,r){t.checked&&(t.readAttribute("data-calcvalue")?h.push(t.readAttribute("data-calcvalue")):"undefined"!=typeof FormTranslation&&t.next()&&t.next().innerHTML?h.push(t.next().innerHTML):h.push(t.value))}),f=o?h.inject(0,function(t,r){return t+(parseFloat(r.replace(/-?([^0-9])/g,"$jot1").replace(/[^0-9\.-]/g,""))||0)}):h.join();break;case"select":var g=function(t){return t.textContent?t.textContent.replace(/^\s+|\s+$jot/g,""):t.innerText.replace(/^\s+|\s+$jot/g,"")};o&&(f=0),$jot("input_"+r).select("option").each(function(n,a){var n=$jot("input_"+r).options[a];if(n&&n.selected){var l=n.readAttribute("data-calcvalue")&&(!t.hasOwnProperty("insertAsText")||t.hasOwnProperty("insertAsText")&&(!1==t.insertAsText||"0"===t.insertAsText))?n.readAttribute("data-calcvalue"):g(n);o?f+=""===l?0:parseFloat(l.replace(/[^\-0-9.]/g,"")):f+=l}});break;case"number":if(document.querySelectorAll("#id_"+r+' input[type="number"]').length>1){var h=[];document.querySelectorAll("#id_"+r+' input[type="number"]').each(function(t){h.push(t.value)}),f=h.join(" ")}else $jot("input_"+r).value.empty()||isNaN($jot("input_"+r).value)||(f=parseFloat($jot("input_"+r).value));break;case"combined":case"grading":var h=[];d={},document.querySelectorAll("#id_"+r+' input[type="text"]').each(function(t){t.value.empty()||h.push(t.value),d[t.id.replace(/_.*/,"")]=t.value}),document.querySelectorAll("#id_"+r+' input[type="tel"]').each(function(t){t.value.empty()||h.push(t.value),d[t.id.replace(/input_[0-9].*_+/,"")]=t.value}),f=h.join(" ");break;case"datetime":var h=[];if(o?(h.push($jot("month_"+r).value),h.push($jot("day_"+r).value),h.push($jot("year_"+r).value)):(document.querySelectorAll("#id_"+r+' input[type="tel"]').each(function(t){h.push(t.value),d[t.id.replace(/_.*/,"")]=t.value}),document.querySelectorAll("#id_"+r+" select").each(function(t){d[t.id.replace(/_.*/,"")]=t.value})),document.querySelectorAll("#id_"+r+" select").each(function(t){h.push(t.value)}),o){if(h[0].empty()||h[1].empty()||h[2].empty())f=0;else{var v=j=S="";!(h.length>4)||h[3].empty()||h[4].empty()||(v=parseInt(h[3]),6!=h.length||h[5].empty()||("PM"==(S=h[5])&&12!=v?v+=12:"AM"!=S||12!=v||(v=0)),j=h[4]);var y=Date.UTC(h[2],h[0]-1,h[1],v,j);f=y/60/60/24/1e3}}else{if(h.length>2&&!h[0].empty()&&!h[1].empty()&&!h[0].empty()){var $="/",b=document.querySelectorAll("#id_"+r+" span[class=date-separate]").first();b&&($=b.innerHTML.replace(/[^\/\-\.]/g,"")),f=h[0]+$+h[1]+$+h[2]}!(h.length>4)||h[3].empty()||h[4].empty()||(f+=" "+h[3]+":"+h[4],6!=h.length||h[5].empty()||(f+=" "+h[5]))}break;case"time":if("_duration"==c){if($jot("duration_"+r+"_ampmRange")){if(o){var _=$jot("duration_"+r+"_ampmRange").value;if(_.indexOf(":")>-1){var F=_.split(":"),v=F[0]||0,j=F[1]||0,y=Date.UTC("1970","0","1",v,j);f=y/60/60/1e3}}else f=$jot("duration_"+r+"_ampmRange").value}break}var h=[];if(d={},o){document.querySelectorAll("#id_"+r+" select").each(function(t){h.push(t.value)});var j,S="";v=parseInt(h[0])||0,3!=h.length||h[2].empty()||("PM"==(S=h[2])&&12!=v?v+=12:"AM"!=S||12!=v||(v=0));var y=Date.UTC("1970","0","1",v,j=h[1]);f=y/60/60/1e3}else $jot("input_"+r+"_hourSelect")&&!$jot("input_"+r+"_hourSelect").value.empty()&&$jot("input_"+r+"_minuteSelect")&&!$jot("input_"+r+"_minuteSelect").value.empty()&&(f=$jot("input_"+r+"_hourSelect").value+":"+$jot("input_"+r+"_minuteSelect").value,$jot("input_"+r+"_ampm")&&(f+=" "+$jot("input_"+r+"_ampm").value)),$jot("input_"+r+"_hourSelectRange")&&!$jot("input_"+r+"_hourSelectRange").value.empty()&&$jot("input_"+r+"_minuteSelectRange")&&!$jot("input_"+r+"_minuteSelectRange").value.empty()&&(f+=" - "+$jot("input_"+r+"_hourSelectRange").value+":"+$jot("input_"+r+"_minuteSelectRange").value,$jot("input_"+r+"_ampmRange")&&(f+=" "+$jot("input_"+r+"_ampmRange").value),$jot("duration_"+r+"_ampmRange")&&!$jot("duration_"+r+"_ampmRange").value.empty()&&(f+=" ("+$jot("duration_"+r+"_ampmRange").value+")")),document.querySelectorAll("#id_"+r+" select").each(function(t){d[t.id.replace(/.*_.*_/,"")]=t.value});break;case"birthdate":var h=[];if(o)try{var C=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf($jot("input_"+r+"_month").value),w=$jot("input_"+r+"_day").value,A=$jot("input_"+r+"_year").value,y=new Date(A,C,w).getTime();f=y/60/60/24/1e3}catch(E){console.log("birthdate error"),console.log(E)}else document.querySelectorAll("#id_"+r+" select").each(function(t){h.push(t.value)}),h[0].empty()||h[1].empty()||h[2].empty()||(f=h[0]+" "+h[1]+" "+h[2]);break;case"address":var h=[];d={},document.querySelectorAll("#id_"+r+' input[type="text"]').each(function(t){t.value.empty()||h.push(t.value),d[t.id.replace(/input_[0-9].*?_+/,"")]=t.value}),document.querySelectorAll("#id_"+r+" select").each(function(t){t.value.empty()||h.push(t.value),d[t.id.replace(/input_[0-9].*_+/,"")]=t.value}),f=h.join(", ");break;case"file":f=(f=$jot("input_"+r).value).substring(f.lastIndexOf("\\")+1);break;case"textarea":$jot("input_"+r)&&void 0!==$jot("input_"+r).value&&(f=$jot("input_"+r).value,$jot("id_"+r).down(".nicEdit-main")&&(f=f.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," ")));break;case"widget":var q=JotForm.getWidgetType(r);switch(q){case"timer":case"fancyTimer":if(o)f=$jot("input_"+r).value;else{var T=$jot("input_"+r).value,N=Math.floor(T/60);T-=60*N,T=JotForm.addZeros(T,2),f=N+":"+T}break;case"configurableList":case"dynMatrix":var J="html"===JotForm.calculationType(n)?"<br/>":"\n",D=$jot("input_"+r).value;try{D=JSON.parse(D);for(var O=0;O<D.length;O++){var h=[];for(line in D[O])D[O].hasOwnProperty(line)&&!D[O][line].empty()&&h.push(D[O][line]);f+=h.join(",")+J}}catch(P){console.log($jot("input_"+r).value),console.log(t)}break;case"giftRegistry":f=$jot("input_"+r).value,"html"===JotForm.calculationType(n)&&(f=f.replace(/\n/g,"<br/>"));break;case"imagelinks":case"links":for(var J="html"===JotForm.calculationType(n)?"<br/>":"\n",D=JSON.parse($jot("input_"+r).value).widget_metadata.value,O=0;O<D.length;O++)if(!D[O].url.replace(/\s/g,"").empty()){var M=D[O].name&&!D[O].name.replace(/\s/g,"").empty();"html"===JotForm.calculationType(n)?"imagelinks"===q?f+='<a href="'+D[O].url+'"><img src="'+D[O].url+'" /></a>':f+='<a href="'+D[O].url+'">'+(M?D[O].name:D[O].url)+"</a>":(f+=M?D[O].name+": ":"",f+=D[O].url+J)}break;case"htmltext":var L=JSON.parse($jot("input_"+r).value).widget_metadata.value;f=window.atob?window.atob(L):"","html"!==JotForm.calculationType(n)&&(f=f.strip().replace(/<br>/g,"\n").stripTags().replace(/&nbsp;/g," "));break;case"drivingDistance":if((f=$jot("input_"+r).value).indexOf("Distance")>-1){var I=f.match(/Distance(.*)/);I.length>1&&(f=I[1])}break;default:f=$jot("input_"+r).value}break;default:$jot("input_"+r)&&void 0!==$jot("input_"+r).value&&(f=$jot("input_"+r).value)}return o&&"number"!=typeof f&&(u&&(/\..*\,/.test(f)&&(f=f.replace(/\./g,"")),f=f.replace(",",".")),f=f.replace(/-?([^0-9])/g,"$jot1").replace(/[^0-9\.-]/g,"")),o&&f<0&&(f="("+f+")"),o&&""===f&&(f=0),f},f=function(r,o){for(var n="",a={abs:Math.abs,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atanh:Math.atanh,atan2:Math.atan2,cbrt:Math.cbrt,ceil:Math.ceil,cos:Math.cos,cosh:Math.cosh,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,hypot:Math.hypot,imul:Math.imul,log:Math.log,log1p:Math.log1p,log10:Math.log10,log2:Math.log2,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sign:Math.sign,sin:Math.sin,sinh:Math.sinh,sqrt:Math.sqrt,tan:Math.tan,tanh:Math.tanh,toSource:Math.toSource,trunc:Math.trunc,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2},l=0;l<r.length;l++)if("["!==(character=r.charAt(l))||o){if("|*|"===r.substr(l,3))try{l+=3;var c=r.indexOf("|*|",l);if(-1===c)continue;var d=r.substring(l,c);if(l+=c+2-l,"("===r.charAt(l+1)||"["===r.charAt(l+1)&&"("===r.charAt(l+2)){l+="["===r.charAt(l+1)?3:2;for(var m=-1,h=1,g=l;g<r.length;g++)if(")"===r.charAt(g)){if(h--,0===h){m=g;break}}else"("===r.charAt(g)&&h++;if(-1===m)continue;for(var v=r.substring(l,m),y=(v=v.split(",")).slice(0),$=0;$<v.length;$++)v[$]=f(v[$],!0),v[$]&&(v[$]=new MathProcessor().parse(v[$]));if(l+=m-l,"dateString"===d){var b=864e5*v[0]+3e4,_=new Date(b),F=function(t){var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getUTCDay()],n=r[t.getUTCMonth()],a=JotForm.addZeros(t.getUTCDate(),2),l=t.getUTCFullYear();return o+" "+n+" "+a+" "+l};n+=F(_),"]"===r.charAt(l)?l++:r=r.substr(0,l+1)+"["+r.substr(l+1)}else if("date"===d){if(v.length>2){var b=Date.UTC(v[0],v[1]-1,v[2]);n+=b/60/60/24/1e3}}else if("nth"===d){var j=v[0];v=(v=(v=v.splice(1)).sort(function(t,r){return parseInt(t)>parseInt(r)?1:parseInt(r)>parseInt(t)?-1:0})).reverse(),n+=v[parseInt(j)-1]}else if("avg"===d||"avgNoZero"===d){for(var S=sum=0,$=0;$<v.length;$++)parseFloat(v[$])>0&&(S++,sum+=parseFloat(v[$]));n+="avg"===d?sum/v.length:sum/S}else if("count"===d){var C=y[0];C=C.replace(/[\{\}]/g,"");var w=JotForm.getInputType(C),S=document.querySelectorAll("#id_"+C+' input[type="'+w+'"]:checked').length;n+=S}else if("commaSeparate"===d){if("number"==typeof v[0]){v[0]=v[0].toFixed(t.decimalPlaces);var A=v[0].toString().split(".");A[0]=A[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n+=A.join(".")}else n+=v[0]}else n+=a[d].apply(void 0,v)}else"random"===d?n+=Math.random():n+=a[d]}catch(E){console.log(E)}else if("{"===character){var c=r.indexOf("}",l),q=r.substring(l+1,c);try{var T=p(q,o)}catch(N){console.log("error catching value"),console.log(N)}if(""===T&&o)return!1;n+=T,l+=c-l}else n+=character}else{var c=r.indexOf("]",l);try{var J=f(r.substring(l+1,c),!0);J&&(-1!=J.indexOf(",")||(J=new MathProcessor().parse(J),"datetime"===JotForm.getInputType(t.resultField)||(J=J.toFixed(t.decimalPlaces),t.showEmptyDecimals&&"0"!=t.showEmptyDecimals||(J=parseFloat(J))),isFinite(J)||(J=0)),u&&(J=J.toString().replace(".",",")),n+=J)}catch(D){console.log("exception in "+t.conditionId+" : "+J+"("+r+")")}l=c}return n},m=f(t.equation);!("string"==typeof m&&m.length>1)&&0===parseFloat(m)&&$jot("input_"+n)&&(null!=$jot("input_"+n).readAttribute("defaultValue")||null!=$jot("input_"+n).readAttribute("data-defaultvalue"))&&(m=$jot("input_"+n).readAttribute("defaultValue")||$jot("input_"+n).readAttribute("data-defaultvalue"));var h=t.isLabel?"html":JotForm.calculationType(n);switch(h){case"html":try{if(t.replaceText||(t.replaceText=""),t.replaceText.indexOf(":")>-1){var g=t.replaceText.substr(t.replaceText.indexOf(":")+1);g in d&&(m=d[g])}m.empty()&&t.defaultValue&&(m=t.defaultValue);var v=document.querySelectorAll("."+n+"_"+t.replaceText.replace(":","\\:"));if(0==v.length){var y=t.isLabel?$jot("label_"+n).innerHTML:$jot("text_"+n).innerHTML,$=RegExp("{"+t.replaceText+"}","g"),b=t.defaultValue||"";y=y.replace($,'<span class="replaceTag '+n+"_"+t.replaceText+'" default="'+b+'">'+m+"</span>"),t.isLabel?$jot("label_"+n).update(y):$jot("text_"+n).update(y)}else v.each(function(t){t.update(m)})}catch(_){console.log(_)}break;case"address":case"authnet":case"paypalpro":case"combined":case"time":case"braintree":case"stripe":for(var F in d)$jot("id_"+n).select("input[id*="+F+"], select[id*="+F+"]").length>0&&($jot("id_"+n).select("input[id*="+F+"], select[id*="+F+"]").first().value=d[F]);$jot("input_"+n+"_full")&&"true"==$jot("input_"+n+"_full").readAttribute("masked")&&JotForm.setQuestionMasking("#input_"+n+"_full","textMasking",$jot("input_"+n+"_full").readAttribute("maskValue"));break;case"datetime":if(d&&"year"in d)for(var F in d)$jot("id_"+n).select("input[id*="+F+"], select[id*="+F+"]").length>0&&($jot("id_"+n).select("input[id*="+F+"], select[id*="+F+"]").first().value=d[F]);else try{if("number"==typeof m&&m>0||"string"==typeof m&&m.replace(/\s/g,"").length>0&&"0"!==m){var j=new Date(Math.round(864e5*m)),S=j.getUTCFullYear(),C=JotForm.addZeros(j.getUTCMonth()+1,2),w=JotForm.addZeros(j.getUTCDate(),2);isNaN(S)||($jot("year_"+n).value=S),isNaN(C)||($jot("month_"+n).value=C),isNaN(w)||($jot("day_"+n).value=w)}}catch(A){console.log(A)}if($jot("lite_mode_"+n)){var j=new Date($jot("year_"+n).value,$jot("month_"+n).value-1,$jot("day_"+n).value);j.getTime()&&JotForm.formatDate({date:j,dateField:$jot("id_"+n)})}break;case"number":m=m.replace(/[^\-0-9\.]/g,""),$jot("input_"+n).value=m;break;case"radio":$jotA(document.querySelectorAll("#id_"+n+' input[type="radio"]')).each(function(t){t.checked=!1,t.value==m.strip()&&(t.checked=!0)});break;case"checkbox":var E=document.querySelectorAll("#id_"+n+' input[type="checkbox"]'),q=m.split(",");q=q.collect(function(t){return t.strip()}),$jotA(E).each(function(t){t.checked=!1,q.include(t.value)&&(t.checked=!0)});break;case"select":$jot("input_"+n).setValue(m.strip());break;case"matrix":"resultSubField"in t&&$jot(t.resultSubField)&&($jot(t.resultSubField).value=m);break;case"textarea":(m=m.replace(/<br>|<br\/>/gi,"\r\n"))&&m.length>0&&$jot("input_"+n).removeClassName("form-custom-hint").removeAttribute("spellcheck");var T=$jot("id_"+n).down(".nicEdit-main");T&&(T.innerHTML=m,T.setStyle({color:""})),$jot("input_"+n).value=m;break;default:!0===$jot("input_"+n).hinted&&$jot("input_"+n).clearHint(),$jot("input_"+n).value=m,m&&0===m.length&&$jot("input_"+n).hintClear&&$jot("input_"+n).hintClear(),"true"==$jot("input_"+n).readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+n,"textMasking",$jot("input_"+n).readAttribute("maskValue")),JotForm.donationField&&JotForm.donationField.getAttribute("data-custom-amount-field")==n&&$jot("input_"+n).triggerEvent("change")}if(!function(){var t,r=document.querySelectorAll("[id^='input_"+n+"_']");if(r.length){var o=[];r.forEach(function(t){"radio"==t.type||"checkbox"==t.type?t.checked&&o.push(t.value):o.push(t.value)}),t=JSON.stringify(o)}else t=m;var a="input_"+n;return"__antiLoopCache"in window||(window.__antiLoopCache={}),a in window.__antiLoopCache&&window.__antiLoopCache[a]===t||(window.__antiLoopCache[a]=t,!1)}()&&($jot("id_"+n).hasClassName("form-line-error")&&$jot("id_"+n).select("select[class*='required'], textarea[class*='required'], input[class*='required']").each(function(t){t.validateInput&&t.validateInput()}),"checkbox"==h||"radio"==h?(o="click",r=$jot("id_"+n)):"select"==h?(o="change",$jot("input_"+n)&&(r=$jot("input_"+n))):(o="keyup",r=$jot("input_"+n)?$jot("input_"+n):$jot("id_"+n).select("input").first()),r)){if(document.createEvent){var N=document.createEvent("HTMLEvents");N.initEvent(o,!0,!0),r.dispatchEvent(N)}r.fireEvent&&r.fireEvent("on"+o)}}},getWidgetType:function(t){try{if(!$jot("id_"+t))return!1;if($jot("input_"+t).value.indexOf("widget_metadata")>1)return JSON.parse($jot("input_"+t).value).widget_metadata.type;var r=$jot("id_"+t).down("iframe").src,o=RegExp("jotform.io/(.*)/").exec(r);if(!o||o.length<2||!o[1])return!1;return o[1]}catch(n){return console.error("get widget type error"),!1}},widgetsWithConditions:[],triggerWidgetCondition:function(t){if(JotForm.widgetsWithConditions.include(t)){if(document.createEvent){var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!0),$jot("input_"+t).dispatchEvent(r)}else if($jot("input_"+t).fireEvent)return $jot("input_"+t).fireEvent("onchange")}},getFieldIdFromFieldRef:function(t){try{if("string"==typeof t&&t.indexOf("{")>-1&&t.indexOf("}")>-1){var r=t.strip().replace(/[\{\}]/g,""),o=document.querySelectorAll('input[name*="_'+r+'["],select[name*="_'+r+'["]');if(o&&0!=o.length||(o=document.querySelectorAll('input[name*="_'+r+'"],select[name*="_'+r+'"]')),o.length>0){var n=o.first().up(".form-line");if(n)return n.id.replace(/.*id_/,"")}}}catch(a){console.log(a)}return!1},setConditionEvents:function(){try{$jotA(JotForm.conditions).each(function(t){if(!0!=t.disabled){if("field"==t.type||"calculation"==t.type||"require"==t.type||"mask"==t.type||$jotA(t.action).length>0&&"hidePage"===t.action.first().skipHide){var r=[];$jotA(t.terms).each(function(t){r.push(t.field);var o=JotForm.getFieldIdFromFieldRef(t.value);o&&r.push(o)}),$jotA(r).each(function(r){switch(JotForm.getInputType(r)){case"widget":case"signature":JotForm.setFieldConditions("input_"+r,"change",t),JotForm.widgetsWithConditions.push(r);break;case"combined":case"email":JotForm.setFieldConditions("id_"+r,"autofill",t);break;case"address":JotForm.setFieldConditions("id_"+r,"autofill",t),JotForm.setFieldConditions("input_"+r+"_country","change",t);break;case"datetime":JotForm.setFieldConditions("id_"+r,"date:changed",t);break;case"birthdate":JotForm.setFieldConditions("input_"+r+"_day","change",t),JotForm.setFieldConditions("input_"+r+"_month","change",t),JotForm.setFieldConditions("input_"+r+"_year","change",t);break;case"time":JotForm.setFieldConditions("input_"+r+"_hourSelect","change",t),JotForm.setFieldConditions("input_"+r+"_minuteSelect","change",t),JotForm.setFieldConditions("input_"+r+"_ampm","change",t);case"select":case"file":$jot("input_"+r)?JotForm.setFieldConditions("input_"+r,"change",t):$jot("id_"+r).select("select").each(function(r){JotForm.setFieldConditions(r.id,"change",t)});break;case"checkbox":case"radio":JotForm.setFieldConditions("id_"+r,"click",t);break;case"number":JotForm.setFieldConditions("input_"+r,"number",t);break;case"autocomplete":JotForm.setFieldConditions("input_"+r,"autocomplete",t);break;case"grading":JotForm.setFieldConditions("id_"+r,"keyup",t);break;case"text":JotForm.setFieldConditions("input_"+r,"autofill",t);break;case"hidden":$jot("input_"+r+"_donation")?JotForm.setFieldConditions("input_"+r+"_donation","keyup",t):JotForm.setFieldConditions("input_"+r,"keyup",t);break;default:JotForm.setFieldConditions("input_"+r,"keyup",t)}})}else if("edit"==document.get.mode||"inlineEdit"==document.get.mode){var o=function(t,r){for(var o=document.querySelectorAll(".form-pagebreak-next"),n=0;n<o.length;n++){var a=o[n];if(a==t)return!0;if(a==r)return!1}},n=!1;$jotA(t.terms).each(function(t){var r=t.field.toString();-1!==r.indexOf("_")&&(r=r.split("_")[0]);var a=JotForm.getSection($jot("id_"+r)).select(".form-pagebreak-next")[0];a&&(parseInt(a.id.substring(a.id.lastIndexOf("_")+1)),(!n||o(n,a))&&(n=a))}),n&&n.observe("mousedown",function(){JotForm.checkCondition(t)})}else $jotA(t.terms).each(function(r){var o=r.field.toString();if(-1!==o.indexOf("_")&&(o=o.split("_")[0]),$jot("id_"+o)){var n=JotForm.getSection($jot("id_"+o)).select(".form-pagebreak-next")[0];n&&n.observe("mousedown",function(){JotForm.checkCondition(t)})}})}}),$jotH(JotForm.fieldConditions).each(function(t){var r=t.key,o=t.value.event,n=t.value.conditions;$jot(r)&&("autocomplete"==o?($jot(r).observe("blur",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("blur"),$jot(r).observe("keyup",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("keyup")):"number"==o?($jot(r).observe("change",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("change"),$jot(r).observe("keyup",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("keyup")):"autofill"==o?($jot(r).observe("blur",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("blur"),$jot(r).observe("keyup",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("keyup"),!Prototype.Browser.IE9&&!Prototype.Browser.IE10&&Prototype.Browser.IE||$jot(r).observe("change",function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}).run("change")):($jot(r).observe(o,function(){$jotA(n).each(function(t){JotForm.checkCondition(t)})}),$jot(r).id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)?JotForm.runConditionForId(r.replace("input_","")):$jot(r).run(o)))})}catch(t){JotForm.error(t)}},setFieldsToPreserve:function(t){var r=["braintree","dwolla","stripe","paypal","paypalpro","paypalexpress","authnet"],o=document.querySelectorAll('input[name="simple_fpc"]').length>0&&r.indexOf(document.querySelectorAll('input[name="simple_fpc"]')[0].getAttribute("data-payment_type"))>-1,n=[{type:"phone",pattern:/Phone|Contact/i},{type:"email",pattern:/email|mail|e-mail/i},{type:"company",pattern:/company|organization/i}];sortedFields=document.querySelectorAll('.form-line[data-type*="email"], .form-line[data-type*="textbox"], .form-line[data-type*="phone"]').sort(function(t,r){return Number(t.id.replace("id_",""))-Number(r.id.replace("id_",""))});var a={};sortedFields.each(function(r){if(3==Object.keys(a).length)throw $jotbreak;var l=r.id.replace("id_",""),u=r.down("input").name.replace(/q\d+_/,""),c=r.getAttribute("data-type").replace("control_","");o&&n.each(function(t){if("textbox"==c||c==t.type){var o=r.down("label").innerHTML.strip();t.pattern.exec(o)&&!a[t.type]&&(a[t.type]=l,JotForm.fieldsToPreserve.push(l))}}),t&&t.indexOf(u)>-1&&JotForm.fieldsToPreserve.push(l)})},changePaymentStrings:function(t){$jot("coupon-header")&&t.couponEnter&&($jot("coupon-header").innerHTML=t.couponEnter),$jot("shipping-text")&&t.shippingShipping&&($jot("shipping-text").innerHTML=t.shippingShipping),$jot("tax-text")&&t.taxTax&&($jot("tax-text").innerHTML=t.taxTax),$jot("subtotal-text")&&t.totalSubtotal&&($jot("subtotal-text").innerHTML=t.totalSubtotal),$jot("total-text")&&t.totalTotal&&($jot("total-text").innerHTML=t.totalTotal)},handleSubscriptionPrice:function(){navigator.userAgent.toLowerCase().indexOf("safari/")>-1&&document.querySelectorAll(".form-product-custom_price").each(function(t){t.onclick=function(t){t.preventDefault()}});var t=document.querySelectorAll("input[data-price-source]");if(!(t.length<1)){var r=[],o={};t.each(function(t){var n=t.getAttribute("data-price-source"),a=$jot("input_"+n);if(a){o[n]||(o[n]=[]);var l=function(){var t=a.value;return"number"!=typeof t&&(t=t.replace(/[^0-9\.]/gi,"")),!isNaN(t)&&t>0?t:0};r.push(a),o[n].push(function(){t.value=l()})}}),r.each(function(t){var r=t.id.replace("input_","");t.onkeyup=function(){o[r].each(function(t){t()}),JotForm.countTotal()}})}},handleDonationAmount:function(){var t=JotForm.donationField=document.querySelectorAll('input[id*="_donation"]')[0];if(JotForm.paymentTotal=t.value||0,t.observe("keyup",function(){JotForm.paymentTotal=this.value=this.value.replace(/[^.0-9]+/g,"")}),t.observe("change",function(){JotForm.paymentTotal=this.value}),document.querySelectorAll('input[id*="_donation"]')[0].getAttribute("data-custom-amount-field")>0){if(JotForm.donationSourceField=$jot("input_"+t.getAttribute("data-custom-amount-field")),!JotForm.donationSourceField){document.querySelectorAll('input[id*="_donation"]')[0].removeAttribute("readonly");return}setTimeout(function(){JotForm.updateDonationAmount(),t.triggerEvent("keyup")},1e3),JotForm.donationSourceField.observe("change",function(){!(t.up(".form-line.form-field-hidden")||t.up("ul.form-field-hidden"))&&JotForm.updateDonationAmount()})}else if(t.hasAttribute("data-min-amount")){var r=t.nextSibling.textContent.strip(),o=parseFloat(t.readAttribute("data-min-amount"));t.validateMinimum=function(){var n=this.getValue();if(!isNaN(n)&&!(n<o))return JotForm.corrected(t);var a=JotForm.texts.ccDonationMinLimitError.replace("{minAmount}",o).replace("{currency}",r);return JotForm.errored(t,a)}}},updateDonationAmount:function(t){if(JotForm.donationSourceField){if(void 0!==t){JotForm.donationField.value=JotForm.paymentTotal=t;return}var r=function(){var t=JotForm.donationSourceField.value;return"number"!=typeof t&&(t=t.replace(/[^0-9\.]/gi,"")),!isNaN(t)&&t>0?t:0};JotForm.donationField.value=JotForm.paymentTotal=r()}},isPaymentSelected:function(){var t=!1,r=document.querySelectorAll('input[name="simple_fpc"]')[0].value,o=$jot("id_"+r);if(o.hasClassName("form-field-hidden")||o.up("ul.form-section").hasClassName("form-field-hidden")||document.querySelectorAll('input[name="simple_fpc"]').length<1||o&&("none"===o.getStyle("display")||!JotForm.isVisible(o)&&JotForm.getSection(o).id))return!1;if(window.productID)$jotH(window.productID).each(function(r){var o=$jot(r.value);if(o.checked){var n=o.up().select('select[id*="_quantity_"],input[id*="_quantity_"]');if(t=0===n.length||1===n.length&&n[0].getValue()>0,n.length>1&&(t=n.any(function(t){return t.getValue()>0})),t)throw $jotbreak}});else if($jot("input_"+r+"_donation")){var n=$jot("input_"+r+"_donation");/^\d+(?:\.\d+)?$jot/.test(n.getValue())&&(t=n.getValue()>0)}else{var a=document.querySelectorAll('input[name*="q'+r+'"][type="hidden"]');return!(a.length<1)&&("false"!==a[0].readAttribute("selected")||(a[0].remove(),!1))}return t},togglePaypalButtons:function(t){var r=document.querySelectorAll('input[name="simple_fpc"]')[0].value;$jot("input_"+r+"_paymentType_express")&&!$jot("input_"+r+"_paymentType_express").checked&&(t=!1),!(document.querySelectorAll(".paypal-button").length<1)&&$jot("use_paypal_button")&&document.querySelectorAll(".form-submit-button").each(function(r){t?r.up().down(".paypal-button")&&(r.up().down(".paypal-button").show(),r.hide()):(r.up().down(".paypal-button")&&r.up().down(".paypal-button").hide(),r.show())})},handlePaypalButtons:function(){var t=window.productID,r=!1,o=document.querySelectorAll('input[name="simple_fpc"]')[0].value;t?$jotH(t).each(function(t){if($jot(t.value).getAttribute("class").indexOf("[required]")>-1)throw r=!0,$jotbreak}):$jot("input_"+o+"_donation")&&(r=$jot("input_"+o+"_donation").getAttribute("class").indexOf("required")>-1),JotForm.togglePaypalButtons(r||JotForm.isPaymentSelected()),r||$jotH(t).each(function(t){$jot(t.value).observe("click",function(){JotForm.togglePaypalButtons(JotForm.isPaymentSelected())})})},checkEmbed:function(){var t=document.querySelectorAll(".jotform-form")[0];window!==window.top&&(t.insert(new Element("input",{type:"hidden",name:"embedUrl"}).putValue(document.referrer)),JotForm.debug&&console.log(document.referrer))},handlePaypalExpress:function(){"function"==typeof _paypalExpress&&"No"!==$jot("express_category").getAttribute("data-digital_goods")&&new _paypalExpress().init()},handleBraintree:function(){if(!(["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1)||!document.get.sid){if("function"!=typeof __braintree){alert("Braintree payment script didn't work properly. Form will be reloaded"),location.reload();return}__braintree().init()}},handleSquare:function(){if(!(JotForm.paidSubmission&&["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1)||!document.get.sid){if(window===window.top&&"https:"!==window.location.protocol){window.location.href=window.location.href.replace("http","https");return}if("function"!=typeof __square){alert("Square payment script didn't work properly. Form will be reloaded"),location.reload();return}JotForm.squarePayment=__square(),JotForm.squarePayment.init()}},handlePaymentSubProducts:function(){var t=[],r=[],o=document.querySelectorAll(".form-section"),n=!1;function a(o){var n=o.parentNode;o.checked?(n.shift({height:t[o.id][0]-10,duration:.3}),r[o.id]&&r[o.id].length>0&&r[o.id].each(function(t){$jot(t[0]).stopObserving(),"SELECT"===$jot(t[0]).tagName?$jot(t[0]).selectOption(t[1]):$jot(t[0]).value=t[1]})):(n.shift({height:t[o.id][1],duration:.3}),r[o.id]=[],document.querySelectorAll("#"+o.id+"_subproducts select,#"+o.id+'_subproducts input[type="text"]').each(function(t,n){var a="select"===t.tagName?t.getSelected().value:t.value;a&&r[o.id].push([t.id,a]),t.stopObserving(),"SELECT"===t.tagName?t.selectedIndex=0:t.value=0})),setTimeout(function(){JotForm.totalCounter(JotForm.prices)},300)}document.querySelectorAll(".form-product-has-subproducts").each(function(r){var l=!!(r.up(".form-line")&&r.up(".form-line").hasClassName("form-field-hidden"))&&r.up(".form-line").show();o.length>1?(n=n||o.filter(function(t){return r.descendantOf(t)&&r.up(".form-section")===t})[0]).isVisible()?t[r.id]=[r.parentNode.getHeight(),document.querySelectorAll('label[for="'+r.id+'"]')[0].getHeight()]:(n.setStyle({display:"block"}),t[r.id]=[r.parentNode.getHeight(),document.querySelectorAll('label[for="'+r.id+'"]')[0].getHeight()],n.setStyle({display:"none"})):t[r.id]=[r.parentNode.getHeight(),document.querySelectorAll('label[for="'+r.id+'"]')[0].getHeight()],a(r),r.observe("click",function(){a(this)}),l&&r.up(".form-line").hide()})},setCurrencyFormat:function(t,r,o){var n=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VUV","XAF","XOF","XPF"].indexOf(t)>-1||!r?0:2;this.currencyFormat={curr:t,dSeparator:"comma"==o?",":".",tSeparator:"comma"==o?".":",",decimal:n}},countTotal:function(t){var t=t||JotForm.prices,r=!1;if(Object.keys(JotForm.discounts).length>0){if(r=!0,JotForm.discounts.total||JotForm.discounts.shipping)var o=JotForm.discounts.type,n=JotForm.discounts.rate,a=JotForm.discounts.minimum,l=JotForm.discounts.code;else for(var u in t)for(var c in JotForm.discounts)-1!==u.indexOf(c)&&(t[u].discount=JotForm.discounts[c])}else $jotH(t).each(function(r){delete t[r.key].discount});var d=0,p=0,f=[],m=0,h=0,g=0,v=0,y=JotForm.currencyFormat.decimal,$=JotForm.currencyFormat.dSeparator,b=JotForm.currencyFormat.tSeparator,_=0,F=0;if($jotH(t).each(function(t){if("custom"==t.value.price){$jot(t.key).checked&&(p=parseInt($jot(t.key+"_custom_price").getValue()));return}if(!t.value.quantityField||parseInt($jot(t.value.quantityField).getValue())>0||$jot(t.value.quantityField).hasClassName("form-subproduct-quantity")){var r,o=!!t.value.recurring,n="function"==typeof Stripe;d=parseFloat(d);var a=0,l=parseFloat(t.value.price)||0,u=0,c=!1,j=t.value.recurring;if(4===t.key.split("_").length?(c=!0,(r=t.key.split("_")).pop(),f[r=r.join("_")]=f[r]||0):r=t.key,$jot(t.value.specialPriceField)){var S=$jot(t.value.specialPriceField);if(t.value.child&&4===t.value.specialPriceField.split("_").length){var C=t.value.specialPriceField.split("_")[3];l=parseFloat(t.value.specialPriceList[C])}else if((priceIndex=isNaN($jot(S).options[0].value)||$jot(S).options[0].value>0||$jot(""!=S.options[0].innerHTML.strip())?S.getSelected().index:S.getSelected().index-1)>-1)l=parseFloat(t.value.specialPriceList[priceIndex]),$jot(t.key+"_price")&&$jot(t.key+"_price").siblings(".freeCurr").each(function(t){t.style.display="inline"});else{var w=t.value.specialPriceList[priceIndex+1];l=0}}if(t.value.discount){var A=t.value.discount.split("-");if(A[2]){if("all"===A[2]||"product"===A[2]){if(o&&(j-="fixed"===A[1]?A[0]:j*(A[0]/100),j=j<0?0:j),n&&o){var E=l-j;E-="fixed"===A[1]?A[0]:E*(A[0]/100),E=E<0?0:E,l=Number(j)+Number(E)}else l-="fixed"===A[1]?A[0]:l*(A[0]/100),l=l<0?0:l}else if("first"===A[2]){if(o){if(n){var E=l-j;E-="fixed"===A[1]?A[0]:E*(A[0]/100),E=E<0?0:E,l=Number(j)+Number(E)}else l-="fixed"===A[1]?A[0]:l*(A[0]/100),l=l<0?0:l}}else if("stripe_native"===A[2]){if(o){var E=l-j;l=j-("fixed"===A[1]?A[0]:j*(A[0]/100)),A[3]||(j=l),l+=Number(E)}else l-="fixed"===A[1]?A[0]:l*(A[0]/100),l=l<0?0:l}}else l-="fixed"===A[1]?A[0]:l*(A[0]/100),l=l<0?0:l}if(t.value.recurring){var q=$jot(t.key+"_setupfee");if(N=$jot(t.key+"_price")){var T=o?j:l;$jot(N).update(parseFloat(T).formatMoney(y,$,b))}q&&$jot(q).update(parseFloat(l).formatMoney(y,$,b))}else{var N=$jot(t.key+"_price")?$jot(t.key+"_price"):$jot(t.key.replace(t.key.substring(t.key.lastIndexOf("_")),"")+"_price")||null;N&&(N.innerHTML,"0"==l&&t.value.specialPriceList&&w?$jot(N).update(parseFloat(w||0).formatMoney(y,$,b)):"0"!=t.value.price||t.value.specialPriceList?($jot(N).parentNode.show(),$jot(N).update(parseFloat(l).formatMoney(y,$,b))):$jot(N).update(" Free"))}if(t.value.tax){var J=t.value.tax;if(v=parseFloat(J.rate)||0,document.querySelectorAll('select[id*="input_'+J.surcharge.field+'"]').length>0&&document.querySelectorAll('select[id*="input_'+J.surcharge.field+'"]')[0].getSelected().value){var D=document.querySelectorAll('select[id*="input_'+J.surcharge.field+'"]')[0].getSelected().value;$jotH(J.surcharge.rates).each(function(t){if(t[1][1].toLowerCase()===D.toLowerCase())throw v+=Number(t[1][0]),$jotbreak})}document.querySelectorAll('input[id="input_'+J.surcharge.field+'"]').length>0&&!document.querySelectorAll('input[id="input_'+J.surcharge.field+'"]')[0].value.empty()&&$jotH(J.surcharge.rates).each(function(t){if(t[1][1].toLowerCase()===document.querySelectorAll('input[id="input_'+J.surcharge.field+'"]')[0].value.toLowerCase())throw v+=Number(t[1][0]),$jotbreak})}if(t.value.addons&&(l+=t.value.addons),$jot(t.key).checked){if(F++,($jot(t.value.quantityField)||$jot(t.value.specialPriceField))&&($jot(t.value.quantityField)&&t.value.specialPriceField!==t.value.quantityField&&("text"==$jot(t.value.quantityField).readAttribute("type")?l=$jot(t.value.quantityField).value?l*Math.abs(parseInt($jot(t.value.quantityField).value,10)):0:l*=parseInt($jot(t.value.quantityField).getSelected().text||0,10)),c&&(f[r]+=l),$jot(r+"_item_subtotal")&&!isNaN(l)&&(c?$jot(r+"_item_subtotal").update(parseFloat(f[r]).formatMoney(y,$,b)):$jot(r+"_item_subtotal").update(parseFloat(l).formatMoney(y,$,b)))),t.value.tax&&(u=l*(v/100)),t.value.shipping){var O=t.value.shipping;if(O.firstItem){var P=$jot(t.value.quantityField)?"text"===$jot(t.value.quantityField).readAttribute("type")?parseInt($jot(t.value.quantityField).value):parseInt($jot(t.value.quantityField).getSelected().text||0):1;1===P&&(a=parseFloat(O.firstItem)),P>1&&(a=parseFloat(O.addItem)?parseFloat(O.firstItem)+parseFloat(O.addItem)*(P-1):parseFloat(O.firstItem))}else 0==_&&O.flatRate&&(m=_=parseFloat(O.flatRate))}h+=u,_||(m+=a),p+=l,g+=a+u}else $jot(t.key+"_item_subtotal")&&$jot(t.key+"_item_subtotal").update("0.00")}}),$jot("coupon-button"))var j=$jot($jot("coupon-button").getAttribute("data-qid")+"_coupon");if(JotForm.discounts.total){if(p>=a){var S="fixed"===o?n:n/100*parseFloat(p);p=p>S?p-S:0,j.value=l}else S=0,j.value="";var C=document.querySelector(".form-payment-total");C&&(C.parentNode.insertBefore(JotForm.discounts.container,C),$jot("discount_total").update(parseFloat(S).formatMoney(y,$,b)))}if(d=p+g,(0===(d=_>0?d+_:d)||isNaN(d))&&(d="0.00"),JotForm.discounts.shipping&&m>0&&p>=a){var S="fixed"===o?n:n/100*parseFloat(m),w=m;d-=w-(m=m>S?m-S:0)}this.paymentTotal=Number(d),$jot("creditCardTable")&&(F>0&&0===this.paymentTotal&&r?JotForm.setCreditCardVisibility(!1):document.querySelectorAll('input[id*="paymentType_credit"]').length>0&&document.querySelectorAll('input[id*="paymentType_credit"]')[0].checked&&JotForm.setCreditCardVisibility(!0)),$jot("payment_subtotal")&&$jot("payment_subtotal").update(parseFloat(p).formatMoney(y,$,b)),$jot("payment_tax")&&$jot("payment_tax").update(parseFloat(h).formatMoney(y,$,b)),$jot("payment_shipping")&&$jot("payment_shipping").update(parseFloat(m).formatMoney(y,$,b)),$jot("payment_total")&&($jot("payment_total").update(parseFloat(d).formatMoney(y,$,b)),$jot("payment_total").up(".form-line")&&$jot("payment_total").up(".form-line").triggerEvent&&$jot("payment_total").up(".form-line").triggerEvent("keyup"))},prices:{},setCreditCardVisibility:function(t){t?$jot("creditCardTable").show():$jot("creditCardTable").hide()},totalCounter:function(t){Number.prototype.formatMoney||(Number.prototype.formatMoney=function(t,r,o){var n=parseFloat(void 0!==this.toString().split(".")[1]&&this.toString().split(".")[1].length>t&&"5"===this.toString().charAt(this.toString().length-1)?this.toString()+"1":this.toString()),t=isNaN(t=Math.abs(t))?2:t,r=void 0===r?".":r,o=void 0===o?",":o,a=n<0?"-":"",l=parseInt(n=Math.abs(+n||0).toFixed(t))+"",u=(u=l.length)>3?u%3:0;return a+(u?l.substr(0,u)+o:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$jot1"+o)+(t?r+Math.abs(n-l).toFixed(t).slice(2):"")}),JotForm.prices=t,document.observe("dom:loaded",JotForm.countTotal(t)),$jotH(t).each(function(r){if($jot(r.key).observe("click",function(){JotForm.countTotal(t)}),"custom"==r.value.price&&($jot(r.key+"_custom_price").stopObserving("keyup"),$jot(r.key+"_custom_price").observe("keyup",function(){JotForm.countTotal(t)})),r.value.tax){var o=r.value.tax.surcharge;document.querySelectorAll('select[id*="input_'+o.field+'"]').length>0&&(document.querySelectorAll('select[id*="input_'+o.field+'"]')[0].stopObserving("change"),document.querySelectorAll('select[id*="input_'+o.field+'"]')[0].observe("change",function(){setTimeout(JotForm.countTotal(),500)})),document.querySelectorAll('input[id="input_'+o.field+'"]').length>0&&(document.querySelectorAll('input[id="input_'+o.field+'"]')[0].stopObserving("keyup"),document.querySelectorAll('input[id="input_'+o.field+'"]')[0].observe("keyup",function(){setTimeout(JotForm.countTotal(),500)}))}var n=function(t){var r=$jot(t).id.match(/input_([0-9]*)_quantity_/)||$jot(t).id.match(/input_([0-9]*)_custom_/);setTimeout(function(){r&&$jot("id_"+r[1])&&$jot("id_"+r[1]).triggerEvent("click");var o=t.up(".form-product-item");o&&o.down("input")&&o.down("input").validateInput&&o.down("input").validateInput()},100)};if($jot(r.value.quantityField)){function a(){if(JotForm.isVisible($jot(r.value.quantityField))){if("SELECT"!==$jot(r.value.quantityField).tagName||$jot(r.value.quantityField).getSelected().index>0||"0"===$jot(r.value.quantityField).getValue()){var o=$jot(r.value.quantityField).up(".form-product-item").down(".form-product-has-subproducts");o?(o.checked=!1,$jotH(t).each(function(t){-1===t.key.indexOf(o.id)||0>=$jot(t.value.quantityField).getValue()||(o.checked=!0)})):$jot(r.key).checked=!(0>=$jot(r.value.quantityField).getValue())}JotForm.countTotal(t)}}$jot(r.value.quantityField).observe("change",function(){setTimeout(a,50),n(this)}),$jot(r.value.quantityField).observe("keyup",function(){setTimeout(a,50),n(this)})}if($jot(r.value.specialPriceField)){function l(){JotForm.isVisible($jot(r.value.specialPriceField))&&(("SELECT"!==$jot(r.value.specialPriceField).tagName||$jot(r.value.specialPriceField).getSelected().index>0)&&($jot(r.key).checked=!0),JotForm.countTotal(t))}$jot(r.value.specialPriceField).observe("change",function(){setTimeout(l,50),n(this)}),$jot(r.value.specialPriceField).observe("keyup",function(){setTimeout(l,50)})}})},discounts:{},handleCoupon:function(){var t=this;if(JotForm.countTotal(JotForm.prices),$jot("coupon-button")){var r=$jot("coupon-button"),o=$jot("coupon-loader"),n=$jot("coupon-message"),a=$jot("coupon-input");r.innerHTML=this.paymentTexts.couponApply;var l=document.querySelectorAll('input[name="formID"]')[0].value;a.observe("keypress",function(t){13===t.keyCode&&(t.preventDefault(),r.click(),a.blur())}),a.enable(),document.querySelectorAll('input[name="coupon"]')[0].value="",r.observe("click",(function(){if(a.value){r.hide(),o.show(),a.value=a.value.replace(/\s/g,""),r.disable();var u=(a.hasAttribute("stripe")||a.hasAttribute("data-stripe"))&&"subscription"===window.paymentType;new Ajax.Jsonp(JotForm.server,{parameters:{action:"checkCoupon",coupon:a.value,formID:l,stripe:u,editMode:JotForm.isEditMode(),paymentID:document.querySelectorAll('input[name="simple_fpc"]')[0].value},evalJSON:"force",onComplete:function(l){(l=l.responseJSON||l).success&&(-1===l.message.indexOf("{")?("expired"===l.message?n.innerHTML=t.paymentTexts.couponExpired:n.innerHTML=t.paymentTexts.couponInvalid,a.select(),o.hide(),r.show(),r.enable()):(o.hide(),r.show(),n.innerHTML=t.paymentTexts.couponValid,JotForm.applyCoupon(l.message)))}})}else $jot("coupon-message").innerHTML=t.paymentTexts.couponBlank}).bind(this))}},applyCoupon:function(t){var r=this;t=JSON.parse(t),JotForm.discounts={};var o=$jot("coupon-button"),n=($jot("coupon-loader"),$jot("coupon-message")),a=$jot("coupon-input"),l=$jot(o.getAttribute("data-qid")+"_coupon");o.stopObserving("click"),l&&(l.value=t.code),o.enable(),a.disable(),o.innerHTML=this.paymentTexts.couponChange||"Change",o.observe("click",function(){!JotForm.isEditMode()&&(l.value="",$jotH(u).each(function(t){t[1].remove()}),JotForm.discounts.container&&JotForm.discounts.container.remove(),document.querySelectorAll('span[id*="_price"]').each(function(t,r){$jot(t).removeClassName("underlined")}),document.querySelectorAll('span[id*="_setupfee"]').each(function(t,r){$jot(t).removeClassName("underlined")}),JotForm.discounts={},o.stopObserving("click"),n.innerHTML="",o.innerHTML=r.paymentTexts.couponApply,a.enable(),a.select(),JotForm.handleCoupon())});var u={},c=function(t,r){u[r]=new Element("span");var o=new Element("span",{style:"text-decoration:line-through"});o.insert(t.innerHTML.replace("price","price_old")),u[r].insert({top:"&nbsp"}),u[r].insert(o),u[r].insert({bottom:"&nbsp"}),t.insert({top:u[r]})};if(t.products&&t.products.length>0&&t.products.include("all"))for(var d in t.products=[],productID)t.products.push(productID[d].slice(-4));if(!t.paymentType||t.paymentType&&"product"===t.paymentType){if("product"===t.apply)$jotA(t.products).each(function(r){JotForm.discounts[r]=t.rate+"-"+t.type,document.querySelectorAll('span[id*="_price"]').each(function(t,o){t.id.indexOf(r)>-1&&$jot(t).addClassName("underlined")}),document.querySelectorAll('label[for*="'+r+'"] span.form-product-details b')[0]&&c(document.querySelectorAll('label[for*="'+r+'"] span.form-product-details b')[0],r),document.querySelectorAll("[id*="+r+"_subproducts]").length>0&&document.querySelectorAll("[id*="+r+"_subproducts]")[0].down(".form-product-child-price")&&document.querySelectorAll("#"+document.querySelectorAll("[id*="+r+"_subproducts]")[0].id+" .form-product-child-price").each(function(t,o){c(t,r+"_"+o)})});else if("total"===t.apply){JotForm.discounts={total:!0,code:t.code,minimum:t.minimum,type:t.type,rate:t.rate};var p=document.querySelector(".form-payment-total");if(p){var f=p.innerHTML.replace("Total:","Discount:").replace("payment_total","discount_total").replace("<span>","<span> - ");JotForm.discounts.container=new Element("span",{class:"form-payment-discount"}).insert(f)}}else JotForm.discounts={shipping:!0,code:t.code,minimum:t.minimum,type:t.type,rate:t.rate}}else $jotA(t.products).each(function(r){JotForm.discounts[r]=t.rate+"-"+t.type,t.apply&&(JotForm.discounts[r]+="-"+t.apply),t.duration&&1===t.duration&&(JotForm.discounts[r]+="-once"),document.querySelectorAll('span[id*="_price"]').each(function(o,n){if(o.id.indexOf(r)>-1&&document.querySelectorAll('span[id*="'+r+'_setupfee"]').length>0&&"all"===t.apply)throw $jot(o).addClassName("underlined"),$jotbreak}),document.querySelectorAll('span[id*="_setupfee"]').each(function(t,o){if(t.id.indexOf(r)>-1)throw $jot(t).addClassName("underlined"),$jotbreak})});JotForm.countTotal(JotForm.prices)},setStripeSettings:function(t,r){if(!(["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid||location.href.indexOf("edit")>-1)&&(t||r)&&"function"==typeof Stripe&&"function"==typeof Stripe.setPublishableKey&&"function"==typeof _StripeValidation){var o=t.replace(/\s+/g,"");if(""==o){console.log("Stripe publishable key is empty. You need to connect your form using Stripe connect.");return}Stripe.setPublishableKey(o);var n=new _StripeValidation;n.setAddress_qid(r),n.init()}},setFilePickerIOUpload:function(t){t&&"object"==typeof filepicker&&"function"==typeof _JF_filepickerIO?new _JF_filepickerIO(t).init():console.error("filepicker OR _JF_filepickerIO object library are missing")},initCaptcha:function(t){setTimeout(function(){var r=navigator.userAgent.toLowerCase(),o=-1!=r.indexOf("msie")&&parseInt(r.split("msie")[1],10);o&&o<9&&(-1!=r.indexOf("windows nt 5.1")||-1!=r.indexOf("windows xp")||-1!=r.indexOf("windows nt 5.2"))&&(JotForm.server="https://www.jotform.com/server.php"),new Ajax.Jsonp(JotForm.server,{parameters:{action:"getCaptchaId"},evalJSON:"force",onComplete:function(r){(r=r.responseJSON||r).success&&($jot(t+"_captcha").src="https://www.jotform.com/server.php?action=getCaptchaImg&code="+r.num,$jot(t+"_captcha_id").value=r.num)}})},150)},reloadCaptcha:function(t){$jot(t+"_captcha").src=JotForm.url+"images/blank.gif",JotForm.initCaptcha(t)},addZeros:function(t,r){t=t.toString();var o="";if(r>t.length)for(i=0;i<r-t.length;i++)o+="0";return o+t.toString()},formatDate:function(t){var r=t.date,o=JotForm.addZeros(r.getMonth()+1,2),n=JotForm.addZeros(r.getDate(),2),a=1e3>r.getYear()?r.getYear()+1900:r.getYear(),l=t.dateField.id.replace(/\w+\_/gim,"");if($jot("month_"+l).value=o,$jot("day_"+l).value=n,$jot("year_"+l).value=a,$jot("lite_mode_"+l)){var u=$jot("lite_mode_"+l),c=u.readAttribute("seperator")||u.readAttribute("data-seperator"),d=u.readAttribute("format")||u.readAttribute("data-format"),p=o+c+n+c+a;"ddmmyyyy"==d?p=n+c+o+c+a:"yyyymmdd"==d&&(p=a+c+o+c+n),u.value=p}$jot("id_"+l).fire("date:changed")},highLightLines:function(){document.querySelectorAll(".form-line").each(function(t,r){t.select("input, select, textarea, div, table div, button").each(function(r){r.observe("focus",function(){JotForm.isCollapsed(t)&&JotForm.getCollapseBar(t).run("click"),JotForm.highlightInputs&&(t.addClassName("form-line-active"),t.__classAdded&&(t.__classAdded=!1))}).observe("blur",function(){JotForm.highlightInputs&&t.removeClassName("form-line-active")})})})},getForm:function(t){return!!(t=$jot(t)).parentNode&&(!t||"BODY"!=t.tagName)&&("FORM"==t.tagName?$jot(t):JotForm.getForm(t.parentNode))},getContainer:function(t){return!!(t=$jot(t)).parentNode&&(!t||"BODY"!=t.tagName)&&(t.hasClassName("form-line")?$jot(t):JotForm.getContainer(t.parentNode))},getSection:function(t){return!!(t=$jot(t)).parentNode&&(!t||"BODY"!=t.tagName)&&((t.hasClassName("form-section-closed")||t.hasClassName("form-section"))&&!t.id.match(/^section_/)?t:JotForm.getSection(t.parentNode))},getCollapseBar:function(t){return!!(t=$jot(t)).parentNode&&(!t||"BODY"!=t.tagName)&&(t.hasClassName("form-section-closed")||t.hasClassName("form-section")?t.select(".form-collapse-table")[0]:JotForm.getCollapseBar(t.parentNode))},isCollapsed:function(t){return!!(t=$jot(t)).parentNode&&(!t||"BODY"!=t.tagName)&&("form-section-closed"==t.className||JotForm.isCollapsed(t.parentNode))},isVisible:function(t){return!(!(t=$jot(t)).parentNode||t.hasClassName("always-hidden"))&&(!!(t&&"BODY"==t.tagName||t.hasClassName("form-textarea")&&t.up("div").down(".nicEdit-main")&&t.up(".form-line")&&JotForm.isVisible(t.up(".form-line")))||"none"!=t.style.display&&"hidden"!=t.style.visibility&&JotForm.isVisible(t.parentNode))},sectionHasVisibleiFrameWidgets:function(t){var r=t.select(".custom-field-frame"),o=!1;return r.each(function(t){if(JotForm.isVisible(t))throw o=!0,$jotbreak}),o},enableDisableButtonsInMultiForms:function(){document.querySelectorAll(".form-submit-button").each(function(t){t.up("ul.form-section")&&("none"==t.up("ul.form-section").style.display?t.disable():-1!=t.className.indexOf("disabled")||t.hasClassName("conditionallyDisabled")||t.enable())})},enableButtons:function(){setTimeout(function(){document.querySelectorAll(".form-submit-button").each(function(t){t.hasClassName("conditionallyDisabled")||t.enable(),t.innerHTML=t.oldText||"Submit"})},60)},disableButtons:function(){setTimeout(function(){document.querySelectorAll(".form-submit-button").each(function(t){-1===t.innerHTML.indexOf("<img")&&(t.innerHTML=JotForm.texts.pleaseWait),t.addClassName("lastDisabled"),t.disable()})},60)},setButtonActions:function(){document.querySelectorAll(".form-submit-button").each(function(t){t.oldText=t.innerHTML,t.enable(),""===getQuerystring("qp")&&t.observe("click",function(){setTimeout(function(){!document.querySelectorAll(".form-error-message")[0]&&!document.querySelectorAll(".form-textarea-limit-indicator-error")[0]&&document.querySelectorAll(".form-submit-button").each(function(t){-1===t.innerHTML.indexOf("<img")&&(t.innerHTML=JotForm.texts.pleaseWait),t.addClassName("lastDisabled"),t.disable()})},50)})}),document.querySelectorAll(".form-submit-reset").each(function(t){t.onclick=function(){if(!confirm(JotForm.texts.confirmClearForm))return!1;if(JotForm.payment&&document.querySelectorAll('span[id*="_item_subtotal"]').length>0){var t="0";JotForm.currencyFormat.decimal&&(t="0"+JotForm.currencyFormat.dSeparator+"00"),document.querySelectorAll('span[id*="_item_subtotal"]').each(function(r){r.update(t)})}if(/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())&&$jot("coupon-button"))return setTimeout(function(){$jot("payment_total")&&JotForm.totalCounter(JotForm.prices)},40),!0;document.querySelectorAll(".form-line-error").each(function(t){t.removeClassName("form-line-error")}),document.querySelectorAll(".form-error-message",".form-button-error").each(function(t){t.remove()}),document.querySelectorAll(".form-textarea-limit-indicator > span").each(function(t){var r=t.innerHTML;t.innerHTML=r.replace(r.substring(0,r.indexOf("/")),"0")}),document.querySelectorAll("span[id^=grade_point_]").each(function(t){t.innerHTML=0}),document.querySelectorAll(".form-grading-error").each(function(t){t.innerHTML=""}),document.querySelectorAll("form")[0].readAttribute("data-autofill")&&setTimeout(function(){for(var t in JotForm.defaultValues){var r=$jot(t);r&&("radio"==r.type||"checkbox"==r.type)&&(r.checked=!0)}var o=document.querySelectorAll("form").first().readAttribute("id")+document.querySelectorAll("form").first().readAttribute("name"),n=AutoFill.getInstance(o);n&&n.saveAllData()},40),setTimeout(function(){document.querySelectorAll(".custom-hint-group").each(function(t){t.hasContent=!!t.value&&t.value.replace(/\n/gim,"<br>")!=t.readAttribute("data-customhint"),t.showCustomPlaceHolder()})},30),setTimeout(function(){document.querySelectorAll(".nicEdit-main").each(function(t){var r=t.up(".form-line").down("textarea");r&&(r.hasClassName("custom-hint-group")&&!r.hasContent?t.setStyle({color:"#babbc0"}):t.setStyle({color:""}),t.innerHTML=r.value)})},40),setTimeout(function(){$jot("coupon-button")&&$jot("coupon-button").triggerEvent&&$jot("coupon-button").triggerEvent("click"),$jot("payment_total")&&JotForm.totalCounter(JotForm.prices)},40),setTimeout(function(){document.querySelectorAll("input.form-widget").each(function(t){t.value="",t.fire("widget:clear",{qid:parseInt(t.id.split("_")[1])})})},40),setTimeout(function(){document.querySelectorAll(".currentDate").each(function(t){var r=t.id.replace(/day_/,"");JotForm.formatDate({date:new Date,dateField:$jot("id_"+r)})}),document.querySelectorAll(".currentTime").each(function(t){if(t.up(".form-line")){var r=t.up(".form-line").id.replace("id_","");$jot("hour_"+r)?JotForm.displayLocalTime("hour_"+r,"min_"+r,"ampm_"+r):JotForm.displayLocalTime("input_"+r+"_hourSelect","input_"+r+"_minuteSelect","input_"+r+"_ampm")}})},40),setTimeout(function(){JotForm.runAllConditions()},50)}}),document.querySelectorAll(".form-submit-print").each(function(t){t.observe("click",function(){$jot(t.parentNode).hide();var r=[],o=[];document.querySelectorAll(".form-textarea, .form-textbox").each(function(t){t.type||(t.value=t.value||"0"),(n=t.next(".date-separate"))&&n.hide();var n,a="";t.value.length<t.size&&(a="width:"+9*t.size+"px;"),(-1!=t.id.indexOf("_area")||-1!=t.id.indexOf("_phone")||-1!=t.id.indexOf("_country")&&"tel"==t.readAttribute("type"))&&(a+=" display:inline-block;"),t.hasClassName("form-textarea")&&"nicEditors"in window&&document.querySelectorAll("#cid_"+t.id.split("_")[1]+" > div:nth-child(1)").each(function(n){"on"==n.readAttribute("unselectable")&&(document.querySelectorAll("#cid_"+t.id.split("_")[1]+" > div")[0].hide(),document.querySelectorAll("#cid_"+t.id.split("_")[1]+" > div")[1].setStyle({borderTopStyle:"solid",borderWidth:"1px",borderTopColor:"rgb(204, 204, 204)"}),r.push(document.querySelectorAll("#cid_"+t.id.split("_")[1]+" > div")[0]),o.push(t))})}),window.print();for(var n=0;n<r.length;n++)r[n].show();for(var n=0;n<o.length;n++)o[n].hide();$jot(t.parentNode).show()})})},hasHiddenValidationConflicts:function(t){var r=t.up("li.form-line");return r&&(r.hasClassName("form-field-hidden")||r.up("ul.form-section").hasClassName("form-field-hidden"))},initGradingInputs:function(){var t=this;document.querySelectorAll(".form-grading-input").each(function(r){r.observe("blur",function(){r.validateGradingInputs()}),r.observe("keyup",function(){r.validateGradingInputs()}),r.validateGradingInputs=function(){var r=this,o=r.id.replace(/input_(\d+)_\d+/,"$jot1"),n=0,a=$jot(r.parentNode.parentNode),l=/^(\d+[\.]?)+$jot/,u=!1;if(r.errored=!1,a.select(".form-grading-input").each(function(t){if(t.value&&!l.test(t.value))throw u=!0,$jotbreak;n+=parseFloat(t.value)||0}),t.hasHiddenValidationConflicts(r))return JotForm.corrected(r);if(u)return JotForm.errored(r,JotForm.texts.numeric);if(!$jot("grade_total_"+o))return JotForm.corrected(r);$jot("grade_error_"+o).innerHTML="";var c=parseFloat($jot("grade_total_"+o).innerHTML);return($jot("grade_point_"+o).innerHTML=n,n>c)?($jot("grade_error_"+o).innerHTML=" "+JotForm.texts.lessThan+" <b>"+c+"</b>.",JotForm.errored(r,JotForm.texts.gradingScoreError+" "+c)):JotForm.corrected(r)}})},initSpinnerInputs:function(){document.querySelectorAll(".form-spinner-input").each(function(t){t.observe("blur",function(){t.validateSpinnerInputs()}).observe("change",function(){t.validateSpinnerInputs()});var r=t.up("table.form-spinner"),o=r.select("td.form-spinner-up")[0],n=r.select("td.form-spinner-down")[0];o.observe("click",function(r){t.validateSpinnerInputs()}),n.observe("click",function(r){t.validateSpinnerInputs()}),t.validateSpinnerInputs=function(){var t=this,r=(t.id.replace(/input_(\d+)_\d+/,"$jot1"),/^(-?\d+[\.]?)+$jot/),o=/^([\.]\d+)+$jot/,n=t.value||0;if(t.errored=!1,!JotForm.isVisible(t))return JotForm.corrected(t);if(n&&!r.test(n)&&!o.test(n))return JotForm.errored(t,JotForm.texts.numeric);if(t.hasClassName("disallowDecimals")&&n%1!=0)return JotForm.errored(t,JotForm.texts.disallowDecimals);var a=parseInt(t.readAttribute("data-spinnermin"))||!1,l=parseInt(t.readAttribute("data-spinnermax"))||!1;return a&&n<a?JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+a):l&&n>l?JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+l):JotForm.corrected(t)}})},initNumberInputs:function(){document.querySelectorAll(".form-number-input").each(function(t){t.observe("blur",function(){t.validateNumberInputs()}).observe("change",function(){t.validateNumberInputs()}).observe("keyup",function(){t.validateNumberInputs()}).observe("keypress",function(r){if(!r.metaKey&&!r.ctrlKey){var o,n="8,9,13,35,36,37,39".match(RegExp(r.which));if(!r.which||48<=r.which&&r.which<=57||46==r.which||45==r.which||43==r.which||n){if(!(8!=r.which&&0!=r.which&&13!=r.which&&(parseInt(this.value.length)>=parseInt(t.readAttribute("maxlength"))||r.which<45||r.which>57)))return;r.preventDefault()}else r.preventDefault()}}),t.validateNumberInputs=function(){var t=this,r=(t.id.replace(/input_(\d+)_\d+/,"$jot1"),/^(-?\d+[\.]?)+$jot/),o=/^([\.]\d+)+$jot/;if(t.errored=!1,!JotForm.isVisible(t))return JotForm.corrected(t);if(t.value&&!r.test(t.value)&&!o.test(t.value)&&!0!==t.hinted)return JotForm.errored(t,JotForm.texts.numeric);var n=parseInt(t.readAttribute("data-numbermin")),a=parseInt(t.readAttribute("data-numbermax")),l=parseInt(t.readAttribute("maxlength"));if(l&&t.value&&t.value.length>l)return JotForm.errored(t,JotForm.texts.maxDigitsError+" "+l);if((n||0==n)&&parseInt(t.value)<n)return JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+n);if((a||0==a)&&parseInt(t.value)>a)return JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+a);var u=!1;if(t.up(".form-matrix-table")&&t.up(".form-matrix-table").select("input").each(function(r){r!==t&&r.hasClassName("form-validation-error")&&(u=!0)}),!u)return JotForm.corrected(t)}})},backStack:[],currentSection:!1,autoNext:function(t){if($jot("cid_"+t)){var r=$jot("cid_"+t).previous();if(r){var o=r.readAttribute("data-type");("control_radio"===o||"control_dropdown"===o)&&r.observe("change",function(o){if(JotForm.isVisible(r)&&""!==o.target.value){var n=$jot("cid_"+t).down(".form-pagebreak-next");n&&n.triggerEvent&&(n.focus(),n.setStyle({fontWeight:"bold"}),setTimeout(function(){n.setStyle({fontWeight:"inherit"}),n.triggerEvent("mousedown"),n.triggerEvent("click")},800))}})}}},handlePages:function(){var t,r=this,o=[];if(document.querySelectorAll(".form-label-left").length>0){var n=parseInt(document.querySelectorAll(".form-label-left")[0].getStyle("width")),a=parseInt(document.querySelectorAll(".form-all")[0].getStyle("width")),l=n>a/2?a/2:n;document.querySelectorAll(".form-pagebreak-back-container").each(function(t){""===t.style.width&&(t.style.width=l-14+"px")})}if(document.querySelectorAll(".form-pagebreak").each(function(t,n){var a=$jot(t.parentNode.parentNode);function l(t){var t=t||event||null,r=t.target?t.target:t.srcElement?t.srcElement:null;if(13==t.keyCode&&["text","radio","checkbox","select-one","select-multiple"].include(r.type))return!1;(13==t.keyCode||32==t.which)&&t.target.hasClassName("form-pagebreak-next")&&t.target.triggerEvent&&t.target.triggerEvent("mousedown")}n>=1?a.hide():JotForm.currentSection=a,o.push(a),a.pagesIndex=n+1,document.onkeypress=l;var u=function(){if("undefined"!=typeof FormTranslation&&FormTranslation.properties&&"1"===FormTranslation.properties.firstPageOnly){var t=document.querySelectorAll(".language-dd").length>0&&document.querySelectorAll(".language-dd").first();t&&(JotForm.currentSection===o.first()?t.show():t.hide())}};a.select(".form-pagebreak-next").invoke("observe","click",function(){if(!JotForm.saving&&!JotForm.loadingPendingSubmission){if(JotForm.validateAll(JotForm.getForm(a),a)||""!==getQuerystring("qp")){if(window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*"),!JotForm.nextPage){for(var t=document.querySelectorAll(".page-section"),o=t.indexOf(a);o<t.length;o++)if(!0!==JotForm.hidePages[parseInt(o,10)+2]){JotForm.nextPage=t[parseInt(o,10)+1];break}}JotForm.nextPage?(JotForm.backStack.push(a.hide()),JotForm.currentSection=JotForm.nextPage.show(),r.noJump||JotForm.currentSection.scrollIntoView(!0),JotForm.enableDisableButtonsInMultiForms()):a.next()&&(JotForm.backStack.push(a.hide()),JotForm.currentSection=a.next().show(),r.noJump||window.parent!=window||JotForm.currentSection.scrollIntoView(!0),JotForm.enableDisableButtonsInMultiForms()),JotForm.nextPage=!1,JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(a)),JotForm.iframeHeightCaller(),JotForm.runAllCalculations(!0),u(),JotForm.currentSection&&JotForm.currentSection.select(".form-html").each(function(t){t.innerHTML.match(/google.*maps/gi)&&(t.innerHTML=t.innerHTML)})}else try{document.querySelectorAll(".form-button-error").invoke("remove"),document.querySelectorAll(".form-pagebreak-next").each(function(t){var r=new Element("div",{className:"form-button-error"});r.insert(JotForm.texts.generalPageError),$jot(t.parentNode.parentNode).insert(r)})}catch(n){}}}),a.select(".form-pagebreak-back").invoke("observe","click",function(){if(window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*"),!JotForm.saving&&!JotForm.loadingPendingSubmission){a.hide();for(var t=document.querySelectorAll(".page-section"),o=JotForm.backStack.pop();JotForm.backStack.length>0;){var n=t.indexOf(o)+1;if(!0===JotForm.hidePages[n]){o=JotForm.backStack.pop();continue}break}JotForm.currentSection=o.show(),r.noJump||window.parent!=window||JotForm.currentSection.scrollIntoView(!0),JotForm.nextPage=!1,JotForm.enableDisableButtonsInMultiForms(),JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(a)),document.querySelectorAll(".form-button-error").invoke("remove"),JotForm.iframeHeightCaller(),u(),setTimeout(function(){JotForm.runAllCalculations(!0)},10)}})}),o.length>0){var u=document.querySelectorAll(".form-section:not([id^=section_])");if(u.length>0&&(t=u[u.length-1]),t){t.pagesIndex=u.length,o.push(t),t.hide();var c=new Element("li",{className:"form-input-wide"}),d=new Element("div",{className:"form-pagebreak"}),p=new Element("div",{className:"form-pagebreak-back-container"}),f=document.querySelectorAll(".form-pagebreak-back-container")[0].select("button")[0];f.observe("click",function(){!JotForm.saving&&(t.hide(),JotForm.nextPage=!1)}),p.insert(f),d.insert(p),c.insert(d),t.insert(c)}}},jumpToPage:function(){var t=document.get.jumpToPage,r=document.querySelectorAll(".form-section:not([id^=section_])");t&&t>1&&!(t>r.length)&&(r[0].hide(),r[t-1].show(),t>2&&(JotForm.backStack=r.splice(0,t-1)),JotForm.runAllCalculations(!0))},handleFormCollapse:function(){var t=this,r=!1,o=0;document.querySelectorAll(".form-collapse-table").each(function(n){var a=$jot(n.parentNode.parentNode);"form-section-closed"==a.className?a.closed=!0:a.select(".form-collapse-hidden").length<0&&(r=a,o++),n.observe("click",function(){if(a.closed){a.setStyle("overflow:visible; height:auto");var l=a.getHeight();r&&r!=a&&o<=1&&(r.className="form-section-closed",r.shift({height:60,duration:.5}),r.select(".form-collapse-right-show").each(function(t){t.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),r.closed=!0),r=a,a.setStyle("overflow:hidden; height:60px"),setTimeout(function(){a.scrollTop=0,a.className="form-section"},1),a.shift({height:l,duration:.5,onStart:function(){a.select(".form-line[data-type=control_widget]").each(function(t){var r=t.id.split("_").last();JotForm.showWidget(r)})},onEnd:function(r){r.scrollTop=0,r.setStyle("height:auto;"),t.noJump||r.scrollIntoView()},onStep:function(t){window.parent&&window.parent!=window&&window.parent.postMessage("setHeight:"+document.querySelectorAll("body")[0].getHeight(),"*")}}),a.select(".form-collapse-right-hide").each(function(t){t.addClassName("form-collapse-right-show").removeClassName("form-collapse-right-hide")}),a.closed=!1,n.errored&&(n.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),n.errored=!1)}else a.scrollTop=0,a.shift({height:60,duration:.5,onEnd:function(t){t.className="form-section-closed"},onStep:function(t){window.parent&&window.parent!=window&&window.parent.postMessage("setHeight:"+document.querySelectorAll("body")[0].getHeight(),"*")}}),r&&r.select(".form-collapse-right-show").each(function(t){t.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")}),a.closed=!0;setTimeout(function(){t.handleIFrameHeight()},510)})})},handleAuthNet:function(){var t=document.querySelectorAll(".jotform-form")[0],r=document.querySelectorAll('input[name="simple_fpc"]')[0].value;Event.observe(t,"submit",function(t){if(JotForm.corrected(document.querySelectorAll(".cc_firstName")[0]),JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var o;document.querySelectorAll("#id_"+r+' [class*="cc"]').each(function(t){if(!t.getValue())throw o=JotForm.texts.ccMissingDetails,$jotbreak}),o?(Event.stop(t),setTimeout(function(){JotForm.errored(document.querySelectorAll(".cc_firstName")[0],o);var t=document.querySelectorAll(".cc_number")[0];if(!t.isVisible()&&!t.up("li").hasClassName("form-field-hidden")&&!t.up("ul").hasClassName("form-field-hidden")&&document.querySelectorAll("ul.form-section.page-section").length>1){var r=[];if(document.querySelectorAll(".form-submit-button").each(function(t){t.isVisible()&&r.push(t)}),r.length<1)return;var n=r[r.length-1];document.querySelectorAll(".form-authnet-error").invoke("remove");var a=new Element("div",{className:"form-button-error form-authnet-error"});a.insert("<p>"+o+"</p>"),$jot(n.parentNode.parentNode).insert(a)}JotForm.enableButtons()},500)):JotForm.corrected(document.querySelectorAll(".cc_firstName")[0])}})},handlePaypalPro:function(){if($jot("creditCardTable")){var t=document.querySelectorAll(".jotform-form")[0],r=document.querySelectorAll('input[name="simple_fpc"]')[0].value;Event.observe(t,"submit",function(t){if(JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var o="";JotForm.corrected(document.querySelectorAll(".paymentTypeRadios")[0]),document.querySelectorAll(".paymentTypeRadios")[0].checked||document.querySelectorAll(".paymentTypeRadios")[1].checked||(o="You must select a payment method"),$jot("input_"+r+"_paymentType_credit").checked&&document.querySelectorAll("#id_"+r+' [class*="cc"]').each(function(t){if(!t.getValue())throw o="All fields are required",$jotbreak}),o?(JotForm.errored(document.querySelectorAll(".paymentTypeRadios")[0],o),Event.stop(t)):JotForm.corrected(document.querySelectorAll(".paymentTypeRadios")[0])}}),document.querySelectorAll(".paymentTypeRadios").each(function(t){t.observe("click",function(){t.checked&&"express"===t.value&&JotForm.setCreditCardVisibility(!1),t.checked&&"credit"===t.value&&(JotForm.paymentTotal>0||0===Object.keys(JotForm.discounts).length)&&JotForm.setCreditCardVisibility(!0),JotForm.corrected(document.querySelectorAll(".paymentTypeRadios")[0]),JotForm.togglePaypalButtons(t.checked&&"express"===t.value)})})}},description:function(t,r){if("20"!=r){var o,n=!1;if(!$jot(t)){var a=t.replace(/[^\d]/gim,"");if($jot("id_"+a))t=$jot("id_"+a),n=!0;else{if(!$jot("section_"+a))return;t=$jot("section_"+a),n=!0}}$jot(t).setSliderValue&&(t=$jot($jot(t).parentNode));var l=JotForm.getContainer(t);if(l){var u=!1,c=new Element("div",{className:"form-description"}),d=new Element("div",{className:"form-description-arrow"}),p=new Element("div",{className:"form-description-arrow-small"}),f=new Element("div",{className:"form-description-content"});if("desc"in document.get&&"v2"==document.get.desc&&(u=!0,l.insert(o=new Element("div",{className:"form-description-indicator"})),c.addClassName("right")),f.insert(r),c.insert(d).insert(p).insert(f).hide(),l.insert(c),l.getWidth()/2<c.getWidth()&&c.setStyle("right: -"+(l.getWidth()-(u?100:20))+"px"),u){var m=o.measure("height");d.setStyle("top:"+(m/2-20)+"px"),p.setStyle("top:"+(m/2-17)+"px"),$jot(l).mouseEnter(function(){l.setStyle("z-index:10000"),l.hasClassName("form-line-active")||(l.addClassName("form-line-active"),l.__classAdded=!0),c.show()},function(){l.__classAdded&&(l.removeClassName("form-line-active"),l.__classAdded=!1),l.setStyle("z-index:0"),c.hide()}),$jot(t).observe("keydown",function(){l.setStyle("z-index:0"),c.hide()})}else n?$jot(t).mouseEnter(function(){l.setStyle("z-index:10000"),c.show()},function(){l.setStyle("z-index:0"),c.hide()}):($jot(l).mouseEnter(function(){l.setStyle("z-index:10000"),c.show()},function(){l.setStyle("z-index:0"),c.hide()}),$jot(t).observe("keyup",function(){l.setStyle("z-index:0"),c.hide()}),$jot(t).observe("focus",function(){l.setStyle("z-index:10000"),c.show()}),$jot(t).observe("blur",function(){l.setStyle("z-index:0"),c.hide()}))}}},validateAll:function(t,r){var o=function(){-1!==window.location.href.indexOf("stripeDebug")&&console.log.apply(console,arguments)};if(""!==getQuerystring("qp"))return!0;var n=!0;void 0==r&&(r=document.querySelectorAll("body")[0]),r.select(".form-textarea-limit-indicator-error").each(function(t){JotForm.isVisible(t)&&(o("set to false because .form-textarea-limit-indicator-error"),n=!1)}),r.select(".form-datetime-validation-error").first()&&(o("set to false because .form-datetime-validation-error"),n=!1);var a=r.select(".form-spinner-input, .form-number-input, .form-grading-input");if(a.length>0&&a.each(function(t){t.id.split("_")[1];var r=t.readAttribute("data-type");switch(r){case"input-number":n=!!t.validateNumberInputs()&&n;break;case"input-spinner":n=!!t.validateSpinnerInputs()&&n;break;case"input-grading":n=!!t.validateGradingInputs()&&n}}),window.signatureForm){o("signature form");for(var l=jQuery(".pad"),u=0;u<l.length;u++){var c=l[u];if("true"===jQuery(c).attr("data-required")&&jQuery(c).parent().parent().parent().is(":visible")){var d=jQuery(c).parent().parent();if(0!=jQuery(c).jSignature("getData","base30")[1].length||jQuery(c).hasClass("edit-signature"))d.find(".form-line-error").remove();else if(n=!1,0==d.find(".form-line-error").length){var p=-1==JotForm.url.search("https")?"http://cdn.jotfor.ms/":"https://cdn.jotfor.ms/";d.append('<div class="form-line-error" style="float:left;margin-top:5px;"><div class="form-error-message"><img src="'+p+'images/exclamation-octagon.png" align="left" style="margin-right:5px;"><div class="form-error-arrow"><div class="form-error-arrow-inner"></div></div>'+JotForm.texts.required+"</div></div>")}}}}void 0!==window.JCFServerCommon&&(o("widgets detected"),document.querySelectorAll(".widget-required, .widget-errored").each(function(t){if(JotForm.isVisible(t)){var r=t.hasClassName("widget-replaced");r&&t.errored&&JotForm.corrected(t),t.up(".form-section").visible()&&0===t.getValue().length&&(n=!!r&&JotForm.errored(t,JotForm.texts.required))}}));var f="";return t&&t.id&&(f="#"+t.id+" "),document.querySelectorAll(f+'*[class*="validate"]').each(function(t){if(JotForm.payment&&t.up(".form-line")&&t.up(".form-line").getAttribute("data-type")=="control_"+JotForm.payment){var a=JotForm.getContainer(t).select('input[class*="validate"],select[class*="validate"]').first()==t;if(!t.name.match("cc_")&&!a)return}if(o("looping inputs with validation :"),o(t),void 0===t.validateInput){o("no required continuing");return}t.validateInput&&t.validateInput()||(n=JotForm.hasHiddenValidationConflicts(t),"BODY"!==r.tagName&&t.id&&0===r.select("#"+t.id).length&&(n=!0),o("ret setted "+n))}),o("final ret value "+n),n},errored:function(t,r){if((t=$jot(t)).errored)return!1;if(t.runHint&&t.runHint(),-1==this.url.search("https"))var o="http://cdn.jotfor.ms/";else var o="https://cdn.jotfor.ms/";if(JotForm.isCollapsed(t)){var n=JotForm.getCollapseBar(t);n.errored||(n.select(".form-collapse-mid")[0].insert({top:'<img src="'+o+'images/exclamation-octagon.png" align="bottom" style="margin-right:5px;"> '}).setStyle({color:"red"}),n.errored=!0)}var a=JotForm.getContainer(t);t.errored=!0,t.addClassName("form-validation-error"),a.addClassName("form-line-error");var l=a;return(l=a.select(".form-input")[0])||(l=a.select(".form-input-wide")[0]),l||(l=a),l.select(".form-error-message").invoke("remove"),l.insert(new Element("div",{className:"form-error-message"}).insert('<img src="'+o+'images/exclamation-octagon.png" align="left" style="margin-right:5px;"> '+r).insert(new Element("div",{className:"form-error-arrow"}).insert(new Element("div",{className:"form-error-arrow-inner"})))),JotForm.iframeHeightCaller(),!1},corrected:function(t){(t=$jot(t)).errored=!1;var r=JotForm.getContainer(t);if(!r)return!0;if(r.select(".form-validation-error").invoke("removeClassName","form-validation-error"),r.removeClassName("form-line-error"),r.select(".form-error-message").invoke("remove"),JotForm.isCollapsed(t)){var o=JotForm.getCollapseBar(t);o.errored&&o.up(".form-section-closed")&&0==o.up(".form-section-closed").select(".form-validation-error").length&&(o.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),o.errored=!1)}return setTimeout(function(){0==document.querySelectorAll(".form-error-message").length&&JotForm.hideButtonMessage()},100),JotForm.iframeHeightCaller(),!0},hideButtonMessage:function(){document.querySelectorAll(".form-button-error").invoke("remove")},showButtonMessage:function(){this.hideButtonMessage(),document.querySelectorAll(".form-submit-button").each(function(t){var r=new Element("div",{className:"form-button-error"});r.insert("<p>"+JotForm.texts.generalError+"</p>"),$jot(t.parentNode.parentNode).insert(r)})},disableGoButton:function(){(-1!=navigator.appVersion.indexOf("iPhone")||-1!=navigator.appVersion.indexOf("iPad")||-1!=navigator.appVersion.indexOf("Android"))&&document.querySelectorAll("input").each(function(t){t.observe("keypress",function(t){13===(t.keyCode?t.keyCode:t.which)&&t.preventDefault()})})},validator:function(){if(this.debugOptions&&this.debugOptions.stopValidations)return this.info("Validations stopped by debug parameter"),!0;$jotA(JotForm.forms).each(function(t){!t.validationSet&&(t.validationSet=!0,t.observe("submit",function(r){try{if($jot("payment_total_checksum")&&($jot("payment_total_checksum").value=JotForm.paymentTotal),document.querySelectorAll(".form-submit-button")&&document.querySelectorAll(".form-submit-button").length>0){var o=!1;document.querySelectorAll(".form-submit-button").each(function(t){if(JotForm.isVisible(t.parentNode)){o=!0;return}}),o||(JotForm.enableButtons(),r.stop())}if(!JotForm.validateAll(t)){if(JotForm.enableButtons(),JotForm.showButtonMessage(),JotForm.submitError){if("jumpToSubmit"==JotForm.submitError){var n=[];document.querySelectorAll(".form-submit-button").each(function(t){JotForm.isVisible(t)&&n.push(t)}),n.length>0&&(n[n.length-1].up(".form-line")?n[n.length-1].up(".form-line").scrollIntoView(!1):n[n.length-1].scrollIntoView(!1))}else"jumpToFirstError"==JotForm.submitError&&setTimeout(function(){var t=document.querySelectorAll(".form-error-message").first();if(t){JotForm.isCollapsed(t)&&JotForm.getCollapseBar(t).run("click"),t.up(".form-line").scrollIntoView();var r=t.up(".form-line").down("input,select,textarea");r&&r.focus()}},100)}document.querySelectorAll(".custom-hint-group").each(function(t){t.showCustomPlaceHolder()}),r.stop();return}if(document.querySelectorAll(".form-radio-other,.form-checkbox-other").each(function(t){!t.checked&&JotForm.getOptionOtherInput(t)&&JotForm.getOptionOtherInput(t).disable()}),JotForm.runAllCalculations(!0),document.querySelectorAll("textarea.form-textarea:first-child").each(function(t){if(t.value){function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}t.value=r(t.value),(textEl=t.clone()).writeAttribute("disabled","true"),textEl.innerHTML=t.value,t.up().appendChild(textEl),t.hide()}}),document.querySelectorAll("input, select, textarea").length>900&&document.querySelectorAll(".form-matrix-table").each(function(t){var r={};t.select("input, select").each(function(t){var o=t.id.split("_"),n=o[2],a=o[3];"radio"==t.type?t.checked?r[n]=t.value:n in r||(r[n]=!1):(n in r||(r[n]={}),"checkbox"==t.type?r[n][a]=!!t.checked&&t.value:r[n][a]=t.value),t.writeAttribute("disabled","true")});try{var o=t.down("input, select").readAttribute("name").split("[")[0],n=new Element("textarea").setStyle({display:"none"});t.insert({after:n}),n.value=JSON.stringify(r),n.writeAttribute("name",o)}catch(a){console.log(a)}}),JotForm.autoFillDeployed&&!JotForm.payment&&void 0!==window.localStorage){var a=document.querySelectorAll("form").first().readAttribute("id")+document.querySelectorAll("form").first().readAttribute("name");AutoFill.getInstance(a).stopSavingData(),window.localStorage.clear()}}catch(l){JotForm.error(l),r.stop();return}if(document.querySelectorAll(".time-dropdown").each(function(t){t.enable()}),document.querySelectorAll(".form-checkbox, .form-radio").each(function(t){t.up(".form-product-item")&&t.disabled&&t.checked&&t.observe("click",function(t){t.preventDefault(),setTimeout(JotForm.countTotal,20)}),t.enable()}),document.querySelectorAll(".conditionallyDisabled").each(function(t){t.enable()}),"dontClear"!==JotForm.clearFieldOnHide&&document.querySelectorAll(".form-field-hidden input",".form-field-hidden select",".form-field-hidden textarea").each(function(t){"simple_fpc"!=t.name&&("INPUT"==t.tagName&&["checkbox","radio"].include(t.type)?t.checked=!1:t.clear())}),JotForm.compact&&!1==JotForm.imageSaved){r.stop(),window.parent.saveAsImage(),$jot(document).observe("image:loaded",function(){var r;$jot(document.body).insert(r=new Element("div").setStyle("position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);")),r.insert('<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please Wait...</td></tr></table>'),setTimeout(function(){t.submit()},1e3)});return}JotForm.isEncrypted&&JotForm.encryptAll(r,function(r){r&&t.submit()})}),document.querySelectorAll("#"+t.id+' *[class*="validate"]').each(function(t){JotForm.setFieldValidation(t)}),document.querySelectorAll(".form-upload").each(function(t){try{var r=!!t.validateInput,o=t.validateInput||Prototype.K;t.validateInput=function(){if(t.errored=!1,!1!==o()){if(!t.files)return!0;var r=t.readAttribute("accept")||t.readAttribute("data-file-accept")||t.readAttribute("file-accept")||"",n=t.readAttribute("maxsize")||t.readAttribute("data-file-maxsize")||t.readAttribute("file-maxsize")||"",a=t.readAttribute("minsize")||t.readAttribute("data-file-minsize")||t.readAttribute("file-minsize")||"",l=r.strip().toLowerCase().split(/\s*\,\s*/gim);for(var u in l)"string"==typeof l[u]&&(l[u]="."===l[u].slice(0,1)?l[u].slice(1):l[u]);var c=1024*parseInt(n,10),d=1024*parseInt(a,10),p=t.files[0];if(!p)return!0;p.fileName||(p.fileName=p.name);var f="";if(JotForm.getFileExtension(p.fileName)&&(f=JotForm.getFileExtension(p.fileName)),"*"!=r&&!l.include(f)&&!l.include(f.toLowerCase()))return JotForm.errored(t,JotForm.texts.uploadExtensions+"<br/>"+r);var m=t.readAttribute("data-imagevalidate")||!1,h="jpeg, jpg, png, gif, bmp";if((l.include(f)||l.include(f.toLowerCase()))&&m&&("yes"===m||"true"===m)&&(h.include(f)||h.include(f.toLowerCase()))&&void 0!==window.FileReader){var g=new FileReader;g.onloadend=function(r){function o(t){for(var r="",o=new Uint8Array(t),n=o.length,a=0;a<n;a++)r+=String.fromCharCode(o[a]);return r}var n={filename:p.name,size:p.size,binary:o(r.target.result)};ImageInfo.loadInfo(n,function(){var r=ImageInfo.getAllFields(p.name);if("UNKNOWN"===r.format)return JotForm.errored(t,"You have uploaded an invalid image file type.")})},g.readAsArrayBuffer(p)}return(p.fileSize||(p.fileSize=p.size),p.fileSize>c&&0!==c)?JotForm.errored(t,JotForm.texts.uploadFilesize+" "+n+"Kb"):p.fileSize<d?JotForm.errored(t,JotForm.texts.uploadFilesizemin+" "+a+"Kb"):JotForm.corrected(t)}},r||(t.addClassName("validate[upload]"),t.observe("blur",t.validateInput))}catch(n){JotForm.error(n)}}))})},dateFromField:function(t){var r="";if((t.indexOf("-")>-1||t.indexOf("+")>-1)&&(r=t.split(/[\+\-]/)[1],r=t.indexOf("-")>-1?"-"+r:""+r,t=t.split(/[\+\-]/)[0]),!$jot("year_"+(t=t.replace(/[{}]/g,"")))||!$jot("year_"+t).value)return!1;var o=$jot("year_"+t).value,n=$jot("month_"+t).value,a=$jot("day_"+t).value,l=new Date(o,n-1,a);return r.length&&l.setDate(l.getDate()+parseInt(r,10)),l},setFieldValidation:function(t){var r=this,o={email:/^\S[a-z0-9\/.!#$jot%&'*+\/=?\^_`{|}~\-]*(?:\.[a-z0-9!#$jot%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])$jot/i,alphanumeric:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z0-9\s]+$jot/,numeric:/^(-?\d+[\.\,]?)+$jot/,numericDotStart:/^([\.]\d+)+$jot/,currency:/^-?[\$jot\\]?\d*,?\d*,?\d*(\.\d\d)??$jot/,alphabetic:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z\s]+$jot/,cyrillic:/^[ \s]*$jot/,url:/(http|ftp|https){0,1}:{0,1}[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/},n=t.className.replace(/.*validate\[(.*)\].*/,"$jot1").split(/\s*,\s*/);t.validateInput=function(a,l){if(document.get.ignoreValidation&&"true"===document.get.ignoreValidation||!JotForm.isVisible(t)&&!t.hasClassName("g-recaptcha-response"))return!0;if("control_datetime"===JotForm.getContainer(t).getAttribute("data-type")&&!JotForm.getContainer(t).down('input[id*="month_"]').dateTimeCheck(!1))return!1;$jot(t.parentNode).hasClassName("form-matrix-values")||t.hasClassName("form-subproduct-option")||t.id.match(/_quantity_/)||t.id.match(/_custom_/)||JotForm.corrected(t);var u=n;if(!0===t.hinted&&(t.clearHint(),setTimeout(function(){t.hintClear()},150)),t.hasClassName("isNewEmail")&&"function"==typeof t.validateEmailField)return t.validateEmailField();if("input-spinner"===t.readAttribute("data-type")&&t.value)return t.validateSpinnerInputs();if("input-grading"===t.readAttribute("data-type")&&t.value)return t.validateGradingInputs();if("input-number"===t.readAttribute("data-type")&&t.value)return t.validateNumberInputs();if(t.readAttribute("data-min-amount"))return t.validateMinimum();if(t.up(".form-line").down(".form-textarea-limit-indicator-error")){t.triggerEvent("change");return}if(u.include("disallowFree")){for(var c=["gmail","aim","outlook","hotmail","yahoo","mail","inbox"],d=0;d<c.length;d++)if(t.value.toLowerCase().indexOf("@"+c[d]+".")>-1)return JotForm.errored(t,JotForm.texts.freeEmailError,l)}if(u.include("minSelection")||u.include("minselection")){var p=parseInt(t.readAttribute("data-minselection")),f=0;if(t.up(".form-line").select("input[type=checkbox]").each(function(t){t.checked&&f++}),f>0&&f<p)return JotForm.errored(t,JotForm.texts.minSelectionsError.replace(/\s*$jot/,"")+" "+p+".",l)}if(u.include("maxselection")){var m=parseInt(t.readAttribute("data-maxselection")),f=0;if(t.up(".form-line").select("input[type=checkbox]").each(function(t){t.checked&&f++}),f>m)return JotForm.errored(t,JotForm.texts.maxSelectionsError.replace(/\s*$jot/,"")+" "+m+".",l)}if(u.include("disallowPast")){var h=t.id.split("_").last(),g=JotForm.getDateValue(h).split("T")[0],v=new Date,y=v.getMonth()+1<10?"0"+(v.getMonth()+1):v.getMonth()+1,$=10>v.getDate()?"0"+v.getDate():v.getDate(),b=v.getFullYear()+"-"+y+"-"+$;if(JotForm.checkValueByOperator("before",JotForm.strToDate(b),JotForm.strToDate(g)))return JotForm.errored(t,JotForm.texts.pastDatesDisallowed,l)}if(u.include("limitDate"))try{var h=t.id.split("_").last(),_=JotForm.dateLimits[h];if(!1!==_&&!(""==$jot("year_"+h).value||""==$jot("month_"+h).value||""==$jot("day_"+h).value)){if("custom"in _&&!1!==_.custom&&Array.isArray(_.custom)){for(var F=0;F<_.custom.length;F++)if(_.custom[F]){var j=$jot("year_"+h).value,y=JotForm.addZeros($jot("month_"+h).value,2),$=JotForm.addZeros($jot("day_"+h).value,2);if(_.custom[F].indexOf("{")>-1){var S=JotForm.dateFromField(_.custom[F]);if((S=JotForm.addZeros(S.getFullYear(),2)+"-"+JotForm.addZeros(S.getMonth()+1,2)+"-"+JotForm.addZeros(S.getDate(),2))==j+"-"+y+"-"+$)return JotForm.errored(t,JotForm.texts.dateLimited,l);return}if(_.custom[F]===j+"-"+y+"-"+$||"string"==typeof _.custom[F]&&5===_.custom[F].length&&_.custom[F]===y+"-"+$||"string"==typeof _.custom[F]&&2===_.custom[F].length&&_.custom[F]==$)return JotForm.errored(t,JotForm.texts.dateLimited,l)}}var C=new Date($jot("year_"+h).value,$jot("month_"+h).value-1,$jot("day_"+h).value);if("ranges"in _&&!1!==_.ranges&&Array.isArray(_.ranges)){for(var F=0;F<_.ranges.length;F++)if(_.ranges[F]&&-1!==_.ranges[F].indexOf(">")){var w,A,E=_.ranges[F].split(">");if(E[0].indexOf("{")>-1)w=JotForm.dateFromField(E[0]);else{var q=E[0].split("-");w=new Date(q[0],parseInt(q[1])-1,q[2])}if(E[1].indexOf("{")>-1)A=JotForm.dateFromField(E[1]);else{var T=E[1].split("-");A=new Date(T[0],parseInt(T[1])-1,T[2])}if(A&&(A.setDate(A.getDate()+1),C.getTime()>=w.getTime()&&C.getTime()<A.getTime()))return JotForm.errored(t,JotForm.texts.dateLimited,l)}}var N=JotForm.getDayOfWeek(C);if(N in _.days&&!1==_.days[N])return JotForm.errored(t,JotForm.texts.dateLimited,l);if("future"in _&&!1===_.future){var J=new Date;if(C>J)return JotForm.errored(t,JotForm.texts.dateLimited,l)}if("past"in _&&!1===_.past){var J=new Date,D=new Date;if(D.setDate(J.getDate()-1),C<D)return JotForm.errored(t,JotForm.texts.dateLimited,l)}if("start"in _&&!1!=_.start&&""!=_.start){var q=_.start.split("-");if(3==q.length){var w=new Date(q[0],q[1]-1,q[2]);if(C<w)return JotForm.errored(t,JotForm.texts.dateLimited,l)}else if(_.start.indexOf("{")>-1){var w=JotForm.dateFromField(_.start);if(C<w)return JotForm.errored(t,JotForm.texts.dateLimited,l)}}if("end"in _&&!1!=_.end&&""!=_.end){var T=_.end.split("-");if(3==T.length){var A=new Date(T[0],T[1]-1,T[2]);if(C>A)return JotForm.errored(t,JotForm.texts.dateLimited,l)}else if(_.end.indexOf("{")>-1){var A=JotForm.dateFromField(_.end);if(C>A)return JotForm.errored(t,JotForm.texts.dateLimited,l)}}}}catch(O){console.log(O)}if(u.include("validateLiteDate")&&t.hasClassName("invalidDate")){var P=t.readAttribute("placeholder");return JotForm.errored(t,JotForm.texts.dateInvalid.replace("{format}",P),l)}if(u.include("Email_Confirm")){var M=t.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$jot1");if($jot("input_"+M).value!=$jot("input_"+M+"_confirm").value)return JotForm.errored(t,JotForm.texts.confirmEmail,l);if($jot("input_"+M+"_confirm").value&&!o.email.test($jot("input_"+M+"_confirm").value))return JotForm.errored(t,JotForm.texts.email,l)}if(u.include("required")){if("INPUT"==t.tagName&&"file"==t.readAttribute("type")){var L=t.up(".form-input")||t.up(".form-input-wide");return"multiple"===t.readAttribute("multiple")?t.up("div[class*=validate[multipleUpload]]").validateInput():t.value.empty()&&!(t.uploadMarked||L&&L.uploadMarked)?JotForm.errored(t,JotForm.texts.required,l):JotForm.corrected(t)}if("INPUT"==t.tagName&&("radio"==t.readAttribute("type")||"checkbox"==t.readAttribute("type"))){if($jot(t.parentNode).hasClassName("form-matrix-values")){t.readAttribute("type");var I={},B=!1,H=!1,R=t.up("table")?t.up("table"):t.up(".jfMatrix");if(R.select("input").each(function(t){t.name in I||(I[t.name]=!1),!0!==I[t.name]&&(I[t.name]=t.checked),!0===I[t.name]&&(B=!0),"value"in t&&t.value.strip(" ").empty()&&(H=!0)}),u.include("requireOneAnswer")){if(!B)return JotForm.errored(t,JotForm.texts.requireOne,l)}else if(u.include("requireEveryCell")&&H)return JotForm.errored(t,JotForm.texts.requireEveryCell,l);else if(!$jotH(I).values().all())return JotForm.errored(t,JotForm.texts.requireEveryRow,l);else return JotForm.corrected(t)}else{var V=t.up(".form-"+t.type+"-item")?t.up(".form-"+t.type+"-item").down(".form-"+t.type+"-other-input"):null;if(V&&t.checked&&""==V.value)return JotForm.errored(t,JotForm.texts.required);var U=t.name.substr(0,t.name.indexOf("[")),z=U+"[other]",Y=[];if(document.getElementsByName(z)[0]){if((Y=$jotA(document.getElementsByName(U+"[]")))[Y.length]=document.getElementsByName(z)[0],!Y.map(function(t){return t.checked}).any())return JotForm.errored(t,JotForm.texts.required,l)}else{var W=JotForm.getContainer(t);if(JotForm.payment&&W.getAttribute("data-type").match(JotForm.payment)){if(!$jotA(document.getElementsByName(t.name)).map(function(t){if(JotForm.isVisible(t)){if("checkbox"===t.readAttribute("type")&&t.value.indexOf("_expanded")>-1)return!!t.checked&&$jotA(document.querySelectorAll("#"+t.id+"_subproducts .form-subproduct-quantity")).map(function(t){return t.getSelected().value>0||t.value>0}).any();if($jot(t.id+"_custom_price"))return t.checked&&$jot(t.id+"_custom_price").getValue()>0;var r=!!t.up(".form-product-item")&&t.up(".form-product-item").down('select[id*="quantity"], input[id*="quantity"]');return r?t.checked&&r.getValue()>0:t.checked}}).any())return t.hasClassName("paymentTypeRadios")?JotForm.errored(t,"Please select payment method.",l):JotForm.errored(t,JotForm.texts.required,l)}else if(0===W.select("input:checked").length)return JotForm.errored(t,JotForm.texts.required,l)}}}else if(("INPUT"==t.tagName||"SELECT"==t.tagName)&&($jot(t).up().hasClassName("form-matrix-values")||$jot(t).up(1).hasClassName("form-matrix-values"))){var I={},G=!1,H=!1,R=t.up("table")?t.up("table"):t.up(".jfMatrix");return(R.select(t.tagName).each(function(t){t.name in I||(I[t.name]=!1),!0!==I[t.name]&&(I[t.name]=t.value&&!t.value.strip(" ").empty()),!0===I[t.name]&&(G=!0),"value"in t&&t.value.strip(" ").empty()&&(H=!0)}),u.include("requireEveryRow")&&!$jotH(I).values().all())?JotForm.errored(t,JotForm.texts.requireEveryRow,l):u.include("requireOneAnswer")&&!G?JotForm.errored(t,JotForm.texts.requireOne,l):u.include("requireEveryCell")&&H?JotForm.errored(t,JotForm.texts.requireEveryCell,l):JotForm.corrected(t)}else if(("INPUT"===t.tagName||"SELECT"===t.tagName)&&t.hasClassName("form-subproduct-option")){if(t.hasClassName("form-subproduct-quantity")){var X=t.id.replace(/_[0-9]*_[0-9]*$jot/,"");if($jot(X.replace(/_quantity/,"")).checked)return $jotA(document.querySelectorAll('[id*="'+X+'"]')).map(function(t){return t.getSelected().value>0||t.value>0}).any()?JotForm.corrected(t):JotForm.errored(t,JotForm.texts.required,l)}}else if(t.name&&t.name.include("["))try{var W=r.getContainer(t),K=(inputs=t.hasClassName("form-address-search")&&W.select(".jfQuestion-clean").length>0?[t]:W.select("input,select[name*="+t.name.replace(/\[.*$jot/,"")+"]")).map(function(r){if(r.hasClassName("form-address-state")){var o=W.select(".form-address-country")[0].value;if("United States"!=o&&"Canada"!=o&&""!=o)return r.removeClassName("form-validation-error"),r.__skipField=!0,!1}else r.__skipField&&(r.__skipField=!1);if(r.id.match(/_donation/))return 0==r.getValue();if("cardform"!==window.FORM_MODE&&r.name&&r.name.match(/cc_/))return 0==JotForm.paymentTotal;if(r.id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)){var n=$jot(r.id.replace("_quantity","").match(/input_[0-9]+_[0-9]+/)[0]),a=document.querySelectorAll('[id*="'+r.id.match(/input_[0-9]*/)[0]+'"][type="'+n.getAttribute("type")+'"]');if(6===r.id.split("_").length)var u=document.querySelectorAll('[id*="'+r.id.replace(/_[0-9]*_[0-9]*$jot/,"")+'"]');if(n.checked&&!u&&(isNaN(r.value)||0==r.value||r.value.empty())||!a.map(function(t){return t.checked}).any()||n.checked&&u&&!u.map(function(t){return t.value>0}).any())return r.addClassName("form-validation-error"),!0}if(r.className.replace(/.*validate\[(.*)\].*/,"$jot1").split(/\s*,\s*/).include("required")&&JotForm.isVisible(r)){if(r.value.empty()||"Please Select"==r.value.strip())return l||r.addClassName("form-validation-error"),!0;if(JotForm.getContainer(r).hasClassName("form-datetime-validation-error"))return JotForm.errored(t,"Enter a valid date",l)}return r.removeClassName("form-validation-error"),!1});if(JotForm.payment&&W.getAttribute("data-type").match(JotForm.payment)&&["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)return JotForm.corrected(t);if(K.any()){if(JotForm.payment&&W.getAttribute("data-type").match(JotForm.payment)&&JotForm.isPaymentSelected()&&0==JotForm.paymentTotal||t.hasClassName("form-address-search")&&W.select(".jfQuestion-clean").length<1)return JotForm.corrected(t);return JotForm.errored(t,JotForm.texts.required,l)}}catch(Q){return JotForm.error(Q),JotForm.corrected(t)}if(t.__skipField)return JotForm.corrected(t);if("textarea"===t.tagName.toLowerCase()&&t.hasClassName("form-custom-hint")&&!t.up("div").down(".nicEdit-main"))return JotForm.errored(t,JotForm.texts.required,l);if(t.hasClassName("form-textarea")&&t.up("div").down(".nicEdit-main")){if(t.up("div").down(".nicEdit-main").innerHTML.stripTags().replace(/\s/g,"").replace(/&nbsp;/g,"").empty()||t.readAttribute("data-customhint")&&t.readAttribute("data-customhint")==t.up("div").down(".nicEdit-main").innerHTML)return JotForm.errored(t,JotForm.texts.required,l)}else if("control_datetime"===JotForm.getContainer(t).getAttribute("data-type")){if(!t.value||t.value.strip(" ").empty())return JotForm.errored(t,JotForm.texts.required,l);if(t.id&&t.id.indexOf("lite_mode_")>-1){var Z=t.readAttribute("seperator")||t.readAttribute("data-seperator"),P=(t.readAttribute("format")||t.readAttribute("data-format")).toLowerCase();if(t.value.length!==2*Z.length+P.length)return JotForm.errored(t,JotForm.texts.dateInvalid.replace("{format}",P),l)}if(JotForm.getContainer(t).hasClassName("form-datetime-validation-error"))return JotForm.errored(t,"Enter a valid date",l)}else if((!t.value||t.value.strip(" ").empty()||t.value.replace("<br>","").empty()||"Please Select"==t.value)&&!("radio"==t.readAttribute("type")||"checkbox"==t.readAttribute("type"))&&!$jot(t.parentNode).hasClassName("form-matrix-values"))return JotForm.errored(t,JotForm.texts.required,l);u=u.without("required")}else if(t.value.empty())return!0;if(!u[0])return!0;switch(u[0]){case"Email":if(t.value=t.value.replace(/^\s+|\s+$jot/g,""),!o.email.test(t.value))return JotForm.errored(t,JotForm.texts.email,l);break;case"Alphabetic":if(!o.alphabetic.test(t.value))return JotForm.errored(t,JotForm.texts.alphabetic,l);break;case"Numeric":if(!o.numeric.test(t.value)&&!o.numericDotStart.test(t.value))return JotForm.errored(t,JotForm.texts.numeric,l);break;case"AlphaNumeric":if(!o.alphanumeric.test(t.value))return JotForm.errored(t,JotForm.texts.alphanumeric,l);break;case"Cyrillic":if(!o.cyrillic.test(t.value))return JotForm.errored(t,JotForm.texts.cyrillic,l);break;case"Url":if(!o.url.test(t.value))return JotForm.errored(t,JotForm.texts.url,l);break;case"Currency":if(t.up(".form-matrix-table")){if(t.up(".form-matrix-table").select("input").collect(function(t){return!o.currency.test(t.value)}).any())return JotForm.errored(t,JotForm.texts.currency,l)}else if(!o.currency.test(t.value))return JotForm.errored(t,JotForm.texts.currency,l);break;case"Fill Mask":if("true"==t.readAttribute("data-masked")&&!jQuery(t).inputmask("isComplete"))return JotForm.errored(t,JotForm.texts.fillMask,l)}return JotForm.corrected(t)};var a=function(o){setTimeout(function(){r.lastFocus&&(r.lastFocus==t||r.getContainer(r.lastFocus)!=r.getContainer(t))?t.validateInput():("hidden"==t.type||"file"==t.type)&&t.validateInput()},10)};if("hidden"==t.type||"file"==t.type?t.observe("change",a):t.observe("blur",a),("checkbox"==t.type||"radio"==t.type)&&(t.observe("change",function(){t.validateInput()}),JotForm.getOptionOtherInput(t))&&JotForm.getOptionOtherInput(t).observe("keyup",function(){t.validateInput()}),t.hasClassName("form-textarea")&&t.up("div").down(".nicEdit-main")&&t.up("div").down(".nicEdit-main").observe("blur",a),t.up(".form-spinner")){var l=function(){t.validateInput()};t.up(".form-spinner").down(".form-spinner-up").observe("click",l),t.up(".form-spinner").down(".form-spinner-down").observe("click",l)}},FBInit:function(){JotForm.FBNoSubmit=!0,FB.getLoginStatus(function(t){t.authResponse?JotForm.FBCollectInformation(t.authResponse.userID):FB.Event.subscribe("auth.login",function(t){JotForm.FBCollectInformation(t.authResponse.userID)})})},FBCollectInformation:function(t){JotForm.FBNoSubmit=!1;var r=document.querySelectorAll(".form-helper").collect(function(t){var r="",o=t.readAttribute("data-info").replace("user_","");switch(o){case"can_be_anyvalue":r="place correct one here";break;case"sex":r="gender";break;case"about_me":r="bio";break;default:r=o}return[r,t.id]}),o={},n=!1;$jotA(r).each(function(t){"pic_with_logo"==t[0]&&(n={fieldID:t[1]}),"username"!==t[0]&&(o[t[0]]=t[1])});var a=$jotH(o).keys().without("pic_with_logo"),l=function(r,o){JotForm.bringOldFBSubmissionBack(t);var n=new Element("input",{type:"hidden",name:"fb_user_id"}).setValue(t);JotForm.getForm(r).insert({top:n})};try{FB.api("/"+t,{fields:a},function(r){var a;$jotH(r).each(function(t){if($jot(o[t.key]))switch(a=$jot(o[t.key]),t.key){case"location":a.value=t.value.name;break;case"website":a.value=t.value.split(/\s+/).join(", ");break;default:a.value=t.value}}),n?FB.api("/"+t+"/picture",function(r){r.data.url&&$jot(n.fieldID)&&($jot(n.fieldID).value=r.data.url),l(a,t)}):l(a,t)})}catch(u){console.error(u)}document.querySelectorAll(".fb-login-buttons").invoke("show"),document.querySelectorAll(".fb-login-label").invoke("hide")},bringOldFBSubmissionBack:function(t){var r=document.querySelectorAll('input[name="formID"]')[0];new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"bringOldFBSubmissionBack",formID:r.value,fbid:t},evalJSON:"force",onComplete:function(t){var r=t.responseJSON;r.success&&JotForm.editMode(r,!0,["control_helper","control_fileupload"])}})},setCustomHint:function(t,r){var o=$jot(t)||null,n=r.replace(/<br>/gim,"\n")||"";o.addClassName("custom-hint-group").writeAttribute("data-customhint",r).writeAttribute("customhinted","true"),o.hasContent=!!o.value&&o.value.replace(/\n/gim,"<br>")!=r,o.showCustomPlaceHolder=function(){this.hasContent||(this.value=n,this.writeAttribute("spellcheck","false").addClassName("form-custom-hint"))},o.hideCustomPlaceHolder=function(){this.hasContent||(this.value="",this.removeClassName("form-custom-hint").removeAttribute("spellcheck"))},o.observe("focus",function(t){this.hideCustomPlaceHolder()}).observe("blur",function(t){this.showCustomPlaceHolder()}).observe("keyup",function(t){this.hasContent=this.value.length>0&&this.value!==n}).observe("paste",function(t){$jotthis=this,setTimeout(function(){$jotthis.hasContent=$jotthis.value.length>0&&$jotthis.value!==n},2)}),o&&"textarea"===o.type&&o.hasAttribute("data-richtext")&&setTimeout(function(){var t=document.querySelectorAll("#id_"+o.id.replace("input_","")+" .nicEdit-main")[0]||null,r=nicEditors.findEditor(o.id);t&&(o.hasContent||t.setStyle({color:"#babbc0"}),t.observe("blur",function(){r.getContent()&&"<br>"!==r.getContent()||(t.setStyle({color:"#babbc0"}),r.setContent(n),o.writeAttribute("spellcheck","false").addClassName("form-custom-hint"))}),t.observe("focus",function(){t.setStyle({color:""}),o.removeClassName("form-custom-hint").removeAttribute("spellcheck"),r.getContent()===n&&r.setContent("")}))},1e3),o.up("form.jotform-form").observe("submit",function(){this.select(".custom-hint-group").each(function(t){t.hideCustomPlaceHolder()})}),o.showCustomPlaceHolder()},fieldHasContent:function(t){if($jot("id_"+t).hasClassName("form-line-error")||$jot("id_"+t).select(".form-custom-hint").length>0)return!1;var r=JotForm.getInputType(t);switch(r){case"address":case"combined":return document.querySelectorAll("#id_"+t+" input").collect(function(t){return t.value}).any();case"number":return document.querySelectorAll("#id_"+t+" input").collect(function(t){return t.value.length>0}).any();case"birthdate":return JotForm.getBirthDate(t);case"datetime":var o=JotForm.getDateValue(t);return!("T00:00"==o||""==o);case"time":return JotForm.get24HourTime(t);case"checkbox":case"radio":return document.querySelectorAll("#id_"+t+" input").collect(function(t){return t.checked}).any();case"select":return document.querySelectorAll("#id_"+t+" select").collect(function(t){return t.value}).any();case"grading":return document.querySelectorAll("input[id^=input_"+t+"_]").collect(function(t){return t.value}).any();case"signature":return jQuery("#id_"+t).find(".pad").jSignature("getData","base30")[1].length>0;case"slider":return $jot("input_"+t).value>0;case"file":if("multiple"!==document.querySelectorAll("#id_"+t+" input")[0].readAttribute("multiple")&&""!==document.querySelectorAll("#id_"+t+" input")[0].readAttribute("multiple"))return $jot("input_"+t).value;var n=$jot("id_"+t).select(".qq-upload-list li");if(n.length>0){var a=!0;return n.each(function(t){t.getAttribute("class").indexOf("fail")>0&&(a=!1)}),a}return!0;default:if($jot("input_"+t)&&$jot("input_"+t).value)return $jot("input_"+t).value;return!1}},setupProgressBar:function(){JotForm.progressBar=new ProgressBar("progressBar",{height:"20px",width:"95%"});var t=["select","radio","checkbox","file","combined","email","address","combined","datetime","time","birthdate","number","radio","number","radio","autocomplete","radio","text","textarea","signature","div","slider"],r=0,o=0,n=function(){o=0,document.querySelectorAll(".form-line").each(function(r){var n=r.id.split("_")[1],a=JotForm.getInputType(n);$jotA(t).include(a)&&JotForm.fieldHasContent(n)&&o++});var n=parseInt(100/r*o);isNaN(n)&&(n=0),JotForm.progressBar.setPercent(n),$jot("progressPercentage").update(n+"% "),$jot("progressCompleted").update(o),100==n?$jot("progressSubmissionReminder").show():$jot("progressSubmissionReminder").hide()},a=function(t,r){$jot(t).observe(r,function(){n()})};document.querySelectorAll(".form-line").each(function(o){var n=o.id.split("_")[1],l=JotForm.getInputType(n);if(t.include(l))switch(r++,l){case"radio":case"checkbox":case"signature":a($jot("id_"+n),"click");break;case"select":case"file":a($jot("id_"+n),"change");break;case"datetime":a($jot("id_"+n),"date:changed"),document.querySelectorAll("#id_"+n+" select").each(function(t){a($jot(t),"change")});break;case"time":case"birthdate":document.querySelectorAll("#id_"+n+" select").each(function(t){a($jot(t),"change")});break;case"address":default:a($jot("id_"+n),"keyup");break;case"number":a($jot("id_"+n),"keyup"),a($jot("id_"+n),"click")}}),$jot("progressTotal").update(r),n()},setupRichArea:function(t){!Prototype.Browser.IE9&&!Prototype.Browser.IE10&&Prototype.Browser.IE||(JotForm.isVisible(t)||($jot("id_"+t).up(".form-section")&&$jot("id_"+t).up(".form-section").show(),JotForm.showField(t)),new nicEditor({iconsPath:location.protocol+"//www.jotform.com/images/nicEditorIcons.gif?v2"}).panelInstance("input_"+t),JotForm.updateAreaFromRich(t))},updateAreaFromRich:function(t){try{var r=$jot("id_"+t).down(".nicEdit-main"),o=$jot("id_"+t).down("textarea");r&&o&&r.observe("keyup",function(){o.value=r.innerHTML,o.triggerEvent&&o.triggerEvent("keyup")})}catch(n){console.error(n)}},autoFillInitialize:function(t){if(!this.isEditMode()){var r=document.querySelectorAll('input[name="formID"]')[0].value;t.name="form_"+r;var o="form#"+r,n=document.querySelectorAll(o)[0],a=["formID","simple_spc","temp_upload_folder"];n.writeAttribute("data-autofill","true");var l={_handleCustomHint:function(t){var r=t.protectedfields,o=t.protectedfieldsdata,n=0;$jotH(o).each(function(t){var o=$jot(r[n]),a=t[1],l=!!a.newinputvalue&&a.newinputvalue.replace(/\n/gim,"<br>");if(o.hasAttribute("data-customhint")||o.hasAttribute("customhinted")){var u=o.readAttribute("data-customhint");u&&l&&u!=l&&(o.removeClassName("form-custom-hint"),o.hasContent=!0)}else if(o.hasAttribute("hinted")||o.hinted){var u=!!a.oldinputvalue&&a.oldinputvalue.replace(/\n/gim,"<br>");u&&l&&u!=l&&o.setStyle({color:"#000"})}n++})},_handleGradingTotal:function(t){if(document.querySelectorAll(".form-grading-input").length>0&&$jot("grade_total_"+o)){var r=0,o=null;document.querySelectorAll(".form-grading-input").each(function(t){o=t.id.replace(/input_(\d+)_\d+/,"$jot1"),r+=parseFloat(t.value)||0}),$jot("grade_point_"+o).innerHTML=r}},_handleRichText:function(t){document.querySelectorAll(".nicEdit-main").each(function(t){var r=t.up(".form-line").down("textarea");r&&(t.innerHTML=r.value)})},_handleStarRating:function(t){document.querySelectorAll(".form-star-rating").each(function(t){"function"===t.setRating&&t.setRating(t.down("input").value)})},_handlePaymentTotal:function(){$jot("payment_total")&&JotForm.totalCounter(JotForm.prices)}};JotForm.payment&&document.querySelectorAll(".form-product-item > input.form-product-has-subproducts").length>0&&document.querySelectorAll('.form-line[data-type="control_authnet"] select, .form-line[data-type="control_authnet"] input').each(function(t){t.id&&a.push(t.id)}),jQuery(o).autoFill({timeout:Number(t.timeout)>0?t.timeout:4,sessionID:JotForm.sessionID,excludeFields:a,ttl:t.ttl,allowBindOnChange:!!t.bindChange&&"on"==t.bindChange,onBeforeSave:function(){},onSave:function(){},onRelease:function(){},onBeforeRestore:function(){},onRestore:function(t){var r=this.restoredData[0];r&&(l._handleCustomHint(r),l._handleGradingTotal(r),l._handleRichText(r),l._handleStarRating(r),l._handlePaymentTotal(r))}}),this.runAllConditions(),this.autoFillDeployed=!0}},runAllConditions:function(){$jotH(JotForm.fieldConditions).each(function(t){var r=t.key,o=t.value.event;$jot(r)&&(["autofill","number","autocomplete"].include(o)&&(o="keyup"),$jot(r).run(o))}),JotForm.isEditMode()&&(JotForm.ignoreInsertionCondition=null)},hasQuestion:function(t,r){function o(t){return t[0].map(function(r,o){return t.map(function(t){return t[o]})})}var n=!1;return t.length>0&&t.some(function(t){if(t&&t.type===r)return n=t}),n},paymentExtrasOnTheFly:function(t){var r=this;function o(t){return t[0].map(function(r,o){return t.map(function(t){return t[o]})})}t.length>0&&t.forEach(function(o){if(o)switch(o.type){case"control_chargify":var n=r.hasQuestion(t,"control_email");if(!1!==n){var a=document.querySelectorAll('input[type="email"]');a[0].observe("blur",function(t){t.target.value&&(document.querySelectorAll(".cc_email")[0].value=t.target.value)})}break;case"control_wepay":var n=r.hasQuestion(t,"control_email");if(!1!==n){var a=document.querySelectorAll('input[type="email"]');a[0].observe("blur",function(t){t.target.value&&(document.querySelectorAll(".cc_email")[0].value=t.target.value)})}var l=r.hasQuestion(t,"control_address");if(!1!==l){var l=document.querySelectorAll(".form-address-postal");l[0].observe("blur",function(t){t.target.value&&(document.querySelectorAll(".cc_zipcode")[0].value=t.target.value)})}}})},setQuestionMasking:function(t,r,o,n){if(o){o=o.replace(/&#39;/g,"'");var n=!!n&&n,a=o.replace(/#/g,"_");jQuery.mask.definitions={"#":"[0-9]"},"textMasking"===r&&(jQuery.mask.definitions["@"]="[A-Za-z--]",jQuery.mask.definitions["*"]="[0-9A-Za-z--]",a=a.replace(/\*|@/g,"_"));var l=jQuery(t);if(n)l.mask("unmask").off("blur");else{l.mask(o,{placeholder:"_",autoclear:!1}).on("blur",function(t){t.target.dispatchEvent(new Event("change"))}).attr("maskValue",o).attr("placeholder",a);var u=l.val().indexOf("_");l.caret(u)}}},setInputTextMasking:function(t,r,o){setTimeout(function(){JotForm.setQuestionMasking("#"+t,"textMasking",r,o)},10)},setPhoneMaskingValidator:function(t,r,o){setTimeout(function(){JotForm.setQuestionMasking("#"+t,"phoneMasking",r,o)},10)},loadScript:function(){var t,r,o=arguments.length,n=arguments[o-1]instanceof Function;function a(){--o||t()}n?(o--,t=arguments[arguments.length-1]):t=function(){};for(var l=0;l<o;l++){if((r=document.createElement("script")).src=arguments[l],void 0!==r.addEventListener)r.addEventListener("load",t,!1);else{var u=function(){"loaded"==r.readyState&&t()};r.attachEvent("onreadystatechange",u)}(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}},loadStyleSheet:function(t,r){var o=document.createElement("link");o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",t),(document.head||document.getElementsByTagName("head")[0]).appendChild(o),o.readyState?o.onreadystatechange=function(){("loaded"==o.readyState||"complete"==o.readyState)&&(o.onreadystatechange=null,r&&r())}:navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)?r&&r():o.onload=function(){r&&r()}},isStyleSheetLoaded:function(t){var r=!1,o=document.styleSheets;for(var n in o){var a=o[n];if(a.href&&~a.href.indexOf(t)){r=!0;break}}return r},track:function(t,r){var o,n,a=this;if(!(document.querySelectorAll("#event_tracking_image").length>0)){var l=document.querySelectorAll(".jotform-form")[0],u=l.getAttribute("id");try{o=encodeURIComponent(document.referrer)}catch(c){o="undefined"}try{n=encodeURIComponent(window.top.location.href)}catch(d){n="undefined"}var p=window.screen.height,f=window.screen.width;if(!u)return!1;if(l&&location&&location.href&&-1==location.href.indexOf("&nofs")){var m=y();h(g(m),l),v(m)}}function h(t,r){r.parentNode.insertBefore(t,r.nextSibling)}function g(t){var r,l="//events.jotform.com/";a.jsForm?l+="jsform/":l+="form/";var c=l+u+"/";p&&f&&(r=f+"x"+p),c=c+"?ref="+encodeURIComponent(o),r&&(c=c+"&res="+encodeURIComponent(r)),t&&(c=c+"&eventID="+encodeURIComponent(t)),c=c+"&loc="+encodeURIComponent(n);var d=new Image;return d.id="event_tracking_image",d.src=c,d.alt="jftr",d.style.display="none",d}function v(t){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","event_id"),r.value=t,l.appendChild(r)}function y(){return 1*new Date+"_"+u+"_"+$(7)}function $(t){charSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var r="",o=0;o<t;o++){var n=Math.floor(Math.random()*charSet.length);r+=charSet.substring(n,n+1)}return r}},additionalActionsFormEmbedded:function(){var t=this,r=getQuerystring("embeddedvia");if(r&&"weebly"===r&&!t.isStyleSheetLoaded("mobile.responsive.min.css")){var o="https://widgets.jotform.io/mobileResponsive/mobile.responsive.min.css";t.loadStyleSheet(o,function(){t.handleIFrameHeight()})}},changeSubmitURL:function(t){if(t.length>0)for(var r=this.forms.length-1;r>=0;r--){var o=this.forms[r];o.action=o.action.replace(/\/\/submit\..*?\//,"//"+t+"/")}},handleChinaCensorship:function(){this.getClientCountry((function(t){var r=t.country;r.length>0&&"cn"===r.toLowerCase()&&this.changeSubmitURL("china.jotfor.ms")}).bind(this))},handlePreview:function(t){document.querySelectorAll("body")[0].setStyle({overflowX:"hidden"}),$jotA(JotForm.forms).each(function(r){var o=document.createElement("input");if(o.setAttribute("type","hidden"),o.setAttribute("name","preview"),o.value="true",r.appendChild(o),!0===t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src","//cdn.jotfor.ms/js/form-tester.js?rev="+new Date().getTime()),r.appendChild(n)}})},getClientCountry:function(t){new Ajax.Request("//china.jotfor.ms/opt/geo.ip.php",{evalJSON:"force",onComplete:function(r){200===r.status?t(r.responseJSON):t({country:""})}})},updateMatrixInputs:function(t,r){var o=document.getElementById("matrix_"+t),n=o.getAttribute("data-type"),a=$jot(o).select(".forDesktop")[0],l=$jot(o).select(".forMobile")[0];if("mobile"===r)var u=l,c=a;else var u=a,c=l;$jot(u).select(".form-matrix-values").each(function(t){$jot(t).removeClassName("form-matrix-values"),$jot(t).addClassName("form-matrix-values-disabled")});var d=$jot(u).select("input");"Yes No"!==n&&d.each(function(t){0>t.id.indexOf("disabled")&&(t.id+="_disabled",t.setAttribute("data-name",t.getAttribute("name")),t.removeAttribute("name"))}),$jot(c).select(".form-matrix-values").each(function(t){$jot(t).removeClassName("form-matrix-values-disabled"),$jot(t).addClassName("form-matrix-values")}),$jot(c).select("input").each(function(t){t.id=t.id.replace("_disabled",""),t.getAttribute("data-name")&&(t.setAttribute("name",t.getAttribute("data-name")),t.removeAttribute("data-name"))}),$jot(u).addClassName("hidden-matrix"),$jot(c).removeClassName("hidden-matrix")},setMatrixLayout:function(t,r,o){var n=document.getElementById("matrix_"+t),a=$jot(n).select(".forDesktop")[0],l=$jot(n).select(".forMobile")[0],u=n.getAttribute("data-type");if(!r&&(a&&"none"!==a.getStyle("display")&&l?this.updateMatrixInputs(t,"mobile"):l&&"none"!==l.getStyle("display")&&a&&this.updateMatrixInputs(t,"desktop")),["Slider","Emoji Slider","Yes No"].indexOf(u)>-1&&a){var c=a.getElementsByClassName("jfMatrixLabelList-item"),d=a.getElementsByClassName("jfMatrixInputList-item");Array.prototype.forEach&&Array.prototype.forEach.call(c,function(t,r){var o=d[r];o&&t&&(o.style.height=t.offsetHeight+"px")})}if(-1===["Slider","Emoji Slider"].indexOf(u)){if($jot(n).select(".forDesktop").length>0){for(var p=n.getElementsByClassName("jfMatrixHeader-item"),f=n.getElementsByClassName("jfMatrixTable-cell"),m=1;m<p.length;m++){var h=f[m].down();if(5>p[m].getElementsByTagName("div")[0].getLayout().get("width"))var g=80;else var g=p[m].getElementsByTagName("div")[0].getLayout().get("padding-box-width");h.style.width=g+"px"}if(p&&p.length){p[0].getElementsByTagName("div")[0].style.width=f[0].getElementsByTagName("div")[0].getLayout().get("padding-box-width")+"px";var v=n.getElementsByClassName("jfMatrixTable")[0],y=n.getElementsByClassName("jfMatrixHeader")[0];v.addEventListener("scroll",function(){y.scrollLeft=v.scrollLeft})}}if($jot(n).select(".forMobile").length>0){var $=function(t){var r=$jot(n).select(".jfMatrix-question"),o=$jot(n).select(".jfMobileMatrix-columnDot"),a=isBackEnabled=!0;r.each(function(r){r.removeClassName("isActive"),r.readAttribute("data-order")==t&&$jot(r).addClassName("isActive")}),o&&o.each(function(r){r.removeClassName("isActive"),r.readAttribute("data-order")==t&&$jot(r).addClassName("isActive")}),$jot(n).select(".jfMatrix-choiceWrapper").each(function(r){r.removeClassName("isActive"),r.readAttribute("data-order")==t&&$jot(r).addClassName("isActive")}),parseInt(t,10)===r.length-1?a=!1:0===parseInt(t,10)&&(isBackEnabled=!1),$jot(n).select(".forMatrixPrev").length>0&&($jot(n).select(".forMatrixPrev")[0].disabled=!isBackEnabled),$jot(n).select(".forMatrixNext").length>0&&($jot(n).select(".forMatrixNext")[0].disabled=!a),$jot(n).select(".jfMatrixProgress-text span")[0].innerHTML=t+1};o&&$(o);var b=function(){$jot(this).stopObserving("click"),$jot(n).select(".jfMatrix-question");var t=parseInt($jot(n).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));t=parseInt(t,10)+1,$(t),$jot(this).observe("click",b)},_=function(){$jot(this).stopObserving("click"),$jot(n).select(".jfMatrix-question");var t=parseInt($jot(n).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));t=parseInt(t,10)-1,$(t),$jot(this).observe("click",_)};$jot(n).select(".forMatrixNext").length>0&&$jot(n).select(".forMatrixNext")[0].observe("click",b),$jot(n).select(".forMatrixPrev").length>0&&$jot(n).select(".forMatrixPrev")[0].observe("click",_);var F=function(t,r){for(;(t=t.parentElement)&&!t.classList.contains(r););return t};r||l.hasClassName("hidden-matrix")||$jot(n).select("input").each(function(t){if("radio"==t.type){var r=function(){if($jot(this).stopObserving("click"),!l.hasClassName("hidden-matrix")){var t,o,a=F(this,"jfMatrixChoice-table");$jot(a).select(".jfMatrixChoice-row.isSelected").length>0&&$jot(a).select(".jfMatrixChoice-row.isSelected")[0].removeClassName("isSelected"),F(this,"jfMatrixChoice-row").addClassName("isSelected"),setTimeout(function(){var t=$jot(n).select(".jfMatrixProgress-button.forMatrixNext")[0];null==$jot(t).readAttribute("disabled")&&$jot(t).triggerEvent("click")},500),$jot(this).observe("click",r)}};t.observe("click",r)}})}}},setMatrix2Layout:function(t,r,o){var n=document.getElementById("matrix_"+t),a=n.getAttribute("data-type"),l=$jot(n).select(".forDesktop")[0],u=$jot(n).select(".forMobile")[0];if(!r&&(l&&"none"!==l.getStyle("display")&&u?this.updateMatrixInputs(t,"mobile"):u&&"none"!==u.getStyle("display")&&l&&this.updateMatrixInputs(t,"desktop")),-1===["Slider","Smiley Slider"].indexOf(a)){if($jot(n).select(".forDesktop").length>0){var c=$jot(n).select(".forDesktop .jfMatrixTable .jfMatrixTable-row"),d=$jot(n).select(".forDesktop .jfMatrixTable-labelRow");c.each(function(t,r){t.style.height=d[r].offsetHeight+"px"})}if($jot(n).select(".forMobile").length>0){var p=function(t){var r=$jot(n).select(".jfMatrix-question"),o=$jot(n).select(".jfMobileMatrix-columnDot"),a=isBackEnabled=!0;r.each(function(r){r.removeClassName("isActive"),r.readAttribute("data-order")==t&&$jot(r).addClassName("isActive")}),o&&o.each(function(r){r.removeClassName("isActive"),r.readAttribute("data-order")==t&&$jot(r).addClassName("isActive")}),$jot(n).select(".jfMatrix-choiceWrapper").each(function(r){r.removeClassName("isActive"),r.readAttribute("data-order")==t&&$jot(r).addClassName("isActive")}),parseInt(t,10)===r.length-1?a=!1:0===parseInt(t,10)&&(isBackEnabled=!1),$jot(n).select(".forMatrixPrev")[0].disabled=!isBackEnabled,$jot(n).select(".forMatrixNext")[0].disabled=!a,$jot(n).select(".jfMatrixProgress-text span")[0].innerHTML=t+1};o&&p(o);var f=function(){$jot(this).stopObserving("click"),$jot(n).select(".jfMatrix-question");var t=parseInt($jot(n).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));t=parseInt(t,10)+1,p(t),$jot(this).observe("click",f)},m=function(){$jot(this).stopObserving("click"),$jot(n).select(".jfMatrix-question");var t=parseInt($jot(n).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));t=parseInt(t,10)-1,p(t),$jot(this).observe("click",m)};$jot(n).select(".forMatrixNext").length>0&&$jot(n).select(".forMatrixNext")[0].observe("click",f),$jot(n).select(".forMatrixPrev").length>0&&$jot(n).select(".forMatrixPrev")[0].observe("click",m);var h=function(t,r){for(;(t=t.parentElement)&&!t.classList.contains(r););return t};r||u.hasClassName("hidden-matrix")||$jot(n).select("input").each(function(t){if("radio"==t.type){var r=function(){if($jot(this).stopObserving("click"),!u.hasClassName("hidden-matrix")){var t,o,a=h(this,"jfMatrixChoice-table");$jot(a).select(".jfMatrixChoice-row.isSelected").length>0&&$jot(a).select(".jfMatrixChoice-row.isSelected")[0].removeClassName("isSelected"),h(this,"jfMatrixChoice-row").addClassName("isSelected"),setTimeout(function(){var t=$jot(n).select(".forMatrixNext")[0];null==$jot(t).readAttribute("disabled")&&$jot(t).triggerEvent("click")},500),$jot(this).observe("click",r)}};t.observe("click",r)}})}}},setRatingLayout:function(t){if(document.getElementById("stage"))return null;"object"==typeof CardForm&&CardForm.layoutParams&&!1===CardForm.layoutParams.hasTouch&&JotForm.setRatingClickTransfer(t);var r=document.getElementById("rating_"+t),o=$jot(r).select(".jfRating-shortcut-input")[0],n=$jot(r).select(".jfRating-items")[0],a=$jot(r).select(".jfRating-input");JotForm.ratingFnQueues||(JotForm.ratingFnQueues=[]),JotForm.ratingFnQueues["fnQueue_"+t]=[],n.addEventListener("click",function(t){"object"==typeof CardForm&&CardForm.layoutParams&&!1===CardForm.layoutParams.hasTouch&&o&&o.focus()}),o.addEventListener("keyup",function(o){var n=this.value;if(n){if($jot(r).select(".jfRating-input:checked").length)var a=$jot(r).select(".jfRating-input:checked")[0].value;"-"===n&&(n=parseInt(a)-1),"+"===n&&(n=parseInt(a)+1),n=n.toString();var l=$jot(r).select(".jfRating-input[value="+n+"]")[0];l&&(l.checked="checked",JotForm.setRatingItemsChecked(t,n,a))}this.value=""}),a.each(function(o){o.addEventListener("mouseenter",function(){$jot(this).up(".jfRating-item").addClassName("indicate"),$jot(r).select(".jfRating-items .jfRating-item.jfRating-selection").each(function(t){if($jot(t).hasClassName("indicate"))throw $jotbreak;$jot(t).addClassName("indicate")})}),o.addEventListener("mouseleave",function(){a.each(function(t){t.up(".jfRating-item").removeClassName("indicate")})}),o.addEventListener("change",function(){JotForm.setRatingItemsChecked(t,this.value)})})},setRatingItemsChecked:function(t,r,o){JotForm.ratingFnQueues||(JotForm.ratingFnQueues=[]),JotForm.ratingFnQueues["fnQueue_"+t]||(JotForm.ratingFnQueues["fnQueue_"+t]=[]);var n=document.getElementById("rating_"+t),a=$jot(n).select(".jfRating-selection");isNaN(r)||parseInt(r);var o=!isNaN(o)&&parseInt(o)||null,l=$jot(n).select(".jfRating-input"),u=JotForm.ratingFnQueues["fnQueue_"+t],c=null,d=33;!o&&n.dataset.oldValue&&(o=n.dataset.oldValue),n.dataset.oldValue=r;var p={enqueue:function(t){u.push(t),null===c&&(c=setInterval(function(){p.processQueue()},d))},processQueue:function(){"function"==typeof u[0]&&u[0](),u.shift(),0===u.length&&(clearInterval(c),c=null)}};l.each(function(t){t.up(".jfRating-item").removeClassName("indicate")}),(o<r||null===o)&&a.each(function(t,r){if(t.dataset){var o=t.dataset.value;if(o&&(p.enqueue(function(){t.classList.add("checked")}),o===this.value))throw $jotbreak}},{value:r}),o&&o>r&&(a.reverse(),a.each(function(t,r){if(t.dataset){var o=t.dataset.value;if(o){if(o===this.value)throw $jotbreak;p.enqueue(function(){t.classList.remove("checked")})}}},{value:r})),$jot("input_"+t).value=r,n.select(".form-textbox")[0].value=parseInt(r,10),JotForm.runConditionForId(t.toString())},setRatingClickTransfer:function(t){document.body.addEventListener("click",function(){var r=document.querySelector(".jfCard-wrapper.isVisible #rating_"+t+" input");r&&r.focus()})},toggleImageOverlay:function(t,r){var o=document.getElementById("id_"+t).select(".js-openNewTab")[0],n=document.querySelector(".jfOverlay-close"),a=document.querySelectorAll(".js-overlayWrapper")[0],l=function(t){a.select(".js-overlayImage")[0].src=t?"":r,t?a.removeClassName("isVisible"):a.addClassName("isVisible")};$jot(o).observe("click",function(t){t.stop(),l(!1)}),$jot(n).observe("click",function(t){l(!0)}),$jot(a).observe("click",function(t){t.stop(),$jot(t.target).hasClassName("js-overlayImage")||l(!0)})},getScrollbarWidth:function(t){var r=document.createElement("div");r.style.visibility="hidden",r.style.width="100px",r.style.msOverflowStyle="scrollbar",t.appendChild(r);var o=r.offsetWidth;r.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",r.appendChild(n);var a=n.offsetWidth;return r.parentNode.removeChild(r),o-a},getOptionOtherInput:function(t){if(t){var r=t.up(".form-"+t.type+"-item");if(r){var o=".form-"+t.type+"-other-input";return r.down(o)}}return null},setFullNameAutoFocus:function(t){document.querySelectorAll("#prefix_"+t)[0].observe("change",function(){setTimeout(function(){document.querySelectorAll("#first_"+t)[0].focus()},500)})},initPaymentNew:function(t,r,o){JotForm.paymentNewVars={};var n=document.querySelectorAll("#id_"+t)[0],a=n.select(".js-product-wrapper")[0],l=n.select(".js-productModuleWrapper")[0],u=n.select(".paymentCard-list li:not(.zeroOption)"),c=n.select(".details-page")[0];u.each(function(r,o){r.observe("click",function(o){l.addClassName("animate");var u=n.select('.paymentCard-list [data-page="'+r.getAttribute("data-page")+'"]'),d=0;u.each(function(t,o){t.getAttribute("data-pid")===r.getAttribute("data-pid")&&(d=o)});var p=(r.getBoundingClientRect().height+16)*d;r.addClassName("no-transfom"),r.style.transform="translate(0, -"+p+"px)",n.select(".jfQuestion-label")[0].style.opacity=0;var f=n.select(".jfQuestion-description")[0],m=f?f.getBoundingClientRect().height:0;f.hide(),a.style["min-height"]=a.getBoundingClientRect().height+m,c.style.opacity=1,c.select(".js-product-detail").each(function(o){o.getAttribute("data-product")!==r.getAttribute("data-pid")?(o.style.opacity="0",o.style.zIndex="-1",o.removeClassName("js-activeDetail")):(o.style.opacity="1",o.style.zIndex="1",o.addClassName("js-activeDetail"),o.select("select, input").each(function(n){n.getAttribute("id")!=="input_"+t+"_"+r.getAttribute("data-pid")&&n.observe("change",function(){var n=o.select("#input_"+t+"_"+r.getAttribute("data-pid"))[0],a=o.select(".js-add-to-bag")[0];n&&n.checked&&!JotForm.isVisible(a)&&(a.hide(),o.select(".js-remove-from-bag")[0].hide(),o.select(".js-update-bag")[0].show())})}))})})}),setTimeout(function(){var t=n.select(".paymentCard-list")[0],r=t.getBoundingClientRect().height;t.style["min-height"]=r<188?"188px":r+"px";var o=n.select(".jfCard-question")[0];o.style["min-height"]=o.getBoundingClientRect().height+"px";var a=n.select(".jfQuestion-description")[0],u=a?a.getBoundingClientRect().height:0;n.select(".js-scroll").each(function(r){r.style.height=t.getBoundingClientRect().height+16-90+u+"px"});var c=n.select(".jfQuestion-label")[0].getBoundingClientRect().height,d=n.select(".js-header-wrapper")[0];d&&(d.style.height=c+"px"),l.style.minHeight=getComputedStyle(l).height},0);var d=function(t){n.select(".jfQuestion-label")[0].style.opacity=1,l.removeClassName("animate"),n.select(".details-page")[0].style.opacity=0,t&&a.show(),n.select(".paymentCard-list li:not(.zeroOption)").each(function(t){t.style.transform=null,t.removeClassName("no-transfom")});var r=n.select(".jfQuestion-description")[0];r&&r.getBoundingClientRect().height,r.show(),a.style["min-height"]=null},p=function(){return Object.keys(JotForm.prices).map(function(t){var r=t.split("_");return 3===r.length?t:4===r.length?(r.pop(),r.join("_")):void 0}).reduce(function(t,r){return -1===t.indexOf(r)&&t.push(r),t},[])},f=function(){var t=0;p().forEach(function(r){$jot(r).checked&&t++});var r=n.select(".paymentCard-shoppingButton")[0];r&&(t>0?r.removeClassName("disabled"):r.addClassName("disabled"),r.innerText=t+" items in your bag",n.select(".paymentCardSummary-subheader-itemCount")[0].innerText=t+" items in your bag")},m=function(){return p().reduce(function(t,r){return""!==t&&(t+=", "),t+='[id="'+r+'"]'},"")};n.select(".js-back-to-product")[0].observe("click",function(){document.querySelectorAll(".js-activeDetail")[0],f(),d()}),document.querySelectorAll(".js-product-detail").each(function(t){t.select(".js-add-to-bag")[0].observe("click",function(){var t=n.select(".js-activeDetail")[0],r=t.querySelector(m());r.checked=!0,r.triggerEvent("click");var o=t.getAttribute("data-product"),a=n.select('.paymentCard-listItem[data-pid="'+o+'"]')[0];a.addClassName("selected"),a.addClassName("with-edit-option"),a.select(".cta")[0].innerText="Edit",this.hide(),t.select(".js-remove-from-bag")[0].show(),f(),d()}),t.select(".js-remove-from-bag")[0].observe("click",function(){var t=n.select(".js-activeDetail")[0],r=t.querySelector(m());r.checked=!1,r.triggerEvent("click");var o=t.getAttribute("data-product"),a=n.select('.paymentCard-listItem[data-pid="'+o+'"]')[0];a.removeClassName("selected"),a.removeClassName("with-edit-option"),a.select(".cta")[0].innerText="View",this.hide(),t.select(".js-add-to-bag")[0].show(),f(),d()}),t.select(".js-update-bag")[0].observe("click",function(){var t=n.select(".js-activeDetail")[0],r=t.querySelector(m());r.checked=!0,r.triggerEvent("click");var o=t.getAttribute("data-product");n.select('.paymentCard-listItem[data-pid="'+o+'"]')[0].addClassName("selected"),this.hide(),t.select(".js-remove-from-bag")[0].show(),f(),d()})});var h=n.select(".paymentCard-shoppingButton")[0];h&&h.observe("click",function(){h.hasClassName("disabled")||(n.select(".jfQuestion-label")[0].style.opacity=0,n.select(".jfQuestion-description")[0].hide(),a.hide(),document.querySelectorAll(".paymentCardDetail-header-wrapper")[0].hide(),arrangeSummaryPage(),n.select(".summary-page")[0].style.opacity=1,n.select(".summary-page")[0].style.top=0)});var g=function(){n.select(".jfQuestion-label")[0].style.opacity=1,n.select(".summary-page")[0].style.opacity=0,n.select(".summary-page")[0].style.top="20%",document.querySelectorAll(".paymentCardDetail-header-wrapper")[0].show(),d(!0)};n.select(".paymentCardSummary-header")[0].observe("click",g),this.initPaymentNewPagination(n),this.initAddButtonsFromList(a,f),arrangeSummaryPage=function(){var t=document.querySelector(".summary-page"),n=t.querySelector(".js-paymentCardSummary-list");n.innerHTML="";var a=function(){var t="";if("TRY"===o)t="TL";else t="$jot";return t};(u=p()).forEach(function(o){if($jot(o).checked){var l=o.split("_");l=l[2];var u="";r.each(function(t){t.pid===l&&(u=t.name)});var c=JotForm.prices[o]?JotForm.prices[o].price:0,d=JotForm.prices[o]&&JotForm.prices[o].quantityField?document.querySelector("#"+JotForm.prices[o].quantityField).value:1,p=document.createElement("li");p.setAttribute("class","paymentCardSummary-listItem cf");var m=document.createElement("div");m.setAttribute("class","itemName"),m.innerHTML=d+" x "+u;var h=document.createElement("div");if(h.setAttribute("class","itemPrice"),h.innerHTML=a()+" "+c*d,JotForm.prices[o]&&Object.keys(JotForm.prices[o]).length>1){var v=document.createElement("button");v.setAttribute("type","button"),v.setAttribute("class","itemCta"),v.innerHTML="EDIT",v.setAttribute("data-id",o);var y=function(){var t=this.getAttribute("data-id");g();var r=document.querySelectorAll(".paymentCard-listItem"),o=0;r.forEach(function(r,n){r.getAttribute("data-input")===t&&(o=n)});var n=Math.ceil((o+1)/JotForm.paymentNewVars.productsPerPage);document.querySelector('.paymentCard-paginationListItem[data-page="'+n+'"]').click(),setTimeout(function(){document.querySelector('.paymentCard-listItem[data-input="'+t+'"]').click()},0)};v.addEventListener("click",y)}var $=document.createElement("button");$.setAttribute("type","button"),$.setAttribute("class","itemCta"),$.innerHTML="REMOVE",$.setAttribute("data-id",o),$.addEventListener("click",function(){var r=document.querySelectorAll(".js-productModuleWrapper")[0].select("#"+o)[0];if(r.checked=!1,r.triggerEvent("click"),r.up(".paymentCard-listItem")){r.up(".paymentCard-listItem").removeClassName("selected");var n=r.up(".paymentCard-listItem").down(".js-addProductFromList");n.removeClassName("js-remove"),n.textContent=n.getAttribute("data-text")}setTimeout((function(){f(),this.up(".paymentCardSummary-list").removeChild(this.up(".paymentCardSummary-listItem"));var r=document.querySelector(".form-payment-total.form-payment-label").cloneNode(!0),o=document.querySelector(".js-paymentCardSummary-footer");t.insertBefore(r,o),t.removeChild(o),r.setAttribute("class","paymentCardSummary-footer js-paymentCardSummary-footer")}).bind(this),0)}),p.appendChild(m),v&&p.appendChild(v),p.appendChild($),p.appendChild(h),n.appendChild(p)}});var l=document.querySelector(".form-payment-total.form-payment-label").cloneNode(!0),c=document.querySelector(".js-paymentCardSummary-footer");t.insertBefore(l,c),t.removeChild(c),l.setAttribute("class","paymentCardSummary-footer js-paymentCardSummary-footer")}},initAddButtonsFromList:function(t,r){t.querySelectorAll(".js-addProductFromList").forEach(function(o){o.up(".paymentCard-listItemDiv").addEventListener("click",function(n){n.stopPropagation();var a=o.up(".paymentCard-listItem"),l=a.down('[name="'+o.getAttribute("data-name")+'"]');l.checked?(l.checked=!1,o.textContent=o.getAttribute("data-text"),o.setAttribute("class","cta js-addProductFromList"),a.removeClassName("selected")):(l.checked=!0,"radio"===l.type&&document.querySelectorAll(".paymentCard-listItem").forEach(function(t){t.removeClassName("selected"),t.down(".js-addProductFromList").textContent=o.getAttribute("data-text"),t.down(".js-addProductFromList").setAttribute("class","cta js-addProductFromList")}),o.textContent="Remove",o.setAttribute("class","cta js-addProductFromList js-remove"),a.addClassName("selected"));var u=t.select(".paymentCard-footer-wrapper")[0];u.addClassName("prrrrr"),setTimeout(function(){u.removeClassName("prrrrr")},350),l.triggerEvent("click"),r()})})},initPaymentNewPagination:function(t){var r,o=t.select(".js-productModuleWrapper")[0].getBoundingClientRect().height,n=t.select(".paymentCard-pagination")[0],a=Math.floor(t.select(".paymentCard-listItem")[0].getBoundingClientRect().height),l=o-(n.getBoundingClientRect().height+73)-32-16-1;JotForm.paymentNewVars.productsPerPage=parseInt(l/a,10)||1,JotForm.paymentNewVars.productsPerPage=JotForm.paymentNewVars.productsPerPage>4?4:JotForm.paymentNewVars.productsPerPage;var u=t.select(".paymentCard-listItem");if(JotForm.paymentNewVars.productsPerPage>=u.length)n.style.opacity=0,u.each(function(t,r){t.setAttribute("data-page",Math.ceil((r+1)/JotForm.paymentNewVars.productsPerPage))});else{u.each(function(t,r){t.setAttribute("data-page",Math.ceil((r+1)/JotForm.paymentNewVars.productsPerPage)),r+1>JotForm.paymentNewVars.productsPerPage&&t.hide()});for(var c=t.select(".paymentCard-paginationList")[0],d=Math.ceil(u.length/JotForm.paymentNewVars.productsPerPage),p=function(t){for(var r=0;r<u.length;r++)r<(t-1)*JotForm.paymentNewVars.productsPerPage||r+1>t*JotForm.paymentNewVars.productsPerPage?u[r].hide():u[r].show()},f=t.select(".paymentCard-paginationLeft")[0],m=t.select(".paymentCard-paginationRight")[0],h=0;h<d;h++){var g=document.createElement("li");g.className=0===h?"paymentCard-paginationListItem active":"paymentCard-paginationListItem",g.setAttribute("data-page",h+1);var v=document.createElement("button");v.setAttribute("type","button"),v.innerText=h+1,g.observe("click",function(){c.select(".paymentCard-paginationListItem").each(function(t){t.removeClassName("active")}),this.addClassName("active");var t=parseInt(this.getAttribute("data-page"),10);1===t?(f.addClassName("disabled"),f.setAttribute("disabled","disabled"),m.removeClassName("disabled"),m.removeAttribute("disabled")):t===d?(f.removeClassName("disabled"),f.removeAttribute("disabled"),m.addClassName("disabled"),m.setAttribute("disabled","disabled")):(f.removeClassName("disabled"),f.removeAttribute("disabled"),m.removeClassName("disabled"),m.removeAttribute("disabled")),p(this.getAttribute("data-page"))}),g.appendChild(v),c.appendChild(g)}f.observe("click",function(){var t=c.select(".paymentCard-paginationListItem.active")[0],r=parseInt(t.getAttribute("data-page"),10),o=document.querySelectorAll(".paymentCard-paginationListItem[data-page="+(r-1)+"]")[0];o&&o.addClassName("active"),t.removeClassName("active"),m.removeClassName("disabled"),m.removeAttribute("disabled"),p(r-1),r-1<=1&&(f.addClassName("disabled"),f.setAttribute("disabled","disabled"))}),m.observe("click",function(){var r=c.select(".paymentCard-paginationListItem.active")[0],o=parseInt(r.getAttribute("data-page"),10),n=t.select('.paymentCard-paginationListItem[data-page="'+(o+1)+'"]')[0];n&&n.addClassName("active"),r.removeClassName("active"),f.removeClassName("disabled"),f.removeAttribute("disabled"),p(o+1),o+1>=d&&(m.addClassName("disabled"),m.setAttribute("disabled","disabled"))})}}};function getQuerystring(t,r){null==r&&(r="");var o=RegExp("[\\?&]"+(t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(window.location.href);return null==o?r:o[1]}function onProductImageClicked(t){if(document.getElementById("payment_enable_lightbox")&&(window.getAllProperties&&window.getAllProperties().form_products?r=window.getAllProperties().form_products.map(function(t){return t.icon}).filter(function(t){return t}):document.querySelectorAll&&(r=Array.prototype.map.call(document.querySelectorAll(".form-product-item img"),function(t){return t.src})),r&&r.length)){var r,o=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");o.id="productImageOverlay",o.className="overlay",o.tabIndex=-1,n.className="overlay-content",a.className="img-wrapper",o.appendChild(n),n.appendChild(a);var l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");l.innerText="prev",u.innerText="next",c.innerText="( X )",l.className="lb-prev-button",u.className="lb-next-button",c.className="lb-close-button",n.appendChild(l),n.appendChild(u),n.appendChild(c);var d=r.map(function(t){var r=document.createElement("img");return r.style.display="none",r.src=t,r});d[t].style.display="block",d.forEach(function(t){a.appendChild(t)});var p=t,f=d.length,m=function(){d[p].style.display="none",-1==(p-=1)&&(p=f-1),d[p].style.display="block",v()};l.onclick=m;var h=function(){d[p].style.display="none",(p+=1)==f&&(p=0),d[p].style.display="block",v()};u.onclick=h,n.onclick=function(t){t.stopPropagation()};var g=function(){window.onresize=null,o.remove()};c.onclick=g,o.onclick=g;var v=function(){var t=window.innerWidth,r=window.innerHeight,o=.75*Math.min(t,r)+"px",a=t<r?{maxWidth:o,height:"auto",width:"auto",maxHeight:"none"}:{width:"auto",maxHeight:o,height:"auto",maxWidth:"none"};n.style.maxWidth=a.maxWidth,n.style.maxHeight=a.maxHeight,n.style.width=a.width,n.style.height=a.height,d[p].style.maxHeight=a.maxHeight,d[p].style.maxWidth=a.maxWidth,d[p].style.width=a.width,d[p].style.height=a.height},y=function(t){v()};window.onresize=y,o.onkeydown=function(t){t.stopPropagation(),t.preventDefault(),37==t.keyCode||38==t.keyCode?m():39==t.keyCode||40==t.keyCode?h():27==t.keyCode&&o.remove()},document.body.appendChild(o),o.focus(),v()}}window.fbAsyncInit=JotForm.FBInit.bind(JotForm);var Calendar=Class.create();Calendar.VERSION="1.2",Calendar.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Calendar.SHORT_DAY_NAMES=["S","M","T","W","T","F","S","S"],Calendar.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],Calendar.TODAY="Today",Calendar.SHORT_MONTH_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Calendar.NAV_PREVIOUS_YEAR=-2,Calendar.NAV_PREVIOUS_MONTH=-1,Calendar.NAV_TODAY=0,Calendar.NAV_NEXT_MONTH=1,Calendar.NAV_NEXT_YEAR=2,Calendar._checkCalendar=function(t){return!!window._popupCalendar&&(Element.descendantOf(Event.element(t),window._popupCalendar.container)?void 0:(window._popupCalendar.callCloseHandler(),Event.stop(t)))},Calendar.handleMouseDownEvent=function(t){Event.observe(document,"mouseup",Calendar.handleMouseUpEvent),Event.stop(t)},Calendar.handleMouseUpEvent=function(t){var r=Event.element(t),o=r.calendar,n=!1;if(!o||(o.shouldClose=!1,r.hasClassName("unselectable")))return!1;if(void 0===r.navAction)o.currentDateElement&&(Element.removeClassName(o.currentDateElement,"selected"),Element.addClassName(r,"selected"),o.shouldClose=o.currentDateElement==r,o.shouldClose||(o.currentDateElement=r)),o.date.setDateOnly(r.date),n=!0,o.shouldClose=!r.hasClassName("otherDay"),o.shouldClose||o.update(o.date);else{var a=new Date(o.date);r.navAction==Calendar.NAV_TODAY&&a.setDateOnly(new Date);var l=a.getFullYear(),u=a.getMonth();function c(t){var r=a.getDate(),o=a.getMonthDays(t);r>o&&a.setDate(o),a.setMonth(t)}switch(r.navAction){case Calendar.NAV_PREVIOUS_YEAR:l>o.minYear&&a.setFullYear(l-1);break;case Calendar.NAV_PREVIOUS_MONTH:u>0?c(u-1):l-- >o.minYear&&(a.setFullYear(l),c(11));break;case Calendar.NAV_TODAY:break;case Calendar.NAV_NEXT_MONTH:u<11?c(u+1):l<o.maxYear&&(a.setFullYear(l+1),c(0));break;case Calendar.NAV_NEXT_YEAR:l<o.maxYear&&a.setFullYear(l+1)}a.equalsTo(o.date)?0===r.navAction&&(n=o.shouldClose=!0):(o.setDate(a),n=!0),o.checkPastAndFuture()}return n&&t&&o.callSelectHandler(),o.shouldClose&&t&&o.callCloseHandler(),Event.stopObserving(document,"mouseup",Calendar.handleMouseUpEvent),Event.stop(t)},Calendar.defaultSelectHandler=function(t){if(!t.dateField)return!1;"DIV"==t.dateField.tagName?Element.update(t.dateField,t.date.print(t.dateFormat)):"INPUT"==t.dateField.tagName&&(t.dateField.value=t.date.print(t.dateFormat)),"function"==typeof t.dateField.onchange&&t.dateField.onchange(),t.shouldClose&&t.callCloseHandler()},Calendar.defaultCloseHandler=function(t){t.hide()},Calendar.setup=function(t){function r(r,o){t[r]||(t[r]=o)}if(r("dateField",null),r("triggerElement",null),r("parentElement",null),r("selectHandler",null),r("closeHandler",null),t.parentElement){var o=new Calendar(t.parentElement);return o.setSelectHandler(t.selectHandler||Calendar.defaultSelectHandler),t.dateFormat&&o.setDateFormat(t.dateFormat),t.dateField&&(o.setDateField(t.dateField),o.parseDate(o.dateField.innerHTML||o.dateField.value)),o.limits=t.limits,o.limits&&(o.fixCustomLimits(),o.setDynamicLimits(),o.update(o.date),o.checkPastAndFuture()),o.show(),o}var n=$jot(t.triggerElement||t.dateField),o=new Calendar;o.limits=t.limits,o.limits&&(o.fixCustomLimits(),o.setDynamicLimits()),o.setSelectHandler(t.selectHandler||Calendar.defaultSelectHandler),o.setCloseHandler(t.closeHandler||Calendar.defaultCloseHandler),o.startOnMonday=t.startOnMonday,t.dateFormat&&o.setDateFormat(t.dateFormat),t.dateField&&(o.setDateField(t.dateField),o.parseDate(o.dateField.innerHTML||o.dateField.value)),t.dateField&&Date.parseDate(o.dateField.value||o.dateField.innerHTML,o.dateFormat),n.onclick=function(){return(!o.dateField||!o.dateField.disabled)&&(o.showAtElement(n),o)};try{var a=function(){if(o.dateField.id){var t=o.dateField.id.replace("year_","");if(!$jot("month_"+t))return new Date;t&&(o.id=t);var r=$jot("month_"+t)?parseInt($jot("month_"+t).value)-1:-1,n=$jot("day_"+t).value,a=$jot("year_"+t).value;if(r>-1&&n&&""!==n&&a&&""!==a){var l=new Date(a,r,n,0,0,0);o.date.equalsTo(l)||(o.date=l,o.update(o.date))}}};a(),o.dateField.up("li").observe("date:changed",function(){a()})}catch(l){console.log(l)}return o.limits&&(o.update(o.date),o.checkPastAndFuture()),o.startOnMonday&&(o.update(o.date),o.create()),o},Calendar.prototype={container:null,selectHandler:null,closeHandler:null,id:null,minYear:1900,maxYear:2100,dateFormat:"%Y-%m-%d",date:new Date,currentDateElement:null,shouldClose:!1,isPopup:!0,dateField:null,startOnMonday:!1,initialize:function(t){t?this.create($jot(t)):this.create()},fixCustomLimits:function(){var t=function(t){if(t.indexOf("today")>-1)return t;var r=t.toString().split("-");return t="",r.length>2&&(t+=(2===r[0].length?"20"+r[0]:r[0])+"-"),r.length>1&&(t+=JotForm.addZeros(r[r.length-2],2)+"-"),t+=JotForm.addZeros(r[r.length-1],2)},r=this.limits;if("custom"in r&&!1!==r.custom&&r.custom instanceof Array)for(var o=0;o<r.custom.length;o++)r.custom[o]&&(r.custom[o]=t(r.custom[o]));if("ranges"in r&&!1!==r.ranges&&r.ranges instanceof Array){for(var o=0;o<r.ranges.length;o++)if(r.ranges[o]&&-1!==r.ranges[o].indexOf(">")){var n=r.ranges[o].split(">"),a=t(n[0]),l=t(n[1]);r.ranges[o]=a+">"+l}}},setDynamicLimits:function(){var t=function(t){if(!(t.indexOf("today")>-1))return t;var r=new Date,o=parseInt(t.replace(/\s/g,"").split("today")[1])||0;return r.setDate(r.getDate()+o),r.getFullYear()+"-"+JotForm.addZeros(r.getMonth()+1,2)+"-"+JotForm.addZeros(r.getDate(),2)},r=this.limits;if(r.start=t(r.start),r.end=t(r.end),"custom"in r&&!1!==r.custom&&r.custom instanceof Array)for(var o=0;o<r.custom.length;o++)r.custom[o]&&(r.custom[o]=t(r.custom[o]));if("ranges"in r&&!1!==r.ranges&&r.ranges instanceof Array){for(var o=0;o<r.ranges.length;o++)if(r.ranges[o]&&-1!==r.ranges[o].indexOf(">")){var n=r.ranges[o].split(">");start=t(n[0]),end=t(n[1]),r.ranges[o]=start+">"+end}}},update:function(t){var r=this,o=new Date,n=o.getFullYear(),a=o.getMonth(),l=o.getDate(),u=t.getMonth(),c=t.getDate();t.getFullYear()<this.minYear?t.setFullYear(this.minYear):t.getFullYear()>this.maxYear&&t.setFullYear(this.maxYear),this.date=new Date(t),t.setDate(1),r.startOnMonday?t.setDate(-t.getDay()-5):t.setDate(-t.getDay()+1),this.id&&this.container.setAttribute("id","calendar_"+this.id),Element.getElementsBySelector(this.container,"tbody tr").each(function(o,d){var p=!1;o.immediateDescendants().each(function(o,f){var m=t.getDate(),h=t.getDay(),g=t.getMonth()==u;o.className="",o.date=new Date(t),o.update(m),g?p=!0:o.addClassName("otherDay"),g&&m==c&&(o.addClassName("selected"),r.currentDateElement=o);var v=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],y=function(){t.getFullYear()==n&&t.getMonth()==a&&m==l&&document.querySelectorAll(".todayButton").length>0&&(document.querySelectorAll(".todayButton").first().setStyle({color:"white"}),document.querySelectorAll(".todayButton").first().addClassName("unselectable")),o.setOpacity(.5),o.addClassName("unselectable")},$=function(){o.setOpacity(1),o.removeClassName("unselectable")};if(r.limits){var b=r.limits;if($(),v[d]in b.days&&!1==b.days[v[h]]&&y(),"future"in b&&!1===b.future){var _=new Date;t>_&&y()}if("past"in b&&!1===b.past){var _=new Date,F=new Date;F.setDate(_.getDate()-1),t<F&&y()}if("start"in b&&!1!=b.start&&""!=b.start){var j=!1;if(b.start.indexOf("{")>-1)j=JotForm.dateFromField(b.start);else{var S=b.start.split("-");3==S.length&&(j=new Date(S[0],S[1]-1,S[2]))}t<j&&y()}if("end"in b&&!1!=b.end&&""!=b.end){if(b.end.indexOf("{")>-1)w=JotForm.dateFromField(b.end);else{var C=b.end.split("-");if(3==C.length)var w=new Date(C[0],C[1]-1,C[2])}if(w){var A=new Date(w);A.setDate(w.getDate()+1),t>=A&&y()}}if("custom"in b&&!1!==b.custom&&b.custom instanceof Array){for(var f=0;f<b.custom.length;f++)if(b.custom[f]){var E=t.getMonth()+1;E=E<10?"0"+E:E;var q=m<10?"0"+m:m;if(b.custom[f].indexOf("{")>-1){var T=JotForm.dateFromField(b.custom[f]);(T=JotForm.addZeros(T.getFullYear(),2)+"-"+JotForm.addZeros(T.getMonth()+1,2)+"-"+JotForm.addZeros(T.getDate(),2))==t.getFullYear()+"-"+E+"-"+q&&y()}(b.custom[f]===t.getFullYear()+"-"+E+"-"+q||"string"==typeof b.custom[f]&&5===b.custom[f].length&&b.custom[f]===E+"-"+q||"string"==typeof b.custom[f]&&2===b.custom[f].length&&b.custom[f]==q)&&y()}}if("ranges"in b&&!1!==b.ranges&&b.ranges instanceof Array){for(var f=0;f<b.ranges.length;f++)if(b.ranges[f]&&-1!==b.ranges[f].indexOf(">")){var w,j,N=b.ranges[f].split(">"),S=N[0],C=N[1];S.indexOf("{")>-1?j=JotForm.dateFromField(S):(j=S.split("-"),j=new Date(j[0],j[1]-1,j[2],0,0,0)),C.indexOf("{")>-1?w=JotForm.dateFromField(C):(w=C.split("-"),w=new Date(w[0],w[1]-1,w[2],0,0,0)),w&&(w.setDate(w.getDate()+1),t>=j&&t<w&&y())}}}t.getFullYear()==n&&t.getMonth()==a&&m==l&&o.addClassName("today"),-1!=[0,6].indexOf(h)&&o.addClassName("weekend"),t.setDate(m+1)}),p?o.show():o.hide()}),this.container.getElementsBySelector("td.title")[0].update(Calendar.MONTH_NAMES[u]+" "+this.date.getFullYear())},checkPastAndFuture:function(){var t=new Date,r=t.getFullYear(),o=t.getMonth(),n=this.date.getFullYear(),a=this.date.getMonth(),l=function(t){t.setStyle({color:"white"}),t.addClassName("unselectable")},u=function(t){t.setStyle({color:"#f9621a"}),t.removeClassName("unselectable")};this.limits&&("future"in this.limits&&!1===this.limits.future&&(n>=r?l(this.container.down(".nextYear")):u(this.container.down(".nextYear")),n>=r&&a>=o?l(this.container.down(".nextMonth")):u(this.container.down(".nextMonth"))),"past"in this.limits&&!1===this.limits.past&&(n<=r?l(this.container.down(".previousYear")):u(this.container.down(".previousYear")),n<=r&&a<=o?l(this.container.down(".previousMonth")):u(this.container.down(".previousMonth"))))},setNames:function(){Calendar.MONTH_NAMES=JotForm.calendarMonthsTranslated||JotForm.calendarMonths||Calendar.MONTH_NAMES,Calendar.DAY_NAMES=JotForm.calendarDaysTranslated||JotForm.calendarDays||Calendar.DAY_NAMES;for(var t=0;t<=7;t++)Calendar.SHORT_DAY_NAMES[t]=Calendar.DAY_NAMES[t].substring(0,1).toUpperCase();JotForm.calendarTodayTranslated?Calendar.TODAY=JotForm.calendarTodayTranslated:JotForm.calendarOther&&JotForm.calendarOther.today&&(Calendar.TODAY=JotForm.calendarOther.today)},create:function(t){this.setNames(),t?this.isPopup=!1:(t=document.getElementsByTagName("body")[0],this.isPopup=!0);var r=this.table?this.table.update(""):new Element("table");this.table=r;var o=new Element("thead");r.appendChild(o);var n=new Element("tr"),a=new Element("td",{colSpan:7});a.addClassName("title"),n.appendChild(a),o.appendChild(n),n=new Element("tr"),this._drawButtonCell(n,"&#x00ab;",1,Calendar.NAV_PREVIOUS_YEAR,"previousYear"),this._drawButtonCell(n,"&#x2039;",1,Calendar.NAV_PREVIOUS_MONTH,"previousMonth"),this._drawButtonCell(n,Calendar.TODAY,3,Calendar.NAV_TODAY,"todayButton"),this._drawButtonCell(n,"&#x203a;",1,Calendar.NAV_NEXT_MONTH,"nextMonth"),this._drawButtonCell(n,"&#x00bb;",1,Calendar.NAV_NEXT_YEAR,"nextYear"),o.appendChild(n),n=new Element("tr");for(var l=this.startOnMonday?1:0,u=this.startOnMonday?7:6,c=l;c<=u;++c)a=new Element("th").update(Calendar.SHORT_DAY_NAMES[c]),(0===c||6==c)&&a.addClassName("weekend"),n.appendChild(a);o.appendChild(n);var d=r.appendChild(new Element("tbody"));for(c=7;c>0;--c){(n=d.appendChild(new Element("tr"))).addClassName("days");for(var p=7;p>0;--p)(a=n.appendChild(new Element("td"))).calendar=this}this.container=new Element("div"),this.container.addClassName("calendar"),this.isPopup&&(this.container.setStyle({position:"absolute",display:"none"}),this.container.addClassName("popup")),this.container.appendChild(r),this.update(this.date),Event.observe(this.container,"mousedown",Calendar.handleMouseDownEvent),t.appendChild(this.container)},_drawButtonCell:function(t,r,o,n,a){var l=new Element("td");return o>1&&(l.colSpan=o),l.className="button"+(a?" "+a:""),l.calendar=this,l.navAction=n,l.innerHTML=r,l.unselectable="on",t.appendChild(l),l},callSelectHandler:function(){this.selectHandler&&this.selectHandler(this,this.date.print(this.dateFormat))},callCloseHandler:function(){this.closeHandler&&this.closeHandler(this)},show:function(){this.container.show(),this.isPopup&&(window._popupCalendar=this,Event.observe(document,"mousedown",Calendar._checkCalendar))},showAt:function(t,r){this.show(),this.container.setStyle({left:t+"px",top:r+"px"})},showAtElement:function(t){var r=t.up("div").down("input");!1===r.up("div").visible()&&(r=t);var o=Position.cumulativeOffset(r),n=o[0]+40,a=o[1]+100+r.getHeight();if(t.id.match(/_pick$jot/)){var l=Position.cumulativeOffset(t),u=l[0]-140;u>n&&(n=u),a=l[1]+100+t.getHeight()}this.showAt(n,a)},hide:function(){this.isPopup&&Event.stopObserving(document,"mousedown",Calendar._checkCalendar),this.container.hide()},parseDate:function(t,r){r||(r=this.dateFormat),this.setDate(Date.parseDate(t,r))},setSelectHandler:function(t){this.selectHandler=t},setCloseHandler:function(t){this.closeHandler=t},setDate:function(t){t.equalsTo(this.date)||this.update(t)},setDateFormat:function(t){this.dateFormat=t},setDateField:function(t){this.dateField=$jot(t)},setRange:function(t,r){this.minYear=t,this.maxYear=r}},window._popupCalendar=null,Date.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date.parseDate=function(t,r){var o=new Date,n=0,a=-1,l=0,u=t.split(/\W+/),c=r.match(/%./g),d=0,p=0,f=0,m=0;for(d=0;d<u.length;++d)if(u[d])switch(c[d]){case"%d":case"%e":l=parseInt(u[d],10);break;case"%m":a=parseInt(u[d],10)-1;break;case"%Y":case"%y":(n=parseInt(u[d],10))<100&&(n+=n>29?1900:2e3);break;case"%b":case"%B":for(p=0;p<12;++p)if(Calendar.MONTH_NAMES[p].substr(0,u[d].length).toLowerCase()==u[d].toLowerCase()){a=p;break}break;case"%H":case"%I":case"%k":case"%l":f=parseInt(u[d],10);break;case"%P":case"%p":/pm/i.test(u[d])&&f<12?f+=12:/am/i.test(u[d])&&f>=12&&(f-=12);break;case"%M":m=parseInt(u[d],10)}if(isNaN(n)&&(n=o.getFullYear()),isNaN(a)&&(a=o.getMonth()),isNaN(l)&&(l=o.getDate()),isNaN(f)&&(f=o.getHours()),isNaN(m)&&(m=o.getMinutes()),0!=n&&-1!=a&&0!=l)return new Date(n,a,l,f,m,0);for(d=0,n=0,a=-1,l=0;d<u.length;++d)if(-1!=u[d].search(/[a-zA-Z]+/)){var h=-1;for(p=0;p<12;++p)if(Calendar.MONTH_NAMES[p].substr(0,u[d].length).toLowerCase()==u[d].toLowerCase()){h=p;break}-1!=h&&(-1!=a&&(l=a+1),a=h)}else 12>=parseInt(u[d],10)&&-1==a?a=u[d]-1:parseInt(u[d],10)>31&&0==n?(n=parseInt(u[d],10))<100&&(n+=n>29?1900:2e3):0==l&&(l=u[d]);return(0==n&&(n=o.getFullYear()),-1!=a&&0!=l)?new Date(n,a,l,f,m,0):o},Date.prototype.getMonthDays=function(t){var r=this.getFullYear();return(void 0===t&&(t=this.getMonth()),0==r%4&&(0!=r%100||0==r%400)&&1==t)?29:Date.DAYS_IN_MONTH[t]},Date.prototype.getDayOfYear=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),r=new Date(this.getFullYear(),0,0,0,0,0);return Math.floor((t-r)/Date.DAY)},Date.prototype.getWeekNumber=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),r=t.getDay();t.setDate(t.getDate()-(r+6)%7+3);var o=t.valueOf();return t.setMonth(0),t.setDate(4),Math.round((o-t.valueOf())/(7*864e5))+1},Date.prototype.equalsTo=function(t){return this.getFullYear()==t.getFullYear()&&this.getMonth()==t.getMonth()&&this.getDate()==t.getDate()&&this.getHours()==t.getHours()&&this.getMinutes()==t.getMinutes()},Date.prototype.setDateOnly=function(t){var r=new Date(t);this.setDate(1),this.setFullYear(r.getFullYear()),this.setMonth(r.getMonth()),this.setDate(r.getDate())},Date.prototype.print=function(t){var r=this.getMonth(),o=this.getDate(),n=this.getFullYear(),a=this.getWeekNumber(),l=this.getDay(),u={},c=this.getHours(),d=c>=12,p=d?c-12:c,f=this.getDayOfYear();0==p&&(p=12);var m=this.getMinutes(),h=this.getSeconds();return u["%a"]=Calendar.SHORT_DAY_NAMES[l],u["%A"]=Calendar.DAY_NAMES[l],u["%b"]=Calendar.SHORT_MONTH_NAMES[r],u["%B"]=Calendar.MONTH_NAMES[r],u["%C"]=1+Math.floor(n/100),u["%d"]=o<10?"0"+o:o,u["%e"]=o,u["%H"]=c<10?"0"+c:c,u["%I"]=p<10?"0"+p:p,u["%j"]=f<100?f<10?"00"+f:"0"+f:f,u["%k"]=c,u["%l"]=p,u["%m"]=r<9?"0"+(1+r):1+r,u["%M"]=m<10?"0"+m:m,u["%n"]="\n",u["%p"]=d?"PM":"AM",u["%P"]=d?"pm":"am",u["%s"]=Math.floor(this.getTime()/1e3),u["%S"]=h<10?"0"+h:h,u["%t"]="	",u["%U"]=u["%W"]=u["%V"]=a<10?"0"+a:a,u["%u"]=l+1,u["%w"]=l,u["%y"]=(""+n).substr(2,2),u["%Y"]=n,u["%%"]="%",t.gsub(/%./,function(t){return u[t]||t})},Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear,Date.prototype.setFullYear=function(t){var r=new Date(this);r.__msh_oldSetFullYear(t),r.getMonth()!=this.getMonth()&&this.setDate(28),this.__msh_oldSetFullYear(t)},JotForm.init(function(){JotForm.alterTexts({alphabetic:"This field can only contain letters",alphanumeric:"This field can only contain letters and numbers.",ccDonationMinLimitError:"Minimum amount is {minAmount} {currency}",ccInvalidCVC:"CVC number is invalid.",ccInvalidExpireDate:"Expire date is invalid.",ccInvalidNumber:"Credit Card Number is invalid.",ccMissingDetails:"Please fill up the Credit Card details.",ccMissingDonation:"Please enter numeric values for donation amount.",ccMissingProduct:"Please select at least one product.",characterLimitError:"Too many Characters. The limit is",characterMinLimitError:"Too few characters. The minimum is",confirmClearForm:"Are you sure you want to clear the form?",confirmEmail:"E-mail does not match",currency:"This field can only contain currency values.",cyrillic:"This field can only contain cyrillic characters",dateInvalid:"This date is not valid. The date format is {format}",dateInvalidSeparate:"This date is not valid. Enter a valid {element}.",dateLimited:"This date is unavailable.",disallowDecimals:"Please enter a whole number.",email:"Enter a valid e-mail address",fillMask:"Field value must fill mask.",freeEmailError:"Free email accounts are not allowed",generalError:"There are errors on the form. Please fix them before continuing.",generalPageError:"There are errors on this page. Please fix them before continuing.",gradingScoreError:"Score total should only be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",inputCarretErrorA:"Input should not be less than the minimum value:",inputCarretErrorB:"Input should not be greater than the maximum value:",lessThan:"Your score should be less than or equal to",maxDigitsError:"The maximum digits allowed is",maxSelectionsError:"The maximum number of selections allowed is",minSelectionsError:"The minimum required number of selections is",multipleFileUploads_emptyError:"{file} is empty, please select files again without it.",multipleFileUploads_fileLimitError:"Only {fileLimit} file uploads allowed.",multipleFileUploads_minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",multipleFileUploads_onLeave:"The files are being uploaded, if you leave now the upload will be cancelled.",multipleFileUploads_sizeError:"{file} is too large, maximum file size is {sizeLimit}.",multipleFileUploads_typeError:"{file} has invalid extension. Only {extensions} are allowed.",nextButtonText:"Next",numeric:"This field can only contain numeric values",pastDatesDisallowed:"Date must not be in the past.",pleaseWait:"Please wait...",prevButtonText:"Previous",progressMiddleText:"of",required:"This field is required.",requireEveryCell:"Every cell is required.",requireEveryRow:"Every row is required.",requireOne:"At least one field required.",reviewBackText:"Back to Form",reviewSubmitText:"Review and Submit",seeAllText:"See All",submissionLimit:"Sorry! Only one entry is allowed. Multiple submissions are disabled for this form.",submitButtonText:"Submit",uploadExtensions:"You can only upload following files:",uploadFilesize:"File size cannot be bigger than:",uploadFilesizemin:"File size cannot be smaller than:",url:"This field can only contain a valid URL",wordLimitError:"Too many words. The limit is",wordMinLimitError:"Too few words. The minimum is"}),JotForm.clearFieldOnHide="disable",setTimeout(function(){JotForm.initMultipleUploads()},2),JotForm.submitError="jumpToFirstError"}),JotForm.prepareCalculationsOnTheFly([null,{name:"heading",qid:"1",text:"Heading",type:"control_head"},{name:"submit2",qid:"2",text:"Submit",type:"control_button"},{name:"photo1",qid:"3",text:"Photo 1",type:"control_fileupload"},{name:"photo2",qid:"4",text:"Photo 2",type:"control_fileupload"},{name:"photo3",qid:"5",text:"Photo 3",type:"control_fileupload"},{name:"fullName",qid:"6",text:"Full Name",type:"control_textbox"},{name:"email",qid:"7",text:"Email",type:"control_email"},{name:"city",qid:"8",text:"City",type:"control_textbox"},{name:"state",qid:"9",text:"State",type:"control_textbox"},{name:"yourStory",qid:"10",text:"Your Story",type:"control_textarea"}]),setTimeout(function(){JotForm.paymentExtrasOnTheFly([null,{name:"heading",qid:"1",text:"Heading",type:"control_head"},{name:"submit2",qid:"2",text:"Submit",type:"control_button"},{name:"photo1",qid:"3",text:"Photo 1",type:"control_fileupload"},{name:"photo2",qid:"4",text:"Photo 2",type:"control_fileupload"},{name:"photo3",qid:"5",text:"Photo 3",type:"control_fileupload"},{name:"fullName",qid:"6",text:"Full Name",type:"control_textbox"},{name:"email",qid:"7",text:"Email",type:"control_email"},{name:"city",qid:"8",text:"City",type:"control_textbox"},{name:"state",qid:"9",text:"State",type:"control_textbox"},{name:"yourStory",qid:"10",text:"Your Story",type:"control_textarea"}])},20);