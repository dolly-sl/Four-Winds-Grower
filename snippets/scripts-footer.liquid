<!-- Begin Constant Contact Active Forms -->
<script> var _ctct_m = "eaa3c7b16a02fe767b8ea372dc801904"; </script>
<script id="signupScript" src="//static.ctctcdn.com/js/signup-form-widget/current/signup-form-widget.min.js" async defer></script>
<!-- End Constant Contact Active Forms -->

<script src="{{ 'lity.js' | asset_url }}" defer></script>
 <!-- Hotjar Tracking Code for Fourwinds Growers -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:3895542,hjsv:6};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
  
  <!-- Yotpo -->
  <script type="text/javascript">
	(function e(){var e=document.createElement("script");e.type="text/javascript",e.async=true,e.src="//staticw2.yotpo.com/iViOFkB7KvjIO4sZd5vGpPlWKwjAUzShOGGZvbra/widget.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();
  </script>

  <script>
  // Lazy load images using Intersection Observer
  document.addEventListener("DOMContentLoaded", function() {
    // Select all elements with the class 'lazy-bg' for background images
    const lazyBackgrounds = [].slice.call(document.querySelectorAll(".lazy-bg"));

    // Select all img elements with the class 'lazy' for regular images
    const lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

    if ("IntersectionObserver" in window) {
      // Observer for lazy loading background images
      let lazyBackgroundObserver = new IntersectionObserver(function(entries, observer) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            let lazyBackground = entry.target;
            lazyBackground.style.backgroundImage = `url('${lazyBackground.dataset.bg}')`;
            lazyBackgroundObserver.unobserve(lazyBackground);
          }
        });
      });

      lazyBackgrounds.forEach(function(lazyBackground) {
        lazyBackgroundObserver.observe(lazyBackground);
      });

      // Observer for lazy loading img elements
      let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            let lazyImage = entry.target;
            lazyImage.src = lazyImage.dataset.src;
            lazyImage.classList.remove("lazy");
            lazyImageObserver.unobserve(lazyImage);
          }
        });
      });

      lazyImages.forEach(function(lazyImage) {
        lazyImageObserver.observe(lazyImage);
      });
    }
  });
</script>